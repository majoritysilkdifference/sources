<!DOCTYPE html>
<!-- Created with https://packager.turbowarp.org/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>2 player battle</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    .control-button {
      width: 2rem;
      height: 2rem;
      padding: 0.375rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      user-select: none;
      -webkit-user-select: none;
      cursor: pointer;
      border: 0;
      border-radius: 4px;
    }
    .control-button:hover {
      background: #ff4c4c26;
    }
    .control-button.active {
      background: #ff4c4c59;
    }
    .fullscreen-button {
      background: white !important;
    }
    .standalone-fullscreen-button {
      position: absolute;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 0 0 0 4px;
      padding: 4px;
      cursor: pointer;
    }
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#4cbf56;stroke:#45993d;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script>/*!
Parts of this script are from the TurboWarp Packager <https://packager.turbowarp.org/>, licensed as follows:
Copyright (C) 2021-2022 Thomas Weber

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

Parts of this script are from Scratch <https://scratch.mit.edu/>, licensed as follows:
Copyright (c) 2016, Massachusetts Institute of Technology
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

!function(A){function t(t){for(var e,i,g=t[0],n=t[1],s=0,r=[];s<g.length;s++)i=g[s],Object.prototype.hasOwnProperty.call(B,i)&&B[i]&&r.push(B[i][0]),B[i]=0;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(A[e]=n[e]);for(o&&o(t);r.length;)r.shift()()}var e={},B={1:0};function i(t){if(e[t])return e[t].exports;var B=e[t]={i:t,l:!1,exports:{}};return A[t].call(B.exports,B,B.exports,i),B.l=!0,B.exports}i.e=function(A){var t=[],e=B[A];if(0!==e)if(e)t.push(e[2]);else{var g=new Promise((function(t,i){e=B[A]=[t,i]}));t.push(e[2]=g);var n,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(A){return i.p+"scaffolding/"+({2:"vendors~iframe-extension-worker"}[A]||A)+".js"}(A);var o=new Error;n=function(t){s.onerror=s.onload=null,clearTimeout(r);var e=B[A];if(0!==e){if(e){var i=t&&("load"===t.type?"missing":t.type),g=t&&t.target&&t.target.src;o.message="Loading chunk "+A+" failed.\n("+i+": "+g+")",o.name="ChunkLoadError",o.type=i,o.request=g,e[1](o)}B[A]=void 0}};var r=setTimeout((function(){n({type:"timeout",target:s})}),12e4);s.onerror=s.onload=n,document.head.appendChild(s)}return Promise.all(t)},i.m=A,i.c=e,i.d=function(A,t,e){i.o(A,t)||Object.defineProperty(A,t,{enumerable:!0,get:e})},i.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},i.t=function(A,t){if(1&t&&(A=i(A)),8&t)return A;if(4&t&&"object"==typeof A&&A&&A.__esModule)return A;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:A}),2&t&&"string"!=typeof A)for(var B in A)i.d(e,B,function(t){return A[t]}.bind(null,B));return e},i.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return i.d(t,"a",t),t},i.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},i.p="",i.oe=function(A){throw console.error(A),A};var g=window.webpackJsonp=window.webpackJsonp||[],n=g.push.bind(g);g.push=t,g=g.slice();for(var s=0;s<g.length;s++)t(g[s]);var o=n;i(i.s=458)}([function(A,t,e){var B=e(40),i=e(104),g=e(41),n=g.TYPE,s=e(102),o=s.isNewline,r=s.isName,Q=s.isValidEscape,a=s.isNumberStart,c=s.isIdentifierStart,E=s.charCodeCategory,C=s.isBOM,w=e(29),I=w.cmpStr,l=w.getNewlineLength,M=w.findWhiteSpaceEnd,h=w.consumeEscaped,Y=w.consumeName,D=w.consumeNumber,u=w.consumeBadUrlRemnants;function d(A,t){function e(t){return t<d?A.charCodeAt(t):0}function g(){return G=D(A,G),c(e(G),e(G+1),e(G+2))?(k=n.Dimension,void(G=Y(A,G))):37===e(G)?(k=n.Percentage,void G++):void(k=n.Number)}function s(){const t=G;return G=Y(A,G),I(A,t,G,"url")&&40===e(G)?34===e(G=M(A,G+1))||39===e(G)?(k=n.Function,void(G=t+4)):void function(){for(k=n.Url,G=M(A,G);G<A.length;G++){var t=A.charCodeAt(G);switch(E(t)){case 41:return void G++;case E.Eof:return;case E.WhiteSpace:return 41===e(G=M(A,G))||G>=A.length?void(G<A.length&&G++):(G=u(A,G),void(k=n.BadUrl));case 34:case 39:case 40:case E.NonPrintable:return G=u(A,G),void(k=n.BadUrl);case 92:if(Q(t,e(G+1))){G=h(A,G)-1;break}return G=u(A,G),void(k=n.BadUrl)}}}():40===e(G)?(k=n.Function,void G++):void(k=n.Ident)}function w(t){for(t||(t=e(G++)),k=n.String;G<A.length;G++){var B=A.charCodeAt(G);switch(E(B)){case t:return void G++;case E.Eof:return;case E.WhiteSpace:if(o(B))return G+=l(A,G,B),void(k=n.BadString);break;case 92:if(G===A.length-1)break;var i=e(G+1);o(i)?G+=l(A,G+1,i):Q(B,i)&&(G=h(A,G)-1)}}}t||(t=new B);for(var d=(A=String(A||"")).length,F=i(t.offsetAndType,d+1),m=i(t.balance,d+1),U=0,p=C(e(0)),G=p,N=0,y=0,f=0;G<d;){var R=A.charCodeAt(G),k=0;switch(m[U]=d,E(R)){case E.WhiteSpace:k=n.WhiteSpace,G=M(A,G+1);break;case 34:w();break;case 35:r(e(G+1))||Q(e(G+1),e(G+2))?(k=n.Hash,G=Y(A,G+1)):(k=n.Delim,G++);break;case 39:w();break;case 40:k=n.LeftParenthesis,G++;break;case 41:k=n.RightParenthesis,G++;break;case 43:a(R,e(G+1),e(G+2))?g():(k=n.Delim,G++);break;case 44:k=n.Comma,G++;break;case 45:a(R,e(G+1),e(G+2))?g():45===e(G+1)&&62===e(G+2)?(k=n.CDC,G+=3):c(R,e(G+1),e(G+2))?s():(k=n.Delim,G++);break;case 46:a(R,e(G+1),e(G+2))?g():(k=n.Delim,G++);break;case 47:42===e(G+1)?(k=n.Comment,1===(G=A.indexOf("*/",G+2)+2)&&(G=A.length)):(k=n.Delim,G++);break;case 58:k=n.Colon,G++;break;case 59:k=n.Semicolon,G++;break;case 60:33===e(G+1)&&45===e(G+2)&&45===e(G+3)?(k=n.CDO,G+=4):(k=n.Delim,G++);break;case 64:c(e(G+1),e(G+2),e(G+3))?(k=n.AtKeyword,G=Y(A,G+1)):(k=n.Delim,G++);break;case 91:k=n.LeftSquareBracket,G++;break;case 92:Q(R,e(G+1))?s():(k=n.Delim,G++);break;case 93:k=n.RightSquareBracket,G++;break;case 123:k=n.LeftCurlyBracket,G++;break;case 125:k=n.RightCurlyBracket,G++;break;case E.Digit:g();break;case E.NameStart:s();break;case E.Eof:break;default:k=n.Delim,G++}switch(k){case N:for(N=(y=m[f=16777215&y])>>24,m[U]=f,m[f++]=U;f<U;f++)m[f]===d&&(m[f]=U);break;case n.LeftParenthesis:case n.Function:m[U]=y,y=(N=n.RightParenthesis)<<24|U;break;case n.LeftSquareBracket:m[U]=y,y=(N=n.RightSquareBracket)<<24|U;break;case n.LeftCurlyBracket:m[U]=y,y=(N=n.RightCurlyBracket)<<24|U}F[U++]=k<<24|G}for(F[U]=n.EOF<<24|G,m[U]=d,m[d]=d;0!==y;)y=m[f=16777215&y],m[f]=d;return t.source=A,t.firstCharOffset=p,t.offsetAndType=F,t.tokenCount=U,t.balance=m,t.reset(),t.next(),t}Object.keys(g).forEach((function(A){d[A]=g[A]})),Object.keys(s).forEach((function(A){d[A]=s[A]})),Object.keys(w).forEach((function(A){d[A]=w[A]})),A.exports=d},function(A,t,e){const B=e(26);B.enable(),A.exports=B("vm")},function(A,t,e){const B=e(27),i=A=>{if("string"!=typeof A)return!1;for(let t=0;t<A.length;t++){const e=A.charCodeAt(t);if(48===e||9===e)return!1}return!0};class g{static toNumber(A){if("number"==typeof A)return Number.isNaN(A)?0:A;const t=Number(A);return Number.isNaN(t)?0:t}static toBoolean(A){return"boolean"==typeof A?A:"string"==typeof A?""!==A&&"0"!==A&&"false"!==A.toLowerCase():Boolean(A)}static toString(A){return String(A)}static toRgbColorList(A){const t=g.toRgbColorObject(A);return[t.r,t.g,t.b]}static toRgbColorObject(A){let t;return"string"==typeof A&&"#"===A.substring(0,1)?(t=B.hexToRgb(A),t||(t={r:0,g:0,b:0,a:255})):t=B.decimalToRgb(g.toNumber(A)),t}static isWhiteSpace(A){return null===A||"string"==typeof A&&0===A.trim().length}static compare(A,t){let e=Number(A),B=Number(t);if(0===e&&i(A)?e=NaN:0===B&&i(t)&&(B=NaN),isNaN(e)||isNaN(B)){const e=String(A).toLowerCase(),B=String(t).toLowerCase();return e<B?-1:e>B?1:0}return e===1/0&&B===1/0||e===-1/0&&B===-1/0?0:e-B}static isInt(A){return"number"==typeof A?!!isNaN(A)||A===Math.floor(A):"boolean"==typeof A||"string"==typeof A&&A.indexOf(".")<0}static get LIST_INVALID(){return"INVALID"}static get LIST_ALL(){return"ALL"}static toListIndex(A,t,e){if("number"!=typeof A){if("all"===A)return e?g.LIST_ALL:g.LIST_INVALID;if("last"===A)return t>0?t:g.LIST_INVALID;if("random"===A||"any"===A)return t>0?1+Math.floor(Math.random()*t):g.LIST_INVALID}return(A=Math.floor(g.toNumber(A)))<1||A>t?g.LIST_INVALID:A}}A.exports=g},function(A,t){A.exports={BOOLEAN:"Boolean",BUTTON:"button",LABEL:"label",COMMAND:"command",CONDITIONAL:"conditional",EVENT:"event",HAT:"hat",LOOP:"loop",REPORTER:"reporter",XML:"xml"}},function(A,t){A.exports={ANGLE:"angle",BOOLEAN:"Boolean",COLOR:"color",NUMBER:"number",STRING:"string",MATRIX:"matrix",NOTE:"note",IMAGE:"image",COSTUME:"costume",SOUND:"sound"}},function(A,t){A.exports=class{static degToRad(A){return A*Math.PI/180}static radToDeg(A){return 180*A/Math.PI}static clamp(A,t,e){return Math.min(Math.max(A,t),e)}static wrapClamp(A,t,e){const B=e-t+1;return A-Math.floor((A-t)/B)*B}static tan(A){switch(A%=360){case-270:case 90:return 1/0;case-90:case 270:return-1/0;default:return Math.round(1e10*Math.tan(Math.PI*A/180))/1e10}}static reducedSortOrdering(A){const t=A.slice(0).sort((A,t)=>A-t);return A.map(A=>t.indexOf(A))}static inclusiveRandIntWithout(A,t,e){const B=t-A,i=A+Math.floor(Math.random()*B);return i>=e?i+1:i}static scale(A,t,e,B,i){return(A-t)/(e-t)*(i-B)+B}}},function(A,t,e){"use strict";var B=e(155),i=e(156),g=e(75),n=e(74),s=e(73);function o(A,t){return Object.keys(t).forEach((function(e){A[e]=t[e]})),A}A.exports=function A(){var t=o({},s),e="en",r={},Q=function(A){return A},a=null,c="warning",E={};function C(A,t,g){var n="string"==typeof A?A:A.default,s=l(n,"object"==typeof A&&A.id||Q(n),g||e);return(s.format||(s.format=i(B(s.message),g||e,E)))(t)}C.rich=function(A,t,g){var n="string"==typeof A?A:A.default,s=l(n,"object"==typeof A&&A.id||Q(n),g||e);return(s.toParts||(s.toParts=i.toParts(B(s.message,{tagsType:w}),g||e,E)))(t)};var w="<>";function I(A,t){var e=A[2];return function(A,t){var B="object"==typeof e?function(A,t){return Object.keys(A).reduce((function(e,B){return e[B]=A[B](t),e}),{})}(e,t):e;return"function"==typeof A?A(B):A}}function l(A,t,e){var B=n(e,r)||"en",i=r[B]||(r[B]={}),g=i[t];if("string"==typeof g&&(g=i[t]={message:g}),!g){var s='Translation for "'+t+'" in "'+B+'" is missing';if("warning"===c)"undefined"!=typeof console&&console.warn(s);else if("ignore"!==c)throw new Error(s);var o="function"==typeof a?a(A,t,B)||A:a||A;g=i[t]={message:o}}return g}function M(A,t,B,i,s){"object"==typeof B&&"object"!=typeof i&&(s=i,i=B,B=0);var o=n(s||e,g),r=o&&g[o][A]||h;return i["="+ +t]||i[r(t-B)]||i.other}function h(){return"other"}return E[w]=I,C.setup=function(A){return(A=A||{}).locale&&(e=A.locale),"translations"in A&&(r=A.translations||{}),A.generateId&&(Q=A.generateId),"missingReplacement"in A&&(a=A.missingReplacement),A.missingTranslation&&(c=A.missingTranslation),A.formats&&(A.formats.number&&o(t.number,A.formats.number),A.formats.date&&o(t.date,A.formats.date),A.formats.time&&o(t.time,A.formats.time)),A.types&&((E=A.types)[w]=I),{locale:e,translations:r,generateId:Q,missingReplacement:a,missingTranslation:c,formats:t,types:E}},C.number=function(A,B,i){var g=B&&t.number[B]||t.parseNumberPattern(B)||t.number.default;return new Intl.NumberFormat(i||e,g).format(A)},C.date=function(A,B,i){var g=B&&t.date[B]||t.parseDatePattern(B)||t.date.default;return new Intl.DateTimeFormat(i||e,g).format(A)},C.time=function(A,B,i){var g=B&&t.time[B]||t.parseDatePattern(B)||t.time.default;return new Intl.DateTimeFormat(i||e,g).format(A)},C.select=function(A,t){return t[A]||t.other},C.custom=function(A,t,e,B){return A[1]in E?E[A[1]](A,t)(e,B):e},C.plural=M.bind(null,"cardinal"),C.selectordinal=M.bind(null,"ordinal"),C.namespace=A,C}()},function(A,t,e){const B=e(1);class i{static withoutTrailingDigits(A){let t=A.length-1;for(;t>=0&&"0123456789".indexOf(A.charAt(t))>-1;)t--;return A.slice(0,t+1)}static unusedName(A,t){if(t.indexOf(A)<0)return A;A=i.withoutTrailingDigits(A);let e=2;for(;t.indexOf(A+e)>=0;)e++;return A+e}static splitFirst(A,t){const e=A.indexOf(t);return e>=0?[A.substring(0,e),A.substring(e+1)]:[A,null]}static stringify(A){return JSON.stringify(A,(A,t)=>"number"!=typeof t||t!==1/0&&t!==-1/0&&!isNaN(t)?t:0)}static replaceUnsafeChars(A){if("string"!=typeof A){if(!Array.isArray(A))return B.error("Unexpected input recieved in replaceUnsafeChars"),A;A=String(A)}return A.replace(/[<>&'"]/g,A=>{switch(A){case"<":return"lt";case">":return"gt";case"&":return"amp";case"'":return"apos";case'"':return"quot"}})}}A.exports=i},function(A,t,e){"use strict";e.d(t,"b",(function(){return B})),e.d(t,"a",(function(){return i}));class B{constructor(){this._events={}}addEventListener(A,t){this._events[A]||(this._events[A]=[]),this._events[A].push(t)}removeEventListener(A,t){const e=this._events[A];e&&(this._events[A]=e.filter(A=>A!==t))}dispatchEvent(A){const t=this._events[A.type];if(t)for(const e of t)e(A)}}class i{constructor(A,t){this.type=A,this.detail=t?t.detail:{}}}},function(A,t){const e="!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";A.exports=function(){const A=e.length,t=[];for(let B=0;B<20;B++)t[B]=e.charAt(Math.random()*A);return t.join("")}},function(A,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(A){"object"==typeof window&&(e=window)}A.exports=e},function(A,t,e){const B=e(9),i=e(35);class g{constructor(A,t,e,i){switch(this.id=A||B(),this.name=t,this.type=e,this.isCloud=i,this.type){case g.SCALAR_TYPE:this.value=0;break;case g.LIST_TYPE:this.value=[];break;case g.BROADCAST_MESSAGE_TYPE:this.value=this.name;break;default:throw new Error("Invalid variable type: ".concat(this.type))}}toXML(A){return A=!0===A,'<variable type="'.concat(this.type,'" id="').concat(this.id,'" islocal="').concat(A,'" iscloud="').concat(this.isCloud,'">').concat(i(this.name),"</variable>")}static get SCALAR_TYPE(){return""}static get LIST_TYPE(){return"list"}static get BROADCAST_MESSAGE_TYPE(){return"broadcast_msg"}}A.exports=g},function(A,t,e){"use strict";e.r(t),e.d(t,"addExtensionsToContext",(function(){return uB})),e.d(t,"attributes",(function(){return tA})),e.d(t,"bindFramebufferInfo",(function(){return aB})),e.d(t,"bindTransformFeedbackInfo",(function(){return ke})),e.d(t,"bindUniformBlock",(function(){return je})),e.d(t,"canFilter",(function(){return It})),e.d(t,"canGenerateMipmap",(function(){return wt})),e.d(t,"createAttribsFromArrays",(function(){return q})),e.d(t,"createAttributeSetters",(function(){return Le})),e.d(t,"createBufferFromArray",(function(){return $})),e.d(t,"createBufferFromTypedArray",(function(){return T})),e.d(t,"createBufferInfoFromArrays",(function(){return _})),e.d(t,"createBuffersFromArrays",(function(){return AA})),e.d(t,"createFramebufferInfo",(function(){return rB})),e.d(t,"createProgram",(function(){return Ye})),e.d(t,"createProgramAsync",(function(){return ue})),e.d(t,"createProgramFromScripts",(function(){return Ue})),e.d(t,"createProgramFromSources",(function(){return pe})),e.d(t,"createProgramInfo",(function(){return Ze})),e.d(t,"createProgramInfoAsync",(function(){return de})),e.d(t,"createProgramInfoFromProgram",(function(){return Oe})),e.d(t,"createProgramInfos",(function(){return $e})),e.d(t,"createProgramInfosAsync",(function(){return tB})),e.d(t,"createPrograms",(function(){return _e})),e.d(t,"createProgramsAsync",(function(){return AB})),e.d(t,"createSampler",(function(){return pt})),e.d(t,"createSamplers",(function(){return Gt})),e.d(t,"createTexture",(function(){return Kt})),e.d(t,"createTextures",(function(){return vt})),e.d(t,"createTransformFeedback",(function(){return Se})),e.d(t,"createTransformFeedbackInfo",(function(){return Re})),e.d(t,"createUniformBlockInfo",(function(){return Te})),e.d(t,"createUniformBlockInfoFromProgram",(function(){return He})),e.d(t,"createUniformBlockSpecFromProgram",(function(){return Je})),e.d(t,"createUniformSetters",(function(){return fe})),e.d(t,"createVAOAndSetAttributes",(function(){return CB})),e.d(t,"createVAOFromBufferInfo",(function(){return wB})),e.d(t,"createVertexArrayInfo",(function(){return EB})),e.d(t,"draw",(function(){return gB})),e.d(t,"drawBufferInfo",(function(){return BB})),e.d(t,"drawObjectList",(function(){return iB})),e.d(t,"framebuffers",(function(){return cB})),e.d(t,"getArray_",(function(){return b})),e.d(t,"getBytesPerElementForInternalFormat",(function(){return ct})),e.d(t,"getContext",(function(){return FB})),e.d(t,"getFormatAndTypeForInternalFormat",(function(){return Et})),e.d(t,"getGLTypeForTypedArray",(function(){return u})),e.d(t,"getGLTypeForTypedArrayType",(function(){return d})),e.d(t,"getNumComponentsForFormat",(function(){return lt})),e.d(t,"getNumComponents_",(function(){return W})),e.d(t,"getTypedArrayTypeForGLType",(function(){return F})),e.d(t,"getWebGLContext",(function(){return dB})),e.d(t,"glEnumToString",(function(){return et})),e.d(t,"isArrayBuffer",(function(){return m})),e.d(t,"isWebGL1",(function(){return tt})),e.d(t,"isWebGL2",(function(){return At})),e.d(t,"loadTextureFromUrl",(function(){return jt})),e.d(t,"m4",(function(){return Y})),e.d(t,"primitives",(function(){return $A})),e.d(t,"programs",(function(){return eB})),e.d(t,"resizeCanvasToDisplaySize",(function(){return mB})),e.d(t,"resizeFramebufferInfo",(function(){return QB})),e.d(t,"resizeTexture",(function(){return Lt})),e.d(t,"setAttribInfoBufferFromArray",(function(){return Z})),e.d(t,"setAttributeDefaults_",(function(){return x})),e.d(t,"setAttributePrefix",(function(){return J})),e.d(t,"setAttributes",(function(){return ve})),e.d(t,"setBlockUniforms",(function(){return Ve})),e.d(t,"setBuffersAndAttributes",(function(){return Pe})),e.d(t,"setDefaultTextureColor",(function(){return Yt})),e.d(t,"setDefaults",(function(){return MB})),e.d(t,"setEmptyTexture",(function(){return Wt})),e.d(t,"setSamplerParameters",(function(){return Ut})),e.d(t,"setTextureDefaults_",(function(){return Dt})),e.d(t,"setTextureFilteringForSize",(function(){return Nt})),e.d(t,"setTextureFromArray",(function(){return zt})),e.d(t,"setTextureFromElement",(function(){return kt})),e.d(t,"setTextureParameters",(function(){return mt})),e.d(t,"setUniformBlock",(function(){return be})),e.d(t,"setUniforms",(function(){return We})),e.d(t,"setUniformsAndBindTextures",(function(){return Ke})),e.d(t,"textures",(function(){return Pt})),e.d(t,"typedarrays",(function(){return U})),e.d(t,"utils",(function(){return Bt})),e.d(t,"v3",(function(){return Q})),e.d(t,"vertexArrays",(function(){return IB}));
/* @license twgl.js 5.5.3 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */
let B=Float32Array;function i(A,t,e){const i=new B(3);return A&&(i[0]=A),t&&(i[1]=t),e&&(i[2]=e),i}function g(A,t,e){return(e=e||new B(3))[0]=A[0]+t[0],e[1]=A[1]+t[1],e[2]=A[2]+t[2],e}function n(A,t,e){return(e=e||new B(3))[0]=A[0]-t[0],e[1]=A[1]-t[1],e[2]=A[2]-t[2],e}function s(A,t,e){e=e||new B(3);const i=A[2]*t[0]-A[0]*t[2],g=A[0]*t[1]-A[1]*t[0];return e[0]=A[1]*t[2]-A[2]*t[1],e[1]=i,e[2]=g,e}function o(A,t){t=t||new B(3);const e=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],i=Math.sqrt(e);return i>1e-5?(t[0]=A[0]/i,t[1]=A[1]/i,t[2]=A[2]/i):(t[0]=0,t[1]=0,t[2]=0),t}function r(A,t,e){return(e=e||new B(3))[0]=A[0]*t[0],e[1]=A[1]*t[1],e[2]=A[2]*t[2],e}var Q=Object.freeze({__proto__:null,add:g,copy:function(A,t){return(t=t||new B(3))[0]=A[0],t[1]=A[1],t[2]=A[2],t},create:i,cross:s,distance:function(A,t){const e=A[0]-t[0],B=A[1]-t[1],i=A[2]-t[2];return Math.sqrt(e*e+B*B+i*i)},distanceSq:function(A,t){const e=A[0]-t[0],B=A[1]-t[1],i=A[2]-t[2];return e*e+B*B+i*i},divide:function(A,t,e){return(e=e||new B(3))[0]=A[0]/t[0],e[1]=A[1]/t[1],e[2]=A[2]/t[2],e},divScalar:function(A,t,e){return(e=e||new B(3))[0]=A[0]/t,e[1]=A[1]/t,e[2]=A[2]/t,e},dot:function(A,t){return A[0]*t[0]+A[1]*t[1]+A[2]*t[2]},lerp:function(A,t,e,i){return(i=i||new B(3))[0]=A[0]+e*(t[0]-A[0]),i[1]=A[1]+e*(t[1]-A[1]),i[2]=A[2]+e*(t[2]-A[2]),i},lerpV:function(A,t,e,i){return(i=i||new B(3))[0]=A[0]+e[0]*(t[0]-A[0]),i[1]=A[1]+e[1]*(t[1]-A[1]),i[2]=A[2]+e[2]*(t[2]-A[2]),i},length:function(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1]+A[2]*A[2])},lengthSq:function(A){return A[0]*A[0]+A[1]*A[1]+A[2]*A[2]},max:function(A,t,e){return(e=e||new B(3))[0]=Math.max(A[0],t[0]),e[1]=Math.max(A[1],t[1]),e[2]=Math.max(A[2],t[2]),e},min:function(A,t,e){return(e=e||new B(3))[0]=Math.min(A[0],t[0]),e[1]=Math.min(A[1],t[1]),e[2]=Math.min(A[2],t[2]),e},mulScalar:function(A,t,e){return(e=e||new B(3))[0]=A[0]*t,e[1]=A[1]*t,e[2]=A[2]*t,e},multiply:r,negate:function(A,t){return(t=t||new B(3))[0]=-A[0],t[1]=-A[1],t[2]=-A[2],t},normalize:o,setDefaultType:function(A){const t=B;return B=A,t},subtract:n});let a,c,E,C=Float32Array;function w(A,t){return(t=t||new C(16))[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t[4]=A[4],t[5]=A[5],t[6]=A[6],t[7]=A[7],t[8]=A[8],t[9]=A[9],t[10]=A[10],t[11]=A[11],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15],t}function I(A){return(A=A||new C(16))[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function l(A,t){t=t||new C(16);const e=A[0],B=A[1],i=A[2],g=A[3],n=A[4],s=A[5],o=A[6],r=A[7],Q=A[8],a=A[9],c=A[10],E=A[11],w=A[12],I=A[13],l=A[14],M=A[15],h=c*M,Y=l*E,D=o*M,u=l*r,d=o*E,F=c*r,m=i*M,U=l*g,p=i*E,G=c*g,N=i*r,y=o*g,f=Q*I,R=w*a,k=n*I,S=w*s,J=n*a,x=Q*s,H=e*I,T=w*B,j=e*a,b=Q*B,V=e*s,z=n*B,W=h*s+u*a+d*I-(Y*s+D*a+F*I),K=Y*B+m*a+G*I-(h*B+U*a+p*I),L=D*B+U*s+N*I-(u*B+m*s+y*I),v=F*B+p*s+y*a-(d*B+G*s+N*a),P=1/(e*W+n*K+Q*L+w*v);return t[0]=P*W,t[1]=P*K,t[2]=P*L,t[3]=P*v,t[4]=P*(Y*n+D*Q+F*w-(h*n+u*Q+d*w)),t[5]=P*(h*e+U*Q+p*w-(Y*e+m*Q+G*w)),t[6]=P*(u*e+m*n+y*w-(D*e+U*n+N*w)),t[7]=P*(d*e+G*n+N*Q-(F*e+p*n+y*Q)),t[8]=P*(f*r+S*E+J*M-(R*r+k*E+x*M)),t[9]=P*(R*g+H*E+b*M-(f*g+T*E+j*M)),t[10]=P*(k*g+T*r+V*M-(S*g+H*r+z*M)),t[11]=P*(x*g+j*r+z*E-(J*g+b*r+V*E)),t[12]=P*(k*c+x*l+R*o-(J*l+f*o+S*c)),t[13]=P*(j*l+f*i+T*c-(H*c+b*l+R*i)),t[14]=P*(H*o+z*l+S*i-(V*l+k*i+T*o)),t[15]=P*(V*c+J*i+b*o-(j*o+z*c+x*i)),t}function M(A,t,e){e=e||i();const B=t[0],g=t[1],n=t[2],s=B*A[3]+g*A[7]+n*A[11]+A[15];return e[0]=(B*A[0]+g*A[4]+n*A[8]+A[12])/s,e[1]=(B*A[1]+g*A[5]+n*A[9]+A[13])/s,e[2]=(B*A[2]+g*A[6]+n*A[10]+A[14])/s,e}function h(A,t,e){e=e||i();const B=t[0],g=t[1],n=t[2];return e[0]=B*A[0]+g*A[4]+n*A[8],e[1]=B*A[1]+g*A[5]+n*A[9],e[2]=B*A[2]+g*A[6]+n*A[10],e}var Y=Object.freeze({__proto__:null,axisRotate:function(A,t,e,B){B=B||new C(16);let i=t[0],g=t[1],n=t[2];const s=Math.sqrt(i*i+g*g+n*n);i/=s,g/=s,n/=s;const o=i*i,r=g*g,Q=n*n,a=Math.cos(e),c=Math.sin(e),E=1-a,w=o+(1-o)*a,I=i*g*E+n*c,l=i*n*E-g*c,M=i*g*E-n*c,h=r+(1-r)*a,Y=g*n*E+i*c,D=i*n*E+g*c,u=g*n*E-i*c,d=Q+(1-Q)*a,F=A[0],m=A[1],U=A[2],p=A[3],G=A[4],N=A[5],y=A[6],f=A[7],R=A[8],k=A[9],S=A[10],J=A[11];return B[0]=w*F+I*G+l*R,B[1]=w*m+I*N+l*k,B[2]=w*U+I*y+l*S,B[3]=w*p+I*f+l*J,B[4]=M*F+h*G+Y*R,B[5]=M*m+h*N+Y*k,B[6]=M*U+h*y+Y*S,B[7]=M*p+h*f+Y*J,B[8]=D*F+u*G+d*R,B[9]=D*m+u*N+d*k,B[10]=D*U+u*y+d*S,B[11]=D*p+u*f+d*J,A!==B&&(B[12]=A[12],B[13]=A[13],B[14]=A[14],B[15]=A[15]),B},axisRotation:function(A,t,e){e=e||new C(16);let B=A[0],i=A[1],g=A[2];const n=Math.sqrt(B*B+i*i+g*g);B/=n,i/=n,g/=n;const s=B*B,o=i*i,r=g*g,Q=Math.cos(t),a=Math.sin(t),c=1-Q;return e[0]=s+(1-s)*Q,e[1]=B*i*c+g*a,e[2]=B*g*c-i*a,e[3]=0,e[4]=B*i*c-g*a,e[5]=o+(1-o)*Q,e[6]=i*g*c+B*a,e[7]=0,e[8]=B*g*c+i*a,e[9]=i*g*c-B*a,e[10]=r+(1-r)*Q,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},copy:w,create:function(){return new C(16).fill(0)},frustum:function(A,t,e,B,i,g,n){const s=t-A,o=B-e,r=i-g;return(n=n||new C(16))[0]=2*i/s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*i/o,n[6]=0,n[7]=0,n[8]=(A+t)/s,n[9]=(B+e)/o,n[10]=g/r,n[11]=-1,n[12]=0,n[13]=0,n[14]=i*g/r,n[15]=0,n},getAxis:function(A,t,e){const B=4*t;return(e=e||i())[0]=A[B+0],e[1]=A[B+1],e[2]=A[B+2],e},getTranslation:function(A,t){return(t=t||i())[0]=A[12],t[1]=A[13],t[2]=A[14],t},identity:I,inverse:l,lookAt:function(A,t,e,B){return B=B||new C(16),a=a||i(),c=c||i(),E=E||i(),o(n(A,t,E),E),o(s(e,E,a),a),o(s(E,a,c),c),B[0]=a[0],B[1]=a[1],B[2]=a[2],B[3]=0,B[4]=c[0],B[5]=c[1],B[6]=c[2],B[7]=0,B[8]=E[0],B[9]=E[1],B[10]=E[2],B[11]=0,B[12]=A[0],B[13]=A[1],B[14]=A[2],B[15]=1,B},multiply:function(A,t,e){e=e||new C(16);const B=A[0],i=A[1],g=A[2],n=A[3],s=A[4],o=A[5],r=A[6],Q=A[7],a=A[8],c=A[9],E=A[10],w=A[11],I=A[12],l=A[13],M=A[14],h=A[15],Y=t[0],D=t[1],u=t[2],d=t[3],F=t[4],m=t[5],U=t[6],p=t[7],G=t[8],N=t[9],y=t[10],f=t[11],R=t[12],k=t[13],S=t[14],J=t[15];return e[0]=B*Y+s*D+a*u+I*d,e[1]=i*Y+o*D+c*u+l*d,e[2]=g*Y+r*D+E*u+M*d,e[3]=n*Y+Q*D+w*u+h*d,e[4]=B*F+s*m+a*U+I*p,e[5]=i*F+o*m+c*U+l*p,e[6]=g*F+r*m+E*U+M*p,e[7]=n*F+Q*m+w*U+h*p,e[8]=B*G+s*N+a*y+I*f,e[9]=i*G+o*N+c*y+l*f,e[10]=g*G+r*N+E*y+M*f,e[11]=n*G+Q*N+w*y+h*f,e[12]=B*R+s*k+a*S+I*J,e[13]=i*R+o*k+c*S+l*J,e[14]=g*R+r*k+E*S+M*J,e[15]=n*R+Q*k+w*S+h*J,e},negate:function(A,t){return(t=t||new C(16))[0]=-A[0],t[1]=-A[1],t[2]=-A[2],t[3]=-A[3],t[4]=-A[4],t[5]=-A[5],t[6]=-A[6],t[7]=-A[7],t[8]=-A[8],t[9]=-A[9],t[10]=-A[10],t[11]=-A[11],t[12]=-A[12],t[13]=-A[13],t[14]=-A[14],t[15]=-A[15],t},ortho:function(A,t,e,B,i,g,n){return(n=n||new C(16))[0]=2/(t-A),n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2/(B-e),n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2/(i-g),n[11]=0,n[12]=(t+A)/(A-t),n[13]=(B+e)/(e-B),n[14]=(g+i)/(i-g),n[15]=1,n},perspective:function(A,t,e,B,i){i=i||new C(16);const g=Math.tan(.5*Math.PI-.5*A),n=1/(e-B);return i[0]=g/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=g,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(e+B)*n,i[11]=-1,i[12]=0,i[13]=0,i[14]=e*B*n*2,i[15]=0,i},rotateX:function(A,t,e){e=e||new C(16);const B=A[4],i=A[5],g=A[6],n=A[7],s=A[8],o=A[9],r=A[10],Q=A[11],a=Math.cos(t),c=Math.sin(t);return e[4]=a*B+c*s,e[5]=a*i+c*o,e[6]=a*g+c*r,e[7]=a*n+c*Q,e[8]=a*s-c*B,e[9]=a*o-c*i,e[10]=a*r-c*g,e[11]=a*Q-c*n,A!==e&&(e[0]=A[0],e[1]=A[1],e[2]=A[2],e[3]=A[3],e[12]=A[12],e[13]=A[13],e[14]=A[14],e[15]=A[15]),e},rotateY:function(A,t,e){e=e||new C(16);const B=A[0],i=A[1],g=A[2],n=A[3],s=A[8],o=A[9],r=A[10],Q=A[11],a=Math.cos(t),c=Math.sin(t);return e[0]=a*B-c*s,e[1]=a*i-c*o,e[2]=a*g-c*r,e[3]=a*n-c*Q,e[8]=a*s+c*B,e[9]=a*o+c*i,e[10]=a*r+c*g,e[11]=a*Q+c*n,A!==e&&(e[4]=A[4],e[5]=A[5],e[6]=A[6],e[7]=A[7],e[12]=A[12],e[13]=A[13],e[14]=A[14],e[15]=A[15]),e},rotateZ:function(A,t,e){e=e||new C(16);const B=A[0],i=A[1],g=A[2],n=A[3],s=A[4],o=A[5],r=A[6],Q=A[7],a=Math.cos(t),c=Math.sin(t);return e[0]=a*B+c*s,e[1]=a*i+c*o,e[2]=a*g+c*r,e[3]=a*n+c*Q,e[4]=a*s-c*B,e[5]=a*o-c*i,e[6]=a*r-c*g,e[7]=a*Q-c*n,A!==e&&(e[8]=A[8],e[9]=A[9],e[10]=A[10],e[11]=A[11],e[12]=A[12],e[13]=A[13],e[14]=A[14],e[15]=A[15]),e},rotationX:function(A,t){t=t||new C(16);const e=Math.cos(A),B=Math.sin(A);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=B,t[7]=0,t[8]=0,t[9]=-B,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotationY:function(A,t){t=t||new C(16);const e=Math.cos(A),B=Math.sin(A);return t[0]=e,t[1]=0,t[2]=-B,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=B,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rotationZ:function(A,t){t=t||new C(16);const e=Math.cos(A),B=Math.sin(A);return t[0]=e,t[1]=B,t[2]=0,t[3]=0,t[4]=-B,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},scale:function(A,t,e){e=e||new C(16);const B=t[0],i=t[1],g=t[2];return e[0]=B*A[0],e[1]=B*A[1],e[2]=B*A[2],e[3]=B*A[3],e[4]=i*A[4],e[5]=i*A[5],e[6]=i*A[6],e[7]=i*A[7],e[8]=g*A[8],e[9]=g*A[9],e[10]=g*A[10],e[11]=g*A[11],A!==e&&(e[12]=A[12],e[13]=A[13],e[14]=A[14],e[15]=A[15]),e},scaling:function(A,t){return(t=t||new C(16))[0]=A[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=A[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=A[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},setAxis:function(A,t,e,B){B!==A&&(B=w(A,B));const i=4*e;return B[i+0]=t[0],B[i+1]=t[1],B[i+2]=t[2],B},setDefaultType:function(A){const t=C;return C=A,t},setTranslation:function(A,t,e){return A!==(e=e||I())&&(e[0]=A[0],e[1]=A[1],e[2]=A[2],e[3]=A[3],e[4]=A[4],e[5]=A[5],e[6]=A[6],e[7]=A[7],e[8]=A[8],e[9]=A[9],e[10]=A[10],e[11]=A[11]),e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},transformDirection:h,transformNormal:function(A,t,e){e=e||i();const B=l(A),g=t[0],n=t[1],s=t[2];return e[0]=g*B[0]+n*B[1]+s*B[2],e[1]=g*B[4]+n*B[5]+s*B[6],e[2]=g*B[8]+n*B[9]+s*B[10],e},transformPoint:M,translate:function(A,t,e){e=e||new C(16);const B=t[0],i=t[1],g=t[2],n=A[0],s=A[1],o=A[2],r=A[3],Q=A[4],a=A[5],c=A[6],E=A[7],w=A[8],I=A[9],l=A[10],M=A[11],h=A[12],Y=A[13],D=A[14],u=A[15];return A!==e&&(e[0]=n,e[1]=s,e[2]=o,e[3]=r,e[4]=Q,e[5]=a,e[6]=c,e[7]=E,e[8]=w,e[9]=I,e[10]=l,e[11]=M),e[12]=n*B+Q*i+w*g+h,e[13]=s*B+a*i+I*g+Y,e[14]=o*B+c*i+l*g+D,e[15]=r*B+E*i+M*g+u,e},translation:function(A,t){return(t=t||new C(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=A[0],t[13]=A[1],t[14]=A[2],t[15]=1,t},transpose:function(A,t){if((t=t||new C(16))===A){let e;return e=A[1],A[1]=A[4],A[4]=e,e=A[2],A[2]=A[8],A[8]=e,e=A[3],A[3]=A[12],A[12]=e,e=A[6],A[6]=A[9],A[9]=e,e=A[7],A[7]=A[13],A[13]=e,e=A[11],A[11]=A[14],A[14]=e,t}const e=A[0],B=A[1],i=A[2],g=A[3],n=A[4],s=A[5],o=A[6],r=A[7],Q=A[8],a=A[9],c=A[10],E=A[11],w=A[12],I=A[13],l=A[14],M=A[15];return t[0]=e,t[1]=n,t[2]=Q,t[3]=w,t[4]=B,t[5]=s,t[6]=a,t[7]=I,t[8]=i,t[9]=o,t[10]=c,t[11]=l,t[12]=g,t[13]=r,t[14]=E,t[15]=M,t}});const D={};{const A=D;A[5120]=Int8Array,A[5121]=Uint8Array,A[5122]=Int16Array,A[5123]=Uint16Array,A[5124]=Int32Array,A[5125]=Uint32Array,A[5126]=Float32Array,A[32819]=Uint16Array,A[32820]=Uint16Array,A[33635]=Uint16Array,A[5131]=Uint16Array,A[33640]=Uint32Array,A[35899]=Uint32Array,A[35902]=Uint32Array,A[36269]=Uint32Array,A[34042]=Uint32Array}function u(A){if(A instanceof Int8Array)return 5120;if(A instanceof Uint8Array)return 5121;if(A instanceof Uint8ClampedArray)return 5121;if(A instanceof Int16Array)return 5122;if(A instanceof Uint16Array)return 5123;if(A instanceof Int32Array)return 5124;if(A instanceof Uint32Array)return 5125;if(A instanceof Float32Array)return 5126;throw new Error("unsupported typed array type")}function d(A){if(A===Int8Array)return 5120;if(A===Uint8Array)return 5121;if(A===Uint8ClampedArray)return 5121;if(A===Int16Array)return 5122;if(A===Uint16Array)return 5123;if(A===Int32Array)return 5124;if(A===Uint32Array)return 5125;if(A===Float32Array)return 5126;throw new Error("unsupported typed array type")}function F(A){const t=D[A];if(!t)throw new Error("unknown gl type");return t}const m="undefined"!=typeof SharedArrayBuffer?function(A){return A&&A.buffer&&(A.buffer instanceof ArrayBuffer||A.buffer instanceof SharedArrayBuffer)}:function(A){return A&&A.buffer&&A.buffer instanceof ArrayBuffer};var U=Object.freeze({__proto__:null,getGLTypeForTypedArray:u,getGLTypeForTypedArrayType:d,getTypedArrayTypeForGLType:F,isArrayBuffer:m});function p(A,t){Object.keys(t).forEach((function(e){t.hasOwnProperty(e)&&A.hasOwnProperty(e)&&(t[e]=A[e])}))}function G(...A){console.error(...A)}function N(...A){console.warn(...A)}const y=new Map;function f(A,t){if(!A||"object"!=typeof A)return!1;let e=y.get(t);e||(e=new WeakMap,y.set(t,e));let B=e.get(A);if(void 0===B){const i=Object.prototype.toString.call(A);B=i.substring(8,i.length-1)===t,e.set(A,B)}return B}function R(A,t){return"undefined"!=typeof WebGLRenderbuffer&&f(t,"WebGLRenderbuffer")}function k(A,t){return"undefined"!=typeof WebGLTexture&&f(t,"WebGLTexture")}const S={attribPrefix:""};function J(A){S.attribPrefix=A}function x(A){p(A,S)}function H(A,t,e,B,i){A.bindBuffer(t,e),A.bufferData(t,B,i||35044)}function T(A,t,e,B){if(i=t,"undefined"!=typeof WebGLBuffer&&f(i,"WebGLBuffer"))return t;var i;e=e||34962;const g=A.createBuffer();return H(A,e,g,t,B),g}function j(A){return"indices"===A}function b(A){return A.length?A:A.data}const V=/coord|texture/i,z=/color|colour/i;function W(A,t,e){return A.numComponents||A.size||function(A,t){let e;if(e=V.test(A)?2:z.test(A)?4:3,t%e>0)throw new Error(`Can not guess numComponents for attribute '${A}'. Tried ${e} but ${t} values is not evenly divisible by ${e}. You should specify it.`);return e}(t,e||b(A).length)}function K(A,t){if(m(A))return A;if(m(A.data))return A.data;Array.isArray(A)&&(A={data:A});let e=A.type?L(A.type):void 0;return e||(e=j(t)?Uint16Array:Float32Array),new e(A.data)}function L(A){return"number"==typeof A?F(A):A||Float32Array}function v(A,t){return{buffer:t.buffer,numValues:24,type:(e=t.type,"number"==typeof e?e:e?d(e):5126),arrayType:L(t.type)};var e}function P(A,t){const e=t.data||t,B=L(t.type),i=e*B.BYTES_PER_ELEMENT,g=A.createBuffer();return A.bindBuffer(34962,g),A.bufferData(34962,i,t.drawType||35044),{buffer:g,numValues:e,type:d(B),arrayType:B}}function O(A,t,e){const B=K(t,e);return{arrayType:B.constructor,buffer:T(A,B,void 0,t.drawType),type:u(B),numValues:0}}function q(A,t){const e={};return Object.keys(t).forEach((function(B){if(!j(B)){const g=t[B],n=g.attrib||g.name||g.attribName||S.attribPrefix+B;if(g.value){if(!Array.isArray(g.value)&&!m(g.value))throw new Error("array.value is not array or typedarray");e[n]={value:g.value}}else{let t;t=g.buffer&&g.buffer instanceof WebGLBuffer?v:"number"==typeof g||"number"==typeof g.data?P:O;const{buffer:s,type:o,numValues:r,arrayType:Q}=t(A,g,B),a=void 0!==g.normalize?g.normalize:(i=Q)===Int8Array||i===Uint8Array,c=W(g,B,r);e[n]={buffer:s,numComponents:c,type:o,normalize:a,stride:g.stride||0,offset:g.offset||0,divisor:void 0===g.divisor?void 0:g.divisor,drawType:g.drawType}}}var i})),A.bindBuffer(34962,null),e}function Z(A,t,e,B){e=K(e),void 0!==B?(A.bindBuffer(34962,t.buffer),A.bufferSubData(34962,B,e)):H(A,34962,t.buffer,e,t.drawType)}const X=["position","positions","a_position"];function _(A,t,e){const B=q(A,t),i=Object.assign({},e||{});i.attribs=Object.assign({},e?e.attribs:{},B);const g=t.indices;if(g){const t=K(g,"indices");i.indices=T(A,t,34963),i.numElements=t.length,i.elementType=u(t)}else i.numElements||(i.numElements=function(A,t){let e,B;for(B=0;B<X.length&&(e=X[B],!(e in t))&&(e=S.attribPrefix+e,!(e in t));++B);B===X.length&&(e=Object.keys(t)[0]);const i=t[e];if(!i.buffer)return 1;A.bindBuffer(34962,i.buffer);const g=A.getBufferParameter(34962,34660);var n;A.bindBuffer(34962,null);const s=g/(5120===(n=i.type)||5121===n?1:5122===n||5123===n?2:5124===n||5125===n||5126===n?4:0),o=i.numComponents||i.size,r=s/o;if(r%1!=0)throw new Error(`numComponents ${o} not correct for length ${length}`);return r}(A,i.attribs));return i}function $(A,t,e){const B="indices"===e?34963:34962;return T(A,K(t,e),B)}function AA(A,t){const e={};return Object.keys(t).forEach((function(B){e[B]=$(A,t[B],B)})),t.indices?(e.numElements=t.indices.length,e.elementType=u(K(t.indices))):e.numElements=function(A){let t,e;for(e=0;e<X.length&&(t=X[e],!(t in A));++e);e===X.length&&(t=Object.keys(A)[0]);const B=A[t],i=b(B).length;if(void 0===i)return 1;const g=W(B,t),n=i/g;if(i%g>0)throw new Error(`numComponents ${g} not correct for length ${i}`);return n}(t),e}var tA=Object.freeze({__proto__:null,createAttribsFromArrays:q,createBuffersFromArrays:AA,createBufferFromArray:$,createBufferFromTypedArray:T,createBufferInfoFromArrays:_,setAttribInfoBufferFromArray:Z,setAttributePrefix:J,setAttributeDefaults_:x,getNumComponents_:W,getArray_:b});const eA=b,BA=W;function iA(A,t){let e=0;return A.push=function(){for(let t=0;t<arguments.length;++t){const B=arguments[t];if(B instanceof Array||m(B))for(let t=0;t<B.length;++t)A[e++]=B[t];else A[e++]=B}},A.reset=function(A){e=A||0},A.numComponents=t,Object.defineProperty(A,"numElements",{get:function(){return this.length/this.numComponents|0}}),A}function gA(A,t,e){return iA(new(e||Float32Array)(A*t),A)}function nA(A){return"indices"!==A}function sA(A,t,e){const B=A.length,i=new Float32Array(3);for(let g=0;g<B;g+=3)e(t,[A[g],A[g+1],A[g+2]],i),A[g]=i[0],A[g+1]=i[1],A[g+2]=i[2]}function oA(A,t,e){e=e||i();const B=t[0],g=t[1],n=t[2];return e[0]=B*A[0]+g*A[1]+n*A[2],e[1]=B*A[4]+g*A[5]+n*A[6],e[2]=B*A[8]+g*A[9]+n*A[10],e}function rA(A,t){return sA(A,t,h),A}function QA(A,t){return sA(A,l(t),oA),A}function aA(A,t){return sA(A,t,M),A}function cA(A,t){return Object.keys(A).forEach((function(e){const B=A[e];e.indexOf("pos")>=0?aA(B,t):e.indexOf("tan")>=0||e.indexOf("binorm")>=0?rA(B,t):e.indexOf("norm")>=0&&QA(B,t)})),A}function EA(A,t,e){return A=A||2,{position:{numComponents:2,data:[(t=t||0)+-1*(A*=.5),(e=e||0)+-1*A,t+1*A,e+-1*A,t+-1*A,e+1*A,t+1*A,e+1*A]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function CA(A,t,e,B,i){A=A||1,t=t||1,e=e||1,B=B||1,i=i||I();const g=(e+1)*(B+1),n=gA(3,g),s=gA(3,g),o=gA(2,g);for(let i=0;i<=B;i++)for(let g=0;g<=e;g++){const r=g/e,Q=i/B;n.push(A*r-.5*A,0,t*Q-.5*t),s.push(0,1,0),o.push(r,Q)}const r=e+1,Q=gA(3,e*B*2,Uint16Array);for(let A=0;A<B;A++)for(let t=0;t<e;t++)Q.push((A+0)*r+t,(A+1)*r+t,(A+0)*r+t+1),Q.push((A+1)*r+t,(A+1)*r+t+1,(A+0)*r+t+1);return cA({position:n,normal:s,texcoord:o,indices:Q},i)}function wA(A,t,e,B,i,g,n){if(t<=0||e<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");B=B||0,g=g||0;const s=(i=i||Math.PI)-B,o=(n=n||2*Math.PI)-g,r=(t+1)*(e+1),Q=gA(3,r),a=gA(3,r),c=gA(2,r);for(let i=0;i<=e;i++)for(let n=0;n<=t;n++){const r=n/t,E=i/e,C=o*r+g,w=s*E+B,I=Math.sin(C),l=Math.cos(C),M=Math.sin(w),h=l*M,Y=Math.cos(w),D=I*M;Q.push(A*h,A*Y,A*D),a.push(h,Y,D),c.push(1-r,E)}const E=t+1,C=gA(3,t*e*2,Uint16Array);for(let A=0;A<t;A++)for(let t=0;t<e;t++)C.push((t+0)*E+A,(t+0)*E+A+1,(t+1)*E+A),C.push((t+1)*E+A,(t+0)*E+A+1,(t+1)*E+A+1);return{position:Q,normal:a,texcoord:c,indices:C}}const IA=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function lA(A){const t=(A=A||1)/2,e=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],B=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],i=[[1,0],[0,0],[0,1],[1,1]],g=gA(3,24),n=gA(3,24),s=gA(2,24),o=gA(3,12,Uint16Array);for(let A=0;A<6;++A){const t=IA[A];for(let o=0;o<4;++o){const r=e[t[o]],Q=B[A],a=i[o];g.push(r),n.push(Q),s.push(a)}const r=4*A;o.push(r+0,r+1,r+2),o.push(r+0,r+2,r+3)}return{position:g,normal:n,texcoord:s,indices:o}}function MA(A,t,e,B,i,g,n){if(B<3)throw new Error("radialSubdivisions must be 3 or greater");if(i<1)throw new Error("verticalSubdivisions must be 1 or greater");const s=void 0===g||g,o=void 0===n||n,r=(s?2:0)+(o?2:0),Q=(B+1)*(i+1+r),a=gA(3,Q),c=gA(3,Q),E=gA(2,Q),C=gA(3,B*(i+r/2)*2,Uint16Array),w=B+1,I=Math.atan2(A-t,e),l=Math.cos(I),M=Math.sin(I),h=i+(o?2:0);for(let g=s?-2:0;g<=h;++g){let n,s=g/i,o=e*s;g<0?(o=0,s=1,n=A):g>i?(o=e,s=1,n=t):n=A+g/i*(t-A),-2!==g&&g!==i+2||(n=0,s=0),o-=e/2;for(let A=0;A<w;++A){const t=Math.sin(A*Math.PI*2/B),e=Math.cos(A*Math.PI*2/B);a.push(t*n,o,e*n),g<0?c.push(0,-1,0):g>i?c.push(0,1,0):0===n?c.push(0,0,0):c.push(t*l,M,e*l),E.push(A/B,1-s)}}for(let A=0;A<i+r;++A)if(!(1===A&&s||A===i+r-2&&o))for(let t=0;t<B;++t)C.push(w*(A+0)+0+t,w*(A+0)+1+t,w*(A+1)+1+t),C.push(w*(A+0)+0+t,w*(A+1)+1+t,w*(A+1)+0+t);return{position:a,normal:c,texcoord:E,indices:C}}function hA(A,t){t=t||[];const e=[];for(let B=0;B<A.length;B+=4){const i=A[B],g=A.slice(B+1,B+4);g.push.apply(g,t);for(let A=0;A<i;++A)e.push.apply(e,g)}return e}function YA(){const A=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=hA([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),e=hA([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),B=A.length/3,i={position:gA(3,B),texcoord:gA(2,B),normal:gA(3,B),color:gA(4,B,Uint8Array),indices:gA(3,B/3,Uint16Array)};i.position.push(A),i.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),i.normal.push(t),i.color.push(e);for(let A=0;A<B;++A)i.indices.push(A);return i}function DA(A,t,e,B,i,n,s){if(i<=0)throw new Error("subdivisionDown must be > 0");const o=(s=s||1)-(n=n||0),Q=2*(i+1)*4,a=gA(3,Q),c=gA(3,Q),E=gA(2,Q);function C(A,t,e){return A+(t-A)*e}function w(t,e,s,Q,w,I){for(let l=0;l<=i;l++){const M=e/1,h=l/i,Y=2*(M-.5),D=(n+h*o)*Math.PI,u=Math.sin(D),d=Math.cos(D),F=C(A,t,u),m=Y*B,U=d*A,p=u*F;a.push(m,U,p);const G=g(r([0,u,d],s),Q);c.push(G),E.push(M*w+I,h)}}for(let A=0;A<2;A++){const B=2*(A/1-.5);w(t,A,[1,1,1],[0,0,0],1,0),w(t,A,[0,0,0],[B,0,0],0,0),w(e,A,[1,1,1],[0,0,0],1,0),w(e,A,[0,0,0],[B,0,0],0,1)}const I=gA(3,2*i*4,Uint16Array);function l(A,t){for(let e=0;e<i;++e)I.push(A+e+0,A+e+1,t+e+0),I.push(A+e+1,t+e+1,t+e+0)}const M=i+1;return l(0*M,4*M),l(5*M,7*M),l(6*M,2*M),l(3*M,1*M),{position:a,normal:c,texcoord:E,indices:I}}function uA(A,t,e,B,i,g){return MA(A,A,t,e,B,i,g)}function dA(A,t,e,B,i,g){if(e<3)throw new Error("radialSubdivisions must be 3 or greater");if(B<3)throw new Error("verticalSubdivisions must be 3 or greater");i=i||0;const n=(g=g||2*Math.PI)-i,s=e+1,o=B+1,r=s*o,Q=gA(3,r),a=gA(3,r),c=gA(2,r),E=gA(3,e*B*2,Uint16Array);for(let g=0;g<o;++g){const o=g/B,r=o*Math.PI*2,E=Math.sin(r),C=A+E*t,w=Math.cos(r),I=w*t;for(let A=0;A<s;++A){const t=A/e,B=i+t*n,g=Math.sin(B),s=Math.cos(B),r=g*C,l=s*C,M=g*E,h=s*E;Q.push(r,I,l),a.push(M,w,h),c.push(t,1-o)}}for(let A=0;A<B;++A)for(let t=0;t<e;++t){const e=1+t,B=1+A;E.push(s*A+t,s*B+t,s*A+e),E.push(s*B+t,s*B+e,s*A+e)}return{position:Q,normal:a,texcoord:c,indices:E}}function FA(A,t,e,B,i){if(t<3)throw new Error("divisions must be at least 3");i=i||1,B=B||0;const g=(t+1)*((e=e||1)+1),n=gA(3,g),s=gA(3,g),o=gA(2,g),r=gA(3,e*t*2,Uint16Array);let Q=0;const a=A-B,c=t+1;for(let A=0;A<=e;++A){const g=B+a*Math.pow(A/e,i);for(let B=0;B<=t;++B){const i=2*Math.PI*B/t,a=g*Math.cos(i),E=g*Math.sin(i);if(n.push(a,0,E),s.push(0,1,0),o.push(1-B/t,A/e),A>0&&B!==t){const A=Q+(B+1),t=Q+B,e=Q+B-c,i=Q+(B+1)-c;r.push(A,t,e),r.push(A,e,i)}}Q+=t+1}return{position:n,normal:s,texcoord:o,indices:r}}function mA(A){return function(t){const e=A.apply(this,Array.prototype.slice.call(arguments,1));return AA(t,e)}}function UA(A){return function(t){const e=A.apply(null,Array.prototype.slice.call(arguments,1));return _(t,e)}}const pA=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function GA(A,t,e,B){B=B||0;const i=A.length;for(let g=0;g<i;++g)t[e+g]=A[g]+B}function NA(A,t){const e=eA(A),B=new e.constructor(t);let i=B;var g,n;return e.numComponents&&e.numElements&&iA(B,e.numComponents),A.data&&(i={data:B},g=A,n=i,pA.forEach((function(A){const t=g[A];void 0!==t&&(n[A]=t)}))),i}const yA=UA(YA),fA=mA(YA),RA=UA(lA),kA=mA(lA),SA=UA(CA),JA=mA(CA),xA=UA(wA),HA=mA(wA),TA=UA(MA),jA=mA(MA),bA=UA(EA),VA=mA(EA),zA=UA(DA),WA=mA(DA),KA=UA(uA),LA=mA(uA),vA=UA(dA),PA=mA(dA),OA=UA(FA),qA=mA(FA),ZA=zA,XA=WA,_A=DA;var $A=Object.freeze({__proto__:null,create3DFBufferInfo:yA,create3DFBuffers:fA,create3DFVertices:YA,createAugmentedTypedArray:gA,createCubeBufferInfo:RA,createCubeBuffers:kA,createCubeVertices:lA,createPlaneBufferInfo:SA,createPlaneBuffers:JA,createPlaneVertices:CA,createSphereBufferInfo:xA,createSphereBuffers:HA,createSphereVertices:wA,createTruncatedConeBufferInfo:TA,createTruncatedConeBuffers:jA,createTruncatedConeVertices:MA,createXYQuadBufferInfo:bA,createXYQuadBuffers:VA,createXYQuadVertices:EA,createCresentBufferInfo:ZA,createCresentBuffers:XA,createCresentVertices:_A,createCrescentBufferInfo:zA,createCrescentBuffers:WA,createCrescentVertices:DA,createCylinderBufferInfo:KA,createCylinderBuffers:LA,createCylinderVertices:uA,createTorusBufferInfo:vA,createTorusBuffers:PA,createTorusVertices:dA,createDiscBufferInfo:OA,createDiscBuffers:qA,createDiscVertices:FA,deindexVertices:function(A){const t=A.indices,e={},B=t.length;return Object.keys(A).filter(nA).forEach((function(i){const g=A[i],n=g.numComponents,s=gA(n,B,g.constructor);for(let A=0;A<B;++A){const e=t[A]*n;for(let A=0;A<n;++A)s.push(g[e+A])}e[i]=s})),e},flattenNormals:function(A){if(A.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");const t=A.normal,e=t.length;for(let A=0;A<e;A+=9){const e=t[A+0],B=t[A+1],i=t[A+2],g=t[A+3],n=t[A+4],s=t[A+5];let o=e+g+t[A+6],r=B+n+t[A+7],Q=i+s+t[A+8];const a=Math.sqrt(o*o+r*r+Q*Q);o/=a,r/=a,Q/=a,t[A+0]=o,t[A+1]=r,t[A+2]=Q,t[A+3]=o,t[A+4]=r,t[A+5]=Q,t[A+6]=o,t[A+7]=r,t[A+8]=Q}return A},makeRandomVertexColors:function(A,t){t=t||{};const e=A.position.numElements,B=gA(4,e,Uint8Array),i=t.rand||function(A,t){return t<3?(e=256,Math.random()*e|0):255;var e};if(A.color=B,A.indices)for(let A=0;A<e;++A)B.push(i(A,0),i(A,1),i(A,2),i(A,3));else{const A=t.vertsPerColor||3,g=e/A;for(let t=0;t<g;++t){const e=[i(t,0),i(t,1),i(t,2),i(t,3)];for(let t=0;t<A;++t)B.push(e)}}return A},reorientDirections:rA,reorientNormals:QA,reorientPositions:aA,reorientVertices:cA,concatVertices:function(A){const t={};let e;for(let B=0;B<A.length;++B){const i=A[B];Object.keys(i).forEach((function(A){t[A]||(t[A]=[]),e||"indices"===A||(e=A);const B=i[A],g=BA(B,A),n=eA(B).length/g;t[A].push(n)}))}const B=t[e],i={};return Object.keys(t).forEach((function(t){const e=function(t){let e,B=0;for(let i=0;i<A.length;++i){const g=A[i][t];B+=eA(g).length,e&&!g.data||(e=g)}return{length:B,spec:e}}(t),g=NA(e.spec,e.length);!function(t,e,B){let i=0,g=0;for(let n=0;n<A.length;++n){const s=A[n][t],o=eA(s);"indices"===t?(GA(o,B,g,i),i+=e[n]):GA(o,B,g),g+=o.length}}(t,B,eA(g)),i[t]=g})),i},duplicateVertices:function(A){const t={};return Object.keys(A).forEach((function(e){const B=A[e],i=eA(B),g=NA(B,i.length);GA(i,eA(g),0),t[e]=g})),t}});function At(A){return!!A.texStorage2D}function tt(A){return!A.texStorage2D}const et=function(){const A={},t={};return function(e,B){return function(e){const B=e.constructor.name;if(!A[B]){for(const A in e)if("number"==typeof e[A]){const B=t[e[A]];t[e[A]]=B?`${B} | ${A}`:A}A[B]=!0}}(e),t[B]||("number"==typeof B?"0x"+B.toString(16):B)}}();var Bt=Object.freeze({__proto__:null,glEnumToString:et,isWebGL1:tt,isWebGL2:At});const it={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},gt=m,nt=function(){let A;return function(){return A=A||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null),A}}(),st=6407,ot=33319,rt={};{const A=rt;A[6406]={numColorComponents:1},A[6409]={numColorComponents:1},A[6410]={numColorComponents:2},A[st]={numColorComponents:3},A[6408]={numColorComponents:4},A[6403]={numColorComponents:1},A[36244]={numColorComponents:1},A[ot]={numColorComponents:2},A[33320]={numColorComponents:2},A[st]={numColorComponents:3},A[36248]={numColorComponents:3},A[6408]={numColorComponents:4},A[36249]={numColorComponents:4},A[6402]={numColorComponents:1},A[34041]={numColorComponents:2}}let Qt;function at(A){if(!Qt){const A={6406:{textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6409:{textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},6410:{textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]}};A[st]={textureFormat:st,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},A[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},A[6402]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5125,5123]},A[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[5121]},A[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[5120]},A[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},A[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[5126]},A[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5121]},A[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[5120]},A[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5123]},A[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5122]},A[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},A[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5124]},A[33323]={textureFormat:ot,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[5121]},A[36757]={textureFormat:ot,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[5120]},A[33327]={textureFormat:ot,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},A[33328]={textureFormat:ot,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[5126]},A[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5121]},A[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[5120]},A[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5123]},A[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5122]},A[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5125]},A[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5124]},A[32849]={textureFormat:st,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[5121]},A[35905]={textureFormat:st,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5121]},A[36194]={textureFormat:st,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},A[36758]={textureFormat:st,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[5120]},A[35898]={textureFormat:st,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},A[35901]={textureFormat:st,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},A[34843]={textureFormat:st,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},A[34837]={textureFormat:st,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5126]},A[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5121]},A[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[5120]},A[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5123]},A[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[5122]},A[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5125]},A[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[5124]},A[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},A[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[5121]},A[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[5120]},A[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},A[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},A[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[33640]},A[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},A[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[5126]},A[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5121]},A[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5120]},A[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[33640]},A[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5123]},A[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[5122]},A[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5124]},A[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[5125]},A[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},A[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5125]},A[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[5126]},A[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},A[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(A).forEach((function(t){const e=A[t];e.bytesPerElementMap={},e.bytesPerElement.forEach((function(A,t){const B=e.type[t];e.bytesPerElementMap[B]=A}))})),Qt=A}return Qt[A]}function ct(A,t){const e=at(A);if(!e)throw"unknown internal format";const B=e.bytesPerElementMap[t];if(void 0===B)throw"unknown internal format";return B}function Et(A){const t=at(A);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Ct(A){return 0==(A&A-1)}function wt(A,t,e,B){if(!At(A))return Ct(t)&&Ct(e);const i=at(B);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function It(A){const t=at(A);if(!t)throw"unknown internal format";return t.textureFilterable}function lt(A){const t=rt[A];if(!t)throw"unknown format: "+A;return t.numColorComponents}function Mt(A,t,e){return gt(t)?u(t):e||5121}function ht(A,t,e,B,i){if(i%1!=0)throw"can't guess dimensions";if(e||B){if(B){if(!e&&(e=i/B)%1)throw"can't guess dimensions"}else if((B=i/e)%1)throw"can't guess dimensions"}else{const A=Math.sqrt(i/(34067===t?6:1));A%1==0?(e=A,B=A):(e=i,B=1)}return{width:e,height:B}}function Yt(A){it.textureColor=new Uint8Array([255*A[0],255*A[1],255*A[2],255*A[3]])}function Dt(A){p(A,it),A.textureColor&&Yt(A.textureColor)}function ut(A,t){void 0!==t.colorspaceConversion&&A.pixelStorei(37443,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&A.pixelStorei(37441,t.premultiplyAlpha),void 0!==t.flipY&&A.pixelStorei(37440,t.flipY)}function dt(A){A.pixelStorei(3317,4),At(A)&&(A.pixelStorei(3314,0),A.pixelStorei(32878,0),A.pixelStorei(3316,0),A.pixelStorei(3315,0),A.pixelStorei(32877,0))}function Ft(A,t,e,B){var i;B.minMag&&(e.call(A,t,10241,B.minMag),e.call(A,t,10240,B.minMag)),B.min&&e.call(A,t,10241,B.min),B.mag&&e.call(A,t,10240,B.mag),B.wrap&&(e.call(A,t,10242,B.wrap),e.call(A,t,10243,B.wrap),(32879===t||(i=t,"undefined"!=typeof WebGLSampler&&f(i,"WebGLSampler")))&&e.call(A,t,32882,B.wrap)),B.wrapR&&e.call(A,t,32882,B.wrapR),B.wrapS&&e.call(A,t,10242,B.wrapS),B.wrapT&&e.call(A,t,10243,B.wrapT),void 0!==B.minLod&&e.call(A,t,33082,B.minLod),void 0!==B.maxLod&&e.call(A,t,33083,B.maxLod),void 0!==B.baseLevel&&e.call(A,t,33084,B.baseLevel),void 0!==B.maxLevel&&e.call(A,t,33085,B.maxLevel),void 0!==B.compareFunc&&e.call(A,t,34893,B.compareFunc),void 0!==B.compareMode&&e.call(A,t,34892,B.compareMode)}function mt(A,t,e){const B=e.target||3553;A.bindTexture(B,t),Ft(A,B,A.texParameteri,e)}function Ut(A,t,e){Ft(A,t,A.samplerParameteri,e)}function pt(A,t){const e=A.createSampler();return Ut(A,e,t),e}function Gt(A,t){const e={};return Object.keys(t).forEach((function(B){e[B]=pt(A,t[B])})),e}function Nt(A,t,e,B,i,g){g=g||6408;const n=(e=e||it.textureOptions).target||3553;if(B=B||e.width,i=i||e.height,A.bindTexture(n,t),wt(A,B,i,g))A.generateMipmap(n);else{const t=It(g)?9729:9728;A.texParameteri(n,10241,t),A.texParameteri(n,10240,t),A.texParameteri(n,10242,33071),A.texParameteri(n,10243,33071)}}function yt(A){return!0===A.auto||void 0===A.auto&&void 0===A.level}function ft(A,t){return(t=t||{}).cubeFaceOrder||[34069,34070,34071,34072,34073,34074]}function Rt(A,t){const e=ft(0,t).map((function(A,t){return{face:A,ndx:t}}));return e.sort((function(A,t){return A.face-t.face})),e}function kt(A,t,e,B){const i=(B=B||it.textureOptions).target||3553,g=B.level||0;let n=e.width,s=e.height;const o=B.internalFormat||B.format||6408,r=Et(o),Q=B.format||r.format,a=B.type||r.type;if(ut(A,B),A.bindTexture(i,t),34067===i){const r=e.width,c=e.height;let E,C;if(r/6===c)E=c,C=[0,0,1,0,2,0,3,0,4,0,5,0];else if(c/6===r)E=r,C=[0,0,0,1,0,2,0,3,0,4,0,5];else if(r/3==c/2)E=r/3,C=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(r/2!=c/3)throw"can't figure out cube map from element: "+(e.src?e.src:e.nodeName);E=r/2,C=[0,0,1,0,0,1,1,1,0,2,1,2]}const w=nt();w?(w.canvas.width=E,w.canvas.height=E,n=E,s=E,Rt(0,B).forEach((function(t){const B=C[2*t.ndx+0]*E,i=C[2*t.ndx+1]*E;w.drawImage(e,B,i,E,E,0,0,E,E),A.texImage2D(t.face,g,o,Q,a,w.canvas)})),w.canvas.width=1,w.canvas.height=1):"undefined"!=typeof createImageBitmap&&(n=E,s=E,Rt(0,B).forEach((function(r){const c=C[2*r.ndx+0]*E,w=C[2*r.ndx+1]*E;A.texImage2D(r.face,g,o,E,E,0,Q,a,null),createImageBitmap(e,c,w,E,E,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(e){ut(A,B),A.bindTexture(i,t),A.texImage2D(r.face,g,o,Q,a,e),yt(B)&&Nt(A,t,B,n,s,o)}))})))}else if(32879===i||35866===i){const t=Math.min(e.width,e.height),B=Math.max(e.width,e.height),n=B/t;if(n%1!=0)throw"can not compute 3D dimensions of element";const s=e.width===B?1:0,r=e.height===B?1:0;A.pixelStorei(3317,1),A.pixelStorei(3314,e.width),A.pixelStorei(32878,0),A.pixelStorei(32877,0),A.texImage3D(i,g,o,t,t,t,0,Q,a,null);for(let B=0;B<n;++B){const n=B*t*s,o=B*t*r;A.pixelStorei(3316,n),A.pixelStorei(3315,o),A.texSubImage3D(i,g,0,0,B,t,t,1,Q,a,e)}dt(A)}else A.texImage2D(i,g,o,Q,a,e);yt(B)&&Nt(A,t,B,n,s,o),mt(A,t,B)}function St(){}function Jt(A,t){return void 0!==t||function(A){if("undefined"!=typeof document){const t=document.createElement("a");return t.href=A,t.hostname===location.hostname&&t.port===location.port&&t.protocol===location.protocol}{const t=new URL(location.href).origin;return new URL(A,location.href).origin===t}}(A)?t:"anonymous"}function xt(A){return"undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap||"undefined"!=typeof ImageData&&A instanceof ImageData||"undefined"!=typeof HTMLElement&&A instanceof HTMLElement}function Ht(A,t,e){return xt(A)?(setTimeout((function(){e(null,A)})),A):function(A,t,e){let B;if(e=e||St,t=void 0!==t?t:it.crossOrigin,t=Jt(A,t),"undefined"!=typeof Image){B=new Image,void 0!==t&&(B.crossOrigin=t);const i=function(){B.removeEventListener("error",g),B.removeEventListener("load",n),B=null},g=function(){const t="couldn't load image: "+A;G(t),e(t,B),i()},n=function(){e(null,B),i()};return B.addEventListener("error",g),B.addEventListener("load",n),B.src=A,B}if("undefined"!=typeof ImageBitmap){let i,g;const n=function(){e(i,g)},s={};t&&(s.mode="cors"),fetch(A,s).then((function(A){if(!A.ok)throw A;return A.blob()})).then((function(A){return createImageBitmap(A,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(A){g=A,setTimeout(n)})).catch((function(A){i=A,setTimeout(n)})),B=null}return B}(A,t,e)}function Tt(A,t,e){const B=(e=e||it.textureOptions).target||3553;if(A.bindTexture(B,t),!1===e.color)return;const i=function(A){return A=A||it.textureColor,gt(A)?A:new Uint8Array([255*A[0],255*A[1],255*A[2],255*A[3]])}(e.color);if(34067===B)for(let t=0;t<6;++t)A.texImage2D(34069+t,0,6408,1,1,0,6408,5121,i);else 32879===B||35866===B?A.texImage3D(B,0,6408,1,1,1,0,6408,5121,i):A.texImage2D(B,0,6408,1,1,0,6408,5121,i)}function jt(A,t,e,B){B=B||St,e=e||it.textureOptions,Tt(A,t,e);return Ht((e=Object.assign({},e)).src,e.crossOrigin,(function(i,g){i?B(i,t,g):(kt(A,t,g,e),B(null,t,g))}))}function bt(A,t,e,B){B=B||St;const i=e.src;if(6!==i.length)throw"there must be 6 urls for a cubemap";const g=e.level||0,n=e.internalFormat||e.format||6408,s=Et(n),o=e.format||s.format,r=e.type||5121,Q=e.target||3553;if(34067!==Q)throw"target must be TEXTURE_CUBE_MAP";Tt(A,t,e),e=Object.assign({},e);let a=6;const c=[],E=ft(0,e);let C;C=i.map((function(i,s){return Ht(i,e.crossOrigin,(w=E[s],function(i,s){--a,i?c.push(i):s.width!==s.height?c.push("cubemap face img is not a square: "+s.src):(ut(A,e),A.bindTexture(Q,t),5===a?ft().forEach((function(t){A.texImage2D(t,g,n,o,r,s)})):A.texImage2D(w,g,n,o,r,s),yt(e)&&A.generateMipmap(Q)),0===a&&B(c.length?c:void 0,t,C)}));var w}))}function Vt(A,t,e,B){B=B||St;const i=e.src,g=e.internalFormat||e.format||6408,n=Et(g),s=e.format||n.format,o=e.type||5121,r=e.target||35866;if(32879!==r&&35866!==r)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Tt(A,t,e),e=Object.assign({},e);let Q=i.length;const a=[];let c;const E=e.level||0;let C=e.width,w=e.height;const I=i.length;let l=!0;c=i.map((function(i,n){return Ht(i,e.crossOrigin,(M=n,function(i,n){if(--Q,i)a.push(i);else{if(ut(A,e),A.bindTexture(r,t),l){l=!1,C=e.width||n.width,w=e.height||n.height,A.texImage3D(r,E,g,C,w,I,0,s,o,null);for(let t=0;t<I;++t)A.texSubImage3D(r,E,0,0,t,C,w,1,s,o,n)}else{let t,e=n;n.width===C&&n.height===w||(t=nt(),e=t.canvas,t.canvas.width=C,t.canvas.height=w,t.drawImage(n,0,0,C,w)),A.texSubImage3D(r,E,0,0,M,C,w,1,s,o,e),t&&e===t.canvas&&(t.canvas.width=0,t.canvas.height=0)}yt(e)&&A.generateMipmap(r)}0===Q&&B(a.length?a:void 0,t,c)}));var M}))}function zt(A,t,e,B){const i=(B=B||it.textureOptions).target||3553;A.bindTexture(i,t);let g=B.width,n=B.height,s=B.depth;const o=B.level||0,r=B.internalFormat||B.format||6408,Q=Et(r),a=B.format||Q.format,c=B.type||Mt(0,e,Q.type);if(gt(e))e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));else{const A=F(c);e=new A(e)}const E=ct(r,c),C=e.byteLength/E;if(C%1)throw"length wrong size for format: "+et(A,a);let w;if(32879===i||35866===i)if(g||n||s)!g||n&&s?!n||g&&s?(w=ht(0,i,g,n,C/s),g=w.width,n=w.height):(w=ht(0,i,g,s,C/n),g=w.width,s=w.height):(w=ht(0,i,n,s,C/g),n=w.width,s=w.height);else{const A=Math.cbrt(C);if(A%1!=0)throw"can't guess cube size of array of numElements: "+C;g=A,n=A,s=A}else w=ht(0,i,g,n,C),g=w.width,n=w.height;if(dt(A),A.pixelStorei(3317,B.unpackAlignment||1),ut(A,B),34067===i){const t=C/6*(E/e.BYTES_PER_ELEMENT);Rt(0,B).forEach(B=>{const i=t*B.ndx,s=e.subarray(i,i+t);A.texImage2D(B.face,o,r,g,n,0,a,c,s)})}else 32879===i||35866===i?A.texImage3D(i,o,r,g,n,s,0,a,c,e):A.texImage2D(i,o,r,g,n,0,a,c,e);return{width:g,height:n,depth:s,type:c}}function Wt(A,t,e){const B=e.target||3553;A.bindTexture(B,t);const i=e.level||0,g=e.internalFormat||e.format||6408,n=Et(g),s=e.format||n.format,o=e.type||n.type;if(ut(A,e),34067===B)for(let t=0;t<6;++t)A.texImage2D(34069+t,i,g,e.width,e.height,0,s,o,null);else 32879===B||35866===B?A.texImage3D(B,i,g,e.width,e.height,e.depth,0,s,o,null):A.texImage2D(B,i,g,e.width,e.height,0,s,o,null)}function Kt(A,t,e){e=e||St,t=t||it.textureOptions;const B=A.createTexture(),i=t.target||3553;let g=t.width||1,n=t.height||1;const s=t.internalFormat||6408;A.bindTexture(i,B),34067===i&&(A.texParameteri(i,10242,33071),A.texParameteri(i,10243,33071));let o=t.src;if(o)if("function"==typeof o&&(o=o(A,t)),"string"==typeof o)jt(A,B,t,e);else if(gt(o)||Array.isArray(o)&&("number"==typeof o[0]||Array.isArray(o[0])||gt(o[0]))){const e=zt(A,B,o,t);g=e.width,n=e.height}else Array.isArray(o)&&("string"==typeof o[0]||xt(o[0]))?34067===i?bt(A,B,t,e):Vt(A,B,t,e):(kt(A,B,o,t),g=o.width,n=o.height);else Wt(A,B,t);return yt(t)&&Nt(A,B,t,g,n,s),mt(A,B,t),B}function Lt(A,t,e,B,i,g){B=B||e.width,i=i||e.height,g=g||e.depth;const n=e.target||3553;A.bindTexture(n,t);const s=e.level||0,o=e.internalFormat||e.format||6408,r=Et(o),Q=e.format||r.format;let a;const c=e.src;if(a=c&&(gt(c)||Array.isArray(c)&&"number"==typeof c[0])?e.type||Mt(0,c,r.type):e.type||r.type,34067===n)for(let t=0;t<6;++t)A.texImage2D(34069+t,s,o,B,i,0,Q,a,null);else 32879===n||35866===n?A.texImage3D(n,s,o,B,i,g,0,Q,a,null):A.texImage2D(n,s,o,B,i,0,Q,a,null)}function vt(A,t,e){e=e||St;let B=0;const i=[],g={},n={};function s(){0===B&&setTimeout((function(){e(i.length?i:void 0,g,n)}),0)}return Object.keys(t).forEach((function(e){const o=t[e];let r;var Q;("string"==typeof(Q=o.src)||Array.isArray(Q)&&"string"==typeof Q[0])&&(r=function(A,t,g){n[e]=g,--B,A&&i.push(A),s()},++B),g[e]=Kt(A,o,r)})),s(),g}var Pt=Object.freeze({__proto__:null,setTextureDefaults_:Dt,createSampler:pt,createSamplers:Gt,setSamplerParameters:Ut,createTexture:Kt,setEmptyTexture:Wt,setTextureFromArray:zt,loadTextureFromUrl:jt,setTextureFromElement:kt,setTextureFilteringForSize:Nt,setTextureParameters:mt,setDefaultTextureColor:Yt,createTextures:vt,resizeTexture:Lt,canGenerateMipmap:wt,canFilter:It,getNumComponentsForFormat:lt,getBytesPerElementForInternalFormat:ct,getFormatAndTypeForInternalFormat:Et});const Ot=G,qt=N;function Zt(A){return"undefined"!=typeof document&&document.getElementById?document.getElementById(A):null}const Xt={};function _t(A,t){return Xt[t].bindPoint}function $t(A,t){return function(e){A.uniform1i(t,e)}}function Ae(A,t){return function(e){A.uniform1iv(t,e)}}function te(A,t){return function(e){A.uniform2iv(t,e)}}function ee(A,t){return function(e){A.uniform3iv(t,e)}}function Be(A,t){return function(e){A.uniform4iv(t,e)}}function ie(A,t,e,B){const i=_t(0,t);return At(A)?function(t){let g,n;!t||k(0,t)?(g=t,n=null):(g=t.texture,n=t.sampler),A.uniform1i(B,e),A.activeTexture(33984+e),A.bindTexture(i,g),A.bindSampler(e,n)}:function(t){A.uniform1i(B,e),A.activeTexture(33984+e),A.bindTexture(i,t)}}function ge(A,t,e,B,i){const g=_t(0,t),n=new Int32Array(i);for(let A=0;A<i;++A)n[A]=e+A;return At(A)?function(t){A.uniform1iv(B,n),t.forEach((function(t,B){let i,s;A.activeTexture(33984+n[B]),!t||k(0,t)?(i=t,s=null):(i=t.texture,s=t.sampler),A.bindSampler(e,s),A.bindTexture(g,i)}))}:function(t){A.uniform1iv(B,n),t.forEach((function(t,e){A.activeTexture(33984+n[e]),A.bindTexture(g,t)}))}}function ne(A,t){return function(e){if(e.value)switch(A.disableVertexAttribArray(t),e.value.length){case 4:A.vertexAttrib4fv(t,e.value);break;case 3:A.vertexAttrib3fv(t,e.value);break;case 2:A.vertexAttrib2fv(t,e.value);break;case 1:A.vertexAttrib1fv(t,e.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else A.bindBuffer(34962,e.buffer),A.enableVertexAttribArray(t),A.vertexAttribPointer(t,e.numComponents||e.size,e.type||5126,e.normalize||!1,e.stride||0,e.offset||0),A.vertexAttribDivisor&&A.vertexAttribDivisor(t,e.divisor||0)}}function se(A,t){return function(e){if(e.value){if(A.disableVertexAttribArray(t),4!==e.value.length)throw new Error("The length of an integer constant value must be 4!");A.vertexAttrib4iv(t,e.value)}else A.bindBuffer(34962,e.buffer),A.enableVertexAttribArray(t),A.vertexAttribIPointer(t,e.numComponents||e.size,e.type||5124,e.stride||0,e.offset||0),A.vertexAttribDivisor&&A.vertexAttribDivisor(t,e.divisor||0)}}function oe(A,t){return function(e){if(e.value){if(A.disableVertexAttribArray(t),4!==e.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");A.vertexAttrib4uiv(t,e.value)}else A.bindBuffer(34962,e.buffer),A.enableVertexAttribArray(t),A.vertexAttribIPointer(t,e.numComponents||e.size,e.type||5125,e.stride||0,e.offset||0),A.vertexAttribDivisor&&A.vertexAttribDivisor(t,e.divisor||0)}}function re(A,t,e){const B=e.size,i=e.count;return function(e){A.bindBuffer(34962,e.buffer);const g=e.size||e.numComponents||B,n=g/i,s=e.type||5126,o=Xt[s].size*g,r=e.normalize||!1,Q=e.offset||0,a=o/i;for(let B=0;B<i;++B)A.enableVertexAttribArray(t+B),A.vertexAttribPointer(t+B,n,s,r,o,Q+a*B),A.vertexAttribDivisor&&A.vertexAttribDivisor(t+B,e.divisor||0)}}Xt[5126]={Type:Float32Array,size:4,setter:function(A,t){return function(e){A.uniform1f(t,e)}},arraySetter:function(A,t){return function(e){A.uniform1fv(t,e)}}},Xt[35664]={Type:Float32Array,size:8,setter:function(A,t){return function(e){A.uniform2fv(t,e)}},cols:2},Xt[35665]={Type:Float32Array,size:12,setter:function(A,t){return function(e){A.uniform3fv(t,e)}},cols:3},Xt[35666]={Type:Float32Array,size:16,setter:function(A,t){return function(e){A.uniform4fv(t,e)}},cols:4},Xt[5124]={Type:Int32Array,size:4,setter:$t,arraySetter:Ae},Xt[35667]={Type:Int32Array,size:8,setter:te,cols:2},Xt[35668]={Type:Int32Array,size:12,setter:ee,cols:3},Xt[35669]={Type:Int32Array,size:16,setter:Be,cols:4},Xt[5125]={Type:Uint32Array,size:4,setter:function(A,t){return function(e){A.uniform1ui(t,e)}},arraySetter:function(A,t){return function(e){A.uniform1uiv(t,e)}}},Xt[36294]={Type:Uint32Array,size:8,setter:function(A,t){return function(e){A.uniform2uiv(t,e)}},cols:2},Xt[36295]={Type:Uint32Array,size:12,setter:function(A,t){return function(e){A.uniform3uiv(t,e)}},cols:3},Xt[36296]={Type:Uint32Array,size:16,setter:function(A,t){return function(e){A.uniform4uiv(t,e)}},cols:4},Xt[35670]={Type:Uint32Array,size:4,setter:$t,arraySetter:Ae},Xt[35671]={Type:Uint32Array,size:8,setter:te,cols:2},Xt[35672]={Type:Uint32Array,size:12,setter:ee,cols:3},Xt[35673]={Type:Uint32Array,size:16,setter:Be,cols:4},Xt[35674]={Type:Float32Array,size:32,setter:function(A,t){return function(e){A.uniformMatrix2fv(t,!1,e)}},rows:2,cols:2},Xt[35675]={Type:Float32Array,size:48,setter:function(A,t){return function(e){A.uniformMatrix3fv(t,!1,e)}},rows:3,cols:3},Xt[35676]={Type:Float32Array,size:64,setter:function(A,t){return function(e){A.uniformMatrix4fv(t,!1,e)}},rows:4,cols:4},Xt[35685]={Type:Float32Array,size:32,setter:function(A,t){return function(e){A.uniformMatrix2x3fv(t,!1,e)}},rows:2,cols:3},Xt[35686]={Type:Float32Array,size:32,setter:function(A,t){return function(e){A.uniformMatrix2x4fv(t,!1,e)}},rows:2,cols:4},Xt[35687]={Type:Float32Array,size:48,setter:function(A,t){return function(e){A.uniformMatrix3x2fv(t,!1,e)}},rows:3,cols:2},Xt[35688]={Type:Float32Array,size:48,setter:function(A,t){return function(e){A.uniformMatrix3x4fv(t,!1,e)}},rows:3,cols:4},Xt[35689]={Type:Float32Array,size:64,setter:function(A,t){return function(e){A.uniformMatrix4x2fv(t,!1,e)}},rows:4,cols:2},Xt[35690]={Type:Float32Array,size:64,setter:function(A,t){return function(e){A.uniformMatrix4x3fv(t,!1,e)}},rows:4,cols:3},Xt[35678]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:3553},Xt[35680]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:34067},Xt[35679]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:32879},Xt[35682]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:3553},Xt[36289]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:35866},Xt[36292]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:35866},Xt[36293]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:34067},Xt[36298]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:3553},Xt[36299]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:32879},Xt[36300]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:34067},Xt[36303]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:35866},Xt[36306]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:3553},Xt[36307]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:32879},Xt[36308]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:34067},Xt[36311]={Type:null,size:0,setter:ie,arraySetter:ge,bindPoint:35866};const Qe={};Qe[5126]={size:4,setter:ne},Qe[35664]={size:8,setter:ne},Qe[35665]={size:12,setter:ne},Qe[35666]={size:16,setter:ne},Qe[5124]={size:4,setter:se},Qe[35667]={size:8,setter:se},Qe[35668]={size:12,setter:se},Qe[35669]={size:16,setter:se},Qe[5125]={size:4,setter:oe},Qe[36294]={size:8,setter:oe},Qe[36295]={size:12,setter:oe},Qe[36296]={size:16,setter:oe},Qe[35670]={size:4,setter:se},Qe[35671]={size:8,setter:se},Qe[35672]={size:12,setter:se},Qe[35673]={size:16,setter:se},Qe[35674]={size:4,setter:re,count:2},Qe[35675]={size:9,setter:re,count:3},Qe[35676]={size:16,setter:re,count:4};const ae=/ERROR:\s*\d+:(\d+)/gi;const ce=/^[ \t]*\n/;function Ee(A){let t=0;return ce.test(A)&&(t=1,A=A.replace(ce,"")),{lineOffset:t,shaderSource:A}}function Ce(A,t){return A.errorCallback(t),A.callback&&setTimeout(()=>{A.callback(`${t}\n${A.errors.join("\n")}`)}),null}function we(A,t,e,B){B=B||Ot;if(!A.getShaderParameter(e,35713)){const i=A.getShaderInfoLog(e),{lineOffset:g,shaderSource:n}=Ee(A.getShaderSource(e)),s=`${function(A,t="",e=0){const B=[...t.matchAll(ae)],i=new Map(B.map((A,e)=>{const i=parseInt(A[1]),g=B[e+1],n=g?g.index:t.length;return[i-1,t.substring(A.index,n)]}));return A.split("\n").map((A,t)=>{const B=i.get(t);return`${t+1+e}: ${A}${B?"\n\n^^^ "+B:""}`}).join("\n")}(n,i,g)}\nError compiling ${et(A,t)}: ${i}`;return B(s),s}return""}function Ie(A,t,e){let B,i,g;if("function"==typeof t&&(e=t,t=void 0),"function"==typeof A)e=A,A=void 0;else if(A&&!Array.isArray(A)){const t=A;e=t.errorCallback,A=t.attribLocations,B=t.transformFeedbackVaryings,i=t.transformFeedbackMode,g=t.callback}const n=e||Ot,s=[],o={errorCallback(A,...t){s.push(A),n(A,...t)},transformFeedbackVaryings:B,transformFeedbackMode:i,callback:g,errors:s};{let e={};Array.isArray(A)?A.forEach((function(A,B){e[A]=t?t[B]:B})):e=A||{},o.attribLocations=e}return o}const le=["VERTEX_SHADER","FRAGMENT_SHADER"];const Me=(A=0)=>new Promise(t=>setTimeout(t,A));function he(A,t,e){const B=A.createProgram(),{attribLocations:i,transformFeedbackVaryings:g,transformFeedbackMode:n}=Ie(e);for(let e=0;e<t.length;++e){let i=t[e];if("string"==typeof i){const t=Zt(i),g=t?t.text:i;let n=A[le[e]];t&&t.type&&(n=((s=t.type).indexOf("frag")>=0?35632:s.indexOf("vert")>=0?35633:void 0)||n),i=A.createShader(n),A.shaderSource(i,Ee(g).shaderSource),A.compileShader(i),A.attachShader(B,i)}}var s;Object.entries(i).forEach(([t,e])=>A.bindAttribLocation(B,e,t));{let t=g;t&&(t.attribs&&(t=t.attribs),Array.isArray(t)||(t=Object.keys(t)),A.transformFeedbackVaryings(B,t,n||35981))}return A.linkProgram(B),B}function Ye(A,t,e,B,i){const g=Ie(e,B,i),n=new Set(t),s=he(A,t,g);function o(A,t){const e=me(A,t,g.errorCallback);return e&&function(A,t,e){const B=A.getAttachedShaders(t);for(const t of B)e.has(t)&&A.deleteShader(t);A.deleteProgram(t)}(A,t,n),e}if(!g.callback)return o(A,s)?void 0:s;Fe(A,s).then(()=>{const t=o(A,s);g.callback(t,t?void 0:s)})}function De(A){return function(t,e,...B){return new Promise((i,g)=>{const n=Ie(...B);n.callback=(A,t)=>{A?g(A):i(t)},A(t,e,n)})}}const ue=De(Ye),de=De(Ze);async function Fe(A,t){const e=A.getExtension("KHR_parallel_shader_compile"),B=e?(A,t)=>A.getProgramParameter(t,e.COMPLETION_STATUS_KHR):()=>!0;let i=0;do{await Me(i),i=1e3/60}while(!B(A,t))}function me(A,t,e){e=e||Ot;if(!A.getProgramParameter(t,35714)){const B=A.getProgramInfoLog(t);e("Error in program linking: "+B);return`${B}\n${A.getAttachedShaders(t).map(t=>we(A,A.getShaderParameter(t,A.SHADER_TYPE),t,e)).filter(A=>A).join("\n")}`}}function Ue(A,t,e,B,i){const g=Ie(e,B,i),n=[];for(const A of t){const t=Zt(A);if(!t)return Ce(g,"unknown script element: "+A);n.push(t.text)}return Ye(A,n,g)}function pe(A,t,e,B,i){return Ye(A,t,e,B,i)}function Ge(A){const t=A.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const Ne=/(\.|\[|]|\w+)/g;function ye(A,t,e,B){const i=A.split(Ne).filter(A=>""!==A);let g=0,n="";for(;;){const A=i[g++];n+=A;const o=(s=A[0])>="0"&&s<="9",r=o?parseInt(A):A;o&&(n+=i[g++]);if(g===i.length){e[r]=t;break}{const A=i[g++],t="["===A,s=e[r]||(t?[]:{});e[r]=s,e=s,B[n]=B[n]||function(A){return function(t){ze(A,t)}}(s),n+=A}}var s}function fe(A,t){let e=0;function B(t,B,i){const g=B.name.endsWith("[0]"),n=B.type,s=Xt[n];if(!s)throw new Error("unknown type: 0x"+n.toString(16));let o;if(s.bindPoint){const t=e;e+=B.size,o=g?s.arraySetter(A,n,t,i,B.size):s.setter(A,n,t,i,B.size)}else o=s.arraySetter&&g?s.arraySetter(A,i):s.setter(A,i);return o.location=i,o}const i={},g={},n=A.getProgramParameter(t,35718);for(let e=0;e<n;++e){const n=A.getActiveUniform(t,e);if(Ge(n))continue;let s=n.name;s.endsWith("[0]")&&(s=s.substr(0,s.length-3));const o=A.getUniformLocation(t,n.name);if(o){const A=B(0,n,o);i[s]=A,ye(s,A,g,i)}}return i}function Re(A,t){const e={},B=A.getProgramParameter(t,35971);for(let i=0;i<B;++i){const B=A.getTransformFeedbackVarying(t,i);e[B.name]={index:i,type:B.type,size:B.size}}return e}function ke(A,t,e){t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),e.attribs&&(e=e.attribs);for(const B in e){const i=t[B];if(i){const t=e[B];t.offset?A.bindBufferRange(35982,i.index,t.buffer,t.offset,t.size):A.bindBufferBase(35982,i.index,t.buffer)}}}function Se(A,t,e){const B=A.createTransformFeedback();return A.bindTransformFeedback(36386,B),A.useProgram(t.program),ke(A,t,e),A.bindTransformFeedback(36386,null),B}function Je(A,t){const e=A.getProgramParameter(t,35718),B=[],i=[];for(let g=0;g<e;++g){i.push(g),B.push({});const e=A.getActiveUniform(t,g);B[g].name=e.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(e){const g=e[0],n=e[1];A.getActiveUniforms(t,i,A[g]).forEach((function(A,t){B[t][n]=A}))}));const g={},n=A.getProgramParameter(t,35382);for(let e=0;e<n;++e){const B=A.getActiveUniformBlockName(t,e),i={index:A.getUniformBlockIndex(t,B),usedByVertexShader:A.getActiveUniformBlockParameter(t,e,35396),usedByFragmentShader:A.getActiveUniformBlockParameter(t,e,35398),size:A.getActiveUniformBlockParameter(t,e,35392),uniformIndices:A.getActiveUniformBlockParameter(t,e,35395)};i.used=i.usedByVertexShader||i.usedByFragmentShader,g[B]=i}return{blockSpecs:g,uniformData:B}}const xe=/\[\d+\]\.$/;function He(A,t,e,B){const i=e.blockSpecs,g=e.uniformData,n=i[B];if(!n)return qt("no uniform block object named:",B),{name:B,uniforms:{}};const s=new ArrayBuffer(n.size),o=A.createBuffer(),r=n.index;A.bindBuffer(35345,o),A.uniformBlockBinding(t,n.index,r);let Q=B+".";xe.test(Q)&&(Q=Q.replace(xe,"."));const a={},c={},E={};return n.uniformIndices.forEach((function(A){const t=g[A];let e=t.name;e.startsWith(Q)&&(e=e.substr(Q.length));const B=e.endsWith("[0]");B&&(e=e.substr(0,e.length-3));const i=Xt[t.type],n=i.Type,o=B?((i.size+((r=16)-1))/r|0)*r*t.size:i.size*t.size;var r;const C=new n(s,t.offset,o/n.BYTES_PER_ELEMENT);a[e]=C;const w=function(A,t,e,B){if(t||e){B=B||1;const t=A.length/4;return function(e){let i=0,g=0;for(let n=0;n<t;++n){for(let t=0;t<B;++t)A[i++]=e[g++];i+=4-B}}}return function(t){t.length?A.set(t):A[0]=t}}(C,B,i.rows,i.cols);c[e]=w,ye(e,w,E,c)})),{name:B,array:s,asFloat:new Float32Array(s),buffer:o,uniforms:a,setters:c}}function Te(A,t,e){return He(A,t.program,t.uniformBlockSpec,e)}function je(A,t,e){const B=(t.uniformBlockSpec||t).blockSpecs[e.name];if(B){const t=B.index;return A.bindBufferRange(35345,t,e.buffer,e.offset||0,e.array.byteLength),!0}return!1}function be(A,t,e){je(A,t,e)&&A.bufferData(35345,e.array,35048)}function Ve(A,t){const e=A.setters;for(const A in t){const B=e[A];if(B){B(t[A])}}}function ze(A,t){for(const e in t){const B=A[e];"function"==typeof B?B(t[e]):ze(A[e],t[e])}}function We(A,...t){const e=A.uniformSetters||A,B=t.length;for(let A=0;A<B;++A){const B=t[A];if(Array.isArray(B)){const A=B.length;for(let t=0;t<A;++t)We(e,B[t])}else for(const A in B){const t=e[A];t&&t(B[A])}}}const Ke=We;function Le(A,t){const e={},B=A.getProgramParameter(t,35721);for(let i=0;i<B;++i){const B=A.getActiveAttrib(t,i);if(Ge(B))continue;const g=A.getAttribLocation(t,B.name),n=Qe[B.type],s=n.setter(A,g,n);s.location=g,e[B.name]=s}return e}function ve(A,t){for(const e in t){const B=A[e];B&&B(t[e])}}function Pe(A,t,e){e.vertexArrayObject?A.bindVertexArray(e.vertexArrayObject):(ve(t.attribSetters||t,e.attribs),e.indices&&A.bindBuffer(34963,e.indices))}function Oe(A,t){const e={program:t,uniformSetters:fe(A,t),attribSetters:Le(A,t)};return At(A)&&(e.uniformBlockSpec=Je(A,t),e.transformFeedbackInfo=Re(A,t)),e}const qe=/\s|{|}|;/;function Ze(A,t,e,B,i){const g=Ie(e,B,i),n=[];if(t=t.map((function(A){if(!qe.test(A)){const t=Zt(A);if(t)A=t.text;else{const t="no element with id: "+A;g.errorCallback(t),n.push(t)}}return A})),n.length)return Ce(g,"");const s=g.callback;s&&(g.callback=(t,e)=>{s(t,t?void 0:Oe(A,e))});const o=pe(A,t,g);return o?Oe(A,o):null}function Xe(A,t,e,B,i){for(const[g,n]of Object.entries(t)){const s={...i},o=e[g];Array.isArray(o)||Object.assign(s,o);const r=me(A,n,s.errorCallback);if(r){for(const e of Object.values(t)){const t=A.getAttachedShaders(e);A.deleteProgram(e);for(const e of t)B.has(e)||A.deleteShader(e)}return r}}}function _e(A,t,e={}){const B=new Set,i=Object.fromEntries(Object.entries(t).map(([t,i])=>{const g={...e},n=Array.isArray(i)?i:i.shaders;return Array.isArray(i)||Object.assign(g,i),n.forEach(B.add,B),[t,he(A,n,g)]}));if(e.callback)return void async function(A,t){for(const e of Object.values(t))await Fe(A,e)}(A,i).then(()=>{const g=Xe(A,i,t,B,e);e.callback(g,g?void 0:i)});return Xe(A,i,t,B,e)?void 0:i}function $e(A,t,e){function B(A,t){return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,Oe(A,e)]))}const i=(e=Ie(e)).callback;i&&(e.callback=(t,e)=>{i(t,t?void 0:B(A,e))});const g=_e(A,t,e);if(!i&&g)return B(A,g)}const AB=De(_e),tB=De($e);var eB=Object.freeze({__proto__:null,createAttributeSetters:Le,createProgram:Ye,createProgramAsync:ue,createPrograms:_e,createProgramsAsync:AB,createProgramFromScripts:Ue,createProgramFromSources:pe,createProgramInfo:Ze,createProgramInfoAsync:de,createProgramInfos:$e,createProgramInfosAsync:tB,createProgramInfoFromProgram:Oe,createUniformSetters:fe,createUniformBlockSpecFromProgram:Je,createUniformBlockInfoFromProgram:He,createUniformBlockInfo:Te,createTransformFeedback:Se,createTransformFeedbackInfo:Re,bindTransformFeedbackInfo:ke,setAttributes:ve,setBuffersAndAttributes:Pe,setUniforms:We,setUniformsAndBindTextures:Ke,setUniformBlock:be,setBlockUniforms:Ve,bindUniformBlock:je});function BB(A,t,e,B,i,g){e=void 0===e?4:e;const n=t.indices,s=t.elementType,o=void 0===B?t.numElements:B;i=void 0===i?0:i,s||n?void 0!==g?A.drawElementsInstanced(e,o,void 0===s?5123:t.elementType,i,g):A.drawElements(e,o,void 0===s?5123:t.elementType,i):void 0!==g?A.drawArraysInstanced(e,i,o,g):A.drawArrays(e,i,o)}function iB(A,t){let e=null,B=null;t.forEach((function(t){if(!1===t.active)return;const i=t.programInfo,g=t.vertexArrayInfo||t.bufferInfo;let n=!1;const s=void 0===t.type?4:t.type;i!==e&&(e=i,A.useProgram(i.program),n=!0),(n||g!==B)&&(B&&B.vertexArrayObject&&!g.vertexArrayObject&&A.bindVertexArray(null),B=g,Pe(A,i,g)),We(i,t.uniforms),BB(A,g,s,t.count,t.offset,t.instanceCount)})),B&&B.vertexArrayObject&&A.bindVertexArray(null)}var gB=Object.freeze({__proto__:null,drawBufferInfo:BB,drawObjectList:iB});const nB=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],sB={};sB[34041]=33306,sB[6401]=36128,sB[36168]=36128,sB[6402]=36096,sB[33189]=36096,sB[33190]=36096,sB[36012]=36096,sB[35056]=33306,sB[36013]=33306;const oB={};oB[32854]=!0,oB[32855]=!0,oB[36194]=!0,oB[34041]=!0,oB[33189]=!0,oB[6401]=!0,oB[36168]=!0;function rB(A,t,e,B){const i=A.createFramebuffer();A.bindFramebuffer(36160,i),e=e||A.drawingBufferWidth,B=B||A.drawingBufferHeight;const g=[],n={framebuffer:i,attachments:[],width:e,height:B};return(t=t||nB).forEach((function(t,i){let s=t.attachment;const o=t.samples,r=t.format;let Q=t.attachmentPoint||function(A,t){return sB[A]||sB[t]}(r,t.internalFormat);if(Q||(Q=36064+i),function(A){return A>=36064&&A<36096}(Q)&&g.push(Q),!s)if(void 0!==o||function(A){return oB[A]}(r))s=A.createRenderbuffer(),A.bindRenderbuffer(36161,s),o>1?A.renderbufferStorageMultisample(36161,o,r,e,B):A.renderbufferStorage(36161,r,e,B);else{const i=Object.assign({},t);i.width=e,i.height=B,void 0===i.auto&&(i.auto=!1,i.min=i.min||i.minMag||9729,i.mag=i.mag||i.minMag||9729,i.wrapS=i.wrapS||i.wrap||33071,i.wrapT=i.wrapT||i.wrap||33071),s=Kt(A,i)}if(R(0,s))A.framebufferRenderbuffer(36160,Q,36161,s);else{if(!k(0,s))throw new Error("unknown attachment type");void 0!==t.layer?A.framebufferTextureLayer(36160,Q,s,t.level||0,t.layer):A.framebufferTexture2D(36160,Q,t.target||3553,s,t.level||0)}n.attachments.push(s)})),A.drawBuffers&&A.drawBuffers(g),n}function QB(A,t,e,B,i){B=B||A.drawingBufferWidth,i=i||A.drawingBufferHeight,t.width=B,t.height=i,(e=e||nB).forEach((function(e,g){const n=t.attachments[g],s=e.format,o=e.samples;if(void 0!==o||R(0,n))A.bindRenderbuffer(36161,n),o>1?A.renderbufferStorageMultisample(36161,o,s,B,i):A.renderbufferStorage(36161,s,B,i);else{if(!k(0,n))throw new Error("unknown attachment type");Lt(A,n,e,B,i)}}))}function aB(A,t,e){e=e||36160,t?(A.bindFramebuffer(e,t.framebuffer),A.viewport(0,0,t.width,t.height)):(A.bindFramebuffer(e,null),A.viewport(0,0,A.drawingBufferWidth,A.drawingBufferHeight))}var cB=Object.freeze({__proto__:null,bindFramebufferInfo:aB,createFramebufferInfo:rB,resizeFramebufferInfo:QB});function EB(A,t,e){const B=A.createVertexArray();return A.bindVertexArray(B),t.length||(t=[t]),t.forEach((function(t){Pe(A,t,e)})),A.bindVertexArray(null),{numElements:e.numElements,elementType:e.elementType,vertexArrayObject:B}}function CB(A,t,e,B){const i=A.createVertexArray();return A.bindVertexArray(i),ve(t,e),B&&A.bindBuffer(34963,B),A.bindVertexArray(null),i}function wB(A,t,e){return CB(A,t.attribSetters||t,e.attribs,e.indices)}var IB=Object.freeze({__proto__:null,createVertexArrayInfo:EB,createVAOAndSetAttributes:CB,createVAOFromBufferInfo:wB});const lB={addExtensionsToContext:!0};function MB(A){p(A,lB),x(A),Dt(A)}const hB=/^(.*?)_/;function YB(A,t){et(A,0);const e=A.getExtension(t);if(e){const B={},i=hB.exec(t)[1],g="_"+i;for(const t in e){const n=e[t],s="function"==typeof n,o=s?i:g;let r=t;t.endsWith(o)&&(r=t.substring(0,t.length-o.length)),void 0!==A[r]?s||A[r]===n||N(r,A[r],n,t):s?A[r]=function(A){return function(){return A.apply(e,arguments)}}(n):(A[r]=n,B[r]=n)}B.constructor={name:e.constructor.name},et(B,0)}return e}const DB=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function uB(A){for(let t=0;t<DB.length;++t)YB(A,DB[t])}function dB(A,t){return function(A,t){const e=["webgl","experimental-webgl"];let B=null;for(let i=0;i<e.length;++i)if(B=A.getContext(e[i],t),B){lB.addExtensionsToContext&&uB(B);break}return B}(A,t)}function FB(A,t){return function(A,t){const e=["webgl2","webgl","experimental-webgl"];let B=null;for(let i=0;i<e.length;++i)if(B=A.getContext(e[i],t),B){lB.addExtensionsToContext&&uB(B);break}return B}(A,t)}function mB(A,t){t=t||1,t=Math.max(0,t);const e=A.clientWidth*t|0,B=A.clientHeight*t|0;return(A.width!==e||A.height!==B)&&(A.width=e,A.height=B,!0)}},function(A,t,e){"use strict";(function(A){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var B=e(139),i=e(140),g=e(141);function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(A,t){if(n()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(A=new Uint8Array(t)).__proto__=o.prototype:(null===A&&(A=new o(t)),A.length=t),A}function o(A,t,e){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(A,t,e);if("number"==typeof A){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,A)}return r(this,A,t,e)}function r(A,t,e,B){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(A,t,e,B){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(B||0))throw new RangeError("'length' is out of bounds");t=void 0===e&&void 0===B?new Uint8Array(t):void 0===B?new Uint8Array(t,e):new Uint8Array(t,e,B);o.TYPED_ARRAY_SUPPORT?(A=t).__proto__=o.prototype:A=c(A,t);return A}(A,t,e,B):"string"==typeof t?function(A,t,e){"string"==typeof e&&""!==e||(e="utf8");if(!o.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var B=0|C(t,e),i=(A=s(A,B)).write(t,e);i!==B&&(A=A.slice(0,i));return A}(A,t,e):function(A,t){if(o.isBuffer(t)){var e=0|E(t.length);return 0===(A=s(A,e)).length||t.copy(A,0,0,e),A}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(B=t.length)!=B?s(A,0):c(A,t);if("Buffer"===t.type&&g(t.data))return c(A,t.data)}var B;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(A,t)}function Q(A){if("number"!=typeof A)throw new TypeError('"size" argument must be a number');if(A<0)throw new RangeError('"size" argument must not be negative')}function a(A,t){if(Q(t),A=s(A,t<0?0:0|E(t)),!o.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)A[e]=0;return A}function c(A,t){var e=t.length<0?0:0|E(t.length);A=s(A,e);for(var B=0;B<e;B+=1)A[B]=255&t[B];return A}function E(A){if(A>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|A}function C(A,t){if(o.isBuffer(A))return A.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(A)||A instanceof ArrayBuffer))return A.byteLength;"string"!=typeof A&&(A=""+A);var e=A.length;if(0===e)return 0;for(var B=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return b(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return V(A).length;default:if(B)return b(A).length;t=(""+t).toLowerCase(),B=!0}}function w(A,t,e){var B=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(t>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return N(this,t,e);case"utf8":case"utf-8":return U(this,t,e);case"ascii":return p(this,t,e);case"latin1":case"binary":return G(this,t,e);case"base64":return m(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,t,e);default:if(B)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),B=!0}}function I(A,t,e){var B=A[t];A[t]=A[e],A[e]=B}function l(A,t,e,B,i){if(0===A.length)return-1;if("string"==typeof e?(B=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:A.length-1),e<0&&(e=A.length+e),e>=A.length){if(i)return-1;e=A.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof t&&(t=o.from(t,B)),o.isBuffer(t))return 0===t.length?-1:M(A,t,e,B,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(A,t,e):Uint8Array.prototype.lastIndexOf.call(A,t,e):M(A,[t],e,B,i);throw new TypeError("val must be string, number or Buffer")}function M(A,t,e,B,i){var g,n=1,s=A.length,o=t.length;if(void 0!==B&&("ucs2"===(B=String(B).toLowerCase())||"ucs-2"===B||"utf16le"===B||"utf-16le"===B)){if(A.length<2||t.length<2)return-1;n=2,s/=2,o/=2,e/=2}function r(A,t){return 1===n?A[t]:A.readUInt16BE(t*n)}if(i){var Q=-1;for(g=e;g<s;g++)if(r(A,g)===r(t,-1===Q?0:g-Q)){if(-1===Q&&(Q=g),g-Q+1===o)return Q*n}else-1!==Q&&(g-=g-Q),Q=-1}else for(e+o>s&&(e=s-o),g=e;g>=0;g--){for(var a=!0,c=0;c<o;c++)if(r(A,g+c)!==r(t,c)){a=!1;break}if(a)return g}return-1}function h(A,t,e,B){e=Number(e)||0;var i=A.length-e;B?(B=Number(B))>i&&(B=i):B=i;var g=t.length;if(g%2!=0)throw new TypeError("Invalid hex string");B>g/2&&(B=g/2);for(var n=0;n<B;++n){var s=parseInt(t.substr(2*n,2),16);if(isNaN(s))return n;A[e+n]=s}return n}function Y(A,t,e,B){return z(b(t,A.length-e),A,e,B)}function D(A,t,e,B){return z(function(A){for(var t=[],e=0;e<A.length;++e)t.push(255&A.charCodeAt(e));return t}(t),A,e,B)}function u(A,t,e,B){return D(A,t,e,B)}function d(A,t,e,B){return z(V(t),A,e,B)}function F(A,t,e,B){return z(function(A,t){for(var e,B,i,g=[],n=0;n<A.length&&!((t-=2)<0);++n)e=A.charCodeAt(n),B=e>>8,i=e%256,g.push(i),g.push(B);return g}(t,A.length-e),A,e,B)}function m(A,t,e){return 0===t&&e===A.length?B.fromByteArray(A):B.fromByteArray(A.slice(t,e))}function U(A,t,e){e=Math.min(A.length,e);for(var B=[],i=t;i<e;){var g,n,s,o,r=A[i],Q=null,a=r>239?4:r>223?3:r>191?2:1;if(i+a<=e)switch(a){case 1:r<128&&(Q=r);break;case 2:128==(192&(g=A[i+1]))&&(o=(31&r)<<6|63&g)>127&&(Q=o);break;case 3:g=A[i+1],n=A[i+2],128==(192&g)&&128==(192&n)&&(o=(15&r)<<12|(63&g)<<6|63&n)>2047&&(o<55296||o>57343)&&(Q=o);break;case 4:g=A[i+1],n=A[i+2],s=A[i+3],128==(192&g)&&128==(192&n)&&128==(192&s)&&(o=(15&r)<<18|(63&g)<<12|(63&n)<<6|63&s)>65535&&o<1114112&&(Q=o)}null===Q?(Q=65533,a=1):Q>65535&&(Q-=65536,B.push(Q>>>10&1023|55296),Q=56320|1023&Q),B.push(Q),i+=a}return function(A){var t=A.length;if(t<=4096)return String.fromCharCode.apply(String,A);var e="",B=0;for(;B<t;)e+=String.fromCharCode.apply(String,A.slice(B,B+=4096));return e}(B)}t.Buffer=o,t.SlowBuffer=function(A){+A!=A&&(A=0);return o.alloc(+A)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==A.TYPED_ARRAY_SUPPORT?A.TYPED_ARRAY_SUPPORT:function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===A.foo()&&"function"==typeof A.subarray&&0===A.subarray(1,1).byteLength}catch(A){return!1}}(),t.kMaxLength=n(),o.poolSize=8192,o._augment=function(A){return A.__proto__=o.prototype,A},o.from=function(A,t,e){return r(null,A,t,e)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(A,t,e){return function(A,t,e,B){return Q(t),t<=0?s(A,t):void 0!==e?"string"==typeof B?s(A,t).fill(e,B):s(A,t).fill(e):s(A,t)}(null,A,t,e)},o.allocUnsafe=function(A){return a(null,A)},o.allocUnsafeSlow=function(A){return a(null,A)},o.isBuffer=function(A){return!(null==A||!A._isBuffer)},o.compare=function(A,t){if(!o.isBuffer(A)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(A===t)return 0;for(var e=A.length,B=t.length,i=0,g=Math.min(e,B);i<g;++i)if(A[i]!==t[i]){e=A[i],B=t[i];break}return e<B?-1:B<e?1:0},o.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(A,t){if(!g(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return o.alloc(0);var e;if(void 0===t)for(t=0,e=0;e<A.length;++e)t+=A[e].length;var B=o.allocUnsafe(t),i=0;for(e=0;e<A.length;++e){var n=A[e];if(!o.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(B,i),i+=n.length}return B},o.byteLength=C,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<A;t+=2)I(this,t,t+1);return this},o.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<A;t+=4)I(this,t,t+3),I(this,t+1,t+2);return this},o.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<A;t+=8)I(this,t,t+7),I(this,t+1,t+6),I(this,t+2,t+5),I(this,t+3,t+4);return this},o.prototype.toString=function(){var A=0|this.length;return 0===A?"":0===arguments.length?U(this,0,A):w.apply(this,arguments)},o.prototype.equals=function(A){if(!o.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||0===o.compare(this,A)},o.prototype.inspect=function(){var A="",e=t.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(A+=" ... ")),"<Buffer "+A+">"},o.prototype.compare=function(A,t,e,B,i){if(!o.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===e&&(e=A?A.length:0),void 0===B&&(B=0),void 0===i&&(i=this.length),t<0||e>A.length||B<0||i>this.length)throw new RangeError("out of range index");if(B>=i&&t>=e)return 0;if(B>=i)return-1;if(t>=e)return 1;if(this===A)return 0;for(var g=(i>>>=0)-(B>>>=0),n=(e>>>=0)-(t>>>=0),s=Math.min(g,n),r=this.slice(B,i),Q=A.slice(t,e),a=0;a<s;++a)if(r[a]!==Q[a]){g=r[a],n=Q[a];break}return g<n?-1:n<g?1:0},o.prototype.includes=function(A,t,e){return-1!==this.indexOf(A,t,e)},o.prototype.indexOf=function(A,t,e){return l(this,A,t,e,!0)},o.prototype.lastIndexOf=function(A,t,e){return l(this,A,t,e,!1)},o.prototype.write=function(A,t,e,B){if(void 0===t)B="utf8",e=this.length,t=0;else if(void 0===e&&"string"==typeof t)B=t,e=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(e)?(e|=0,void 0===B&&(B="utf8")):(B=e,e=void 0)}var i=this.length-t;if((void 0===e||e>i)&&(e=i),A.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var g=!1;;)switch(B){case"hex":return h(this,A,t,e);case"utf8":case"utf-8":return Y(this,A,t,e);case"ascii":return D(this,A,t,e);case"latin1":case"binary":return u(this,A,t,e);case"base64":return d(this,A,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,A,t,e);default:if(g)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),g=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(A,t,e){var B="";e=Math.min(A.length,e);for(var i=t;i<e;++i)B+=String.fromCharCode(127&A[i]);return B}function G(A,t,e){var B="";e=Math.min(A.length,e);for(var i=t;i<e;++i)B+=String.fromCharCode(A[i]);return B}function N(A,t,e){var B=A.length;(!t||t<0)&&(t=0),(!e||e<0||e>B)&&(e=B);for(var i="",g=t;g<e;++g)i+=j(A[g]);return i}function y(A,t,e){for(var B=A.slice(t,e),i="",g=0;g<B.length;g+=2)i+=String.fromCharCode(B[g]+256*B[g+1]);return i}function f(A,t,e){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+t>e)throw new RangeError("Trying to access beyond buffer length")}function R(A,t,e,B,i,g){if(!o.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<g)throw new RangeError('"value" argument is out of bounds');if(e+B>A.length)throw new RangeError("Index out of range")}function k(A,t,e,B){t<0&&(t=65535+t+1);for(var i=0,g=Math.min(A.length-e,2);i<g;++i)A[e+i]=(t&255<<8*(B?i:1-i))>>>8*(B?i:1-i)}function S(A,t,e,B){t<0&&(t=4294967295+t+1);for(var i=0,g=Math.min(A.length-e,4);i<g;++i)A[e+i]=t>>>8*(B?i:3-i)&255}function J(A,t,e,B,i,g){if(e+B>A.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function x(A,t,e,B,g){return g||J(A,0,e,4),i.write(A,t,e,B,23,4),e+4}function H(A,t,e,B,g){return g||J(A,0,e,8),i.write(A,t,e,B,52,8),e+8}o.prototype.slice=function(A,t){var e,B=this.length;if((A=~~A)<0?(A+=B)<0&&(A=0):A>B&&(A=B),(t=void 0===t?B:~~t)<0?(t+=B)<0&&(t=0):t>B&&(t=B),t<A&&(t=A),o.TYPED_ARRAY_SUPPORT)(e=this.subarray(A,t)).__proto__=o.prototype;else{var i=t-A;e=new o(i,void 0);for(var g=0;g<i;++g)e[g]=this[g+A]}return e},o.prototype.readUIntLE=function(A,t,e){A|=0,t|=0,e||f(A,t,this.length);for(var B=this[A],i=1,g=0;++g<t&&(i*=256);)B+=this[A+g]*i;return B},o.prototype.readUIntBE=function(A,t,e){A|=0,t|=0,e||f(A,t,this.length);for(var B=this[A+--t],i=1;t>0&&(i*=256);)B+=this[A+--t]*i;return B},o.prototype.readUInt8=function(A,t){return t||f(A,1,this.length),this[A]},o.prototype.readUInt16LE=function(A,t){return t||f(A,2,this.length),this[A]|this[A+1]<<8},o.prototype.readUInt16BE=function(A,t){return t||f(A,2,this.length),this[A]<<8|this[A+1]},o.prototype.readUInt32LE=function(A,t){return t||f(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},o.prototype.readUInt32BE=function(A,t){return t||f(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},o.prototype.readIntLE=function(A,t,e){A|=0,t|=0,e||f(A,t,this.length);for(var B=this[A],i=1,g=0;++g<t&&(i*=256);)B+=this[A+g]*i;return B>=(i*=128)&&(B-=Math.pow(2,8*t)),B},o.prototype.readIntBE=function(A,t,e){A|=0,t|=0,e||f(A,t,this.length);for(var B=t,i=1,g=this[A+--B];B>0&&(i*=256);)g+=this[A+--B]*i;return g>=(i*=128)&&(g-=Math.pow(2,8*t)),g},o.prototype.readInt8=function(A,t){return t||f(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},o.prototype.readInt16LE=function(A,t){t||f(A,2,this.length);var e=this[A]|this[A+1]<<8;return 32768&e?4294901760|e:e},o.prototype.readInt16BE=function(A,t){t||f(A,2,this.length);var e=this[A+1]|this[A]<<8;return 32768&e?4294901760|e:e},o.prototype.readInt32LE=function(A,t){return t||f(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},o.prototype.readInt32BE=function(A,t){return t||f(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},o.prototype.readFloatLE=function(A,t){return t||f(A,4,this.length),i.read(this,A,!0,23,4)},o.prototype.readFloatBE=function(A,t){return t||f(A,4,this.length),i.read(this,A,!1,23,4)},o.prototype.readDoubleLE=function(A,t){return t||f(A,8,this.length),i.read(this,A,!0,52,8)},o.prototype.readDoubleBE=function(A,t){return t||f(A,8,this.length),i.read(this,A,!1,52,8)},o.prototype.writeUIntLE=function(A,t,e,B){(A=+A,t|=0,e|=0,B)||R(this,A,t,e,Math.pow(2,8*e)-1,0);var i=1,g=0;for(this[t]=255&A;++g<e&&(i*=256);)this[t+g]=A/i&255;return t+e},o.prototype.writeUIntBE=function(A,t,e,B){(A=+A,t|=0,e|=0,B)||R(this,A,t,e,Math.pow(2,8*e)-1,0);var i=e-1,g=1;for(this[t+i]=255&A;--i>=0&&(g*=256);)this[t+i]=A/g&255;return t+e},o.prototype.writeUInt8=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[t]=255&A,t+1},o.prototype.writeUInt16LE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&A,this[t+1]=A>>>8):k(this,A,t,!0),t+2},o.prototype.writeUInt16BE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=A>>>8,this[t+1]=255&A):k(this,A,t,!1),t+2},o.prototype.writeUInt32LE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=A>>>24,this[t+2]=A>>>16,this[t+1]=A>>>8,this[t]=255&A):S(this,A,t,!0),t+4},o.prototype.writeUInt32BE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=A>>>24,this[t+1]=A>>>16,this[t+2]=A>>>8,this[t+3]=255&A):S(this,A,t,!1),t+4},o.prototype.writeIntLE=function(A,t,e,B){if(A=+A,t|=0,!B){var i=Math.pow(2,8*e-1);R(this,A,t,e,i-1,-i)}var g=0,n=1,s=0;for(this[t]=255&A;++g<e&&(n*=256);)A<0&&0===s&&0!==this[t+g-1]&&(s=1),this[t+g]=(A/n>>0)-s&255;return t+e},o.prototype.writeIntBE=function(A,t,e,B){if(A=+A,t|=0,!B){var i=Math.pow(2,8*e-1);R(this,A,t,e,i-1,-i)}var g=e-1,n=1,s=0;for(this[t+g]=255&A;--g>=0&&(n*=256);)A<0&&0===s&&0!==this[t+g+1]&&(s=1),this[t+g]=(A/n>>0)-s&255;return t+e},o.prototype.writeInt8=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[t]=255&A,t+1},o.prototype.writeInt16LE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&A,this[t+1]=A>>>8):k(this,A,t,!0),t+2},o.prototype.writeInt16BE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=A>>>8,this[t+1]=255&A):k(this,A,t,!1),t+2},o.prototype.writeInt32LE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&A,this[t+1]=A>>>8,this[t+2]=A>>>16,this[t+3]=A>>>24):S(this,A,t,!0),t+4},o.prototype.writeInt32BE=function(A,t,e){return A=+A,t|=0,e||R(this,A,t,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),o.TYPED_ARRAY_SUPPORT?(this[t]=A>>>24,this[t+1]=A>>>16,this[t+2]=A>>>8,this[t+3]=255&A):S(this,A,t,!1),t+4},o.prototype.writeFloatLE=function(A,t,e){return x(this,A,t,!0,e)},o.prototype.writeFloatBE=function(A,t,e){return x(this,A,t,!1,e)},o.prototype.writeDoubleLE=function(A,t,e){return H(this,A,t,!0,e)},o.prototype.writeDoubleBE=function(A,t,e){return H(this,A,t,!1,e)},o.prototype.copy=function(A,t,e,B){if(e||(e=0),B||0===B||(B=this.length),t>=A.length&&(t=A.length),t||(t=0),B>0&&B<e&&(B=e),B===e)return 0;if(0===A.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),A.length-t<B-e&&(B=A.length-t+e);var i,g=B-e;if(this===A&&e<t&&t<B)for(i=g-1;i>=0;--i)A[i+t]=this[i+e];else if(g<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<g;++i)A[i+t]=this[i+e];else Uint8Array.prototype.set.call(A,this.subarray(e,e+g),t);return g},o.prototype.fill=function(A,t,e,B){if("string"==typeof A){if("string"==typeof t?(B=t,t=0,e=this.length):"string"==typeof e&&(B=e,e=this.length),1===A.length){var i=A.charCodeAt(0);i<256&&(A=i)}if(void 0!==B&&"string"!=typeof B)throw new TypeError("encoding must be a string");if("string"==typeof B&&!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B)}else"number"==typeof A&&(A&=255);if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;var g;if(t>>>=0,e=void 0===e?this.length:e>>>0,A||(A=0),"number"==typeof A)for(g=t;g<e;++g)this[g]=A;else{var n=o.isBuffer(A)?A:b(new o(A,B).toString()),s=n.length;for(g=0;g<e-t;++g)this[g+t]=n[g%s]}return this};var T=/[^+\/0-9A-Za-z-_]/g;function j(A){return A<16?"0"+A.toString(16):A.toString(16)}function b(A,t){var e;t=t||1/0;for(var B=A.length,i=null,g=[],n=0;n<B;++n){if((e=A.charCodeAt(n))>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&g.push(239,191,189);continue}if(n+1===B){(t-=3)>-1&&g.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&g.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(t-=3)>-1&&g.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;g.push(e)}else if(e<2048){if((t-=2)<0)break;g.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;g.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;g.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return g}function V(A){return B.toByteArray(function(A){if((A=function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}(A).replace(T,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(A))}function z(A,t,e,B){for(var i=0;i<B&&!(i+e>=t.length||i>=A.length);++i)t[i+e]=A[i];return i}}).call(this,e(10))},function(A,t,e){function B(){}e(146).mixin(B),B.prototype.write=function(A,t,e){this.emit("item",A,t,e)},B.prototype.end=function(){this.emit("end"),this.removeAllListeners()},B.prototype.pipe=function(A){var t=this;function e(){A.write.apply(A,Array.prototype.slice.call(arguments))}function B(){!A._isStdio&&A.end()}return t.emit("unpipe",A),A.emit("pipe",t),t.on("item",e),t.on("end",B),t.when("unpipe",(function(i){var g=i===A||void 0===i;return g&&(t.removeListener("item",e),t.removeListener("end",B),A.emit("unpipe")),g})),A},B.prototype.unpipe=function(A){return this.emit("unpipe",A),this},B.prototype.format=function(A){throw new Error(["Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:","var Minilog = require('minilog');","Minilog","  .pipe(Minilog.backends.console.formatClean)","  .pipe(Minilog.backends.console);"].join("\n"))},B.mixin=function(A){var t,e=B.prototype;for(t in e)e.hasOwnProperty(t)&&(A.prototype[t]=e[t])},A.exports=B},function(A,t){A.exports=class{static simple(A){return JSON.parse(JSON.stringify(A))}}},function(A,t){class e{static get BACKGROUND_LAYER(){return"background"}static get VIDEO_LAYER(){return"video"}static get PEN_LAYER(){return"pen"}static get SPRITE_LAYER(){return"sprite"}static get LAYER_GROUPS(){return[e.BACKGROUND_LAYER,e.VIDEO_LAYER,e.PEN_LAYER,e.SPRITE_LAYER]}}A.exports=e},function(A,t,e){(function(t){class e{constructor(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.nowObj;this.startTime=0,this.nowObj=A}static get USE_PERFORMANCE(){return!1}static get legacyDateCode(){return{now:function(){return(new Date).getTime()}}}static get nowObj(){return e.USE_PERFORMANCE&&"undefined"!=typeof self&&self.performance&&"now"in self.performance?self.performance:Date.now?Date:e.legacyDateCode}time(){return this.nowObj.now()}relativeTime(){return this.nowObj.now()}start(){this.startTime=this.nowObj.now()}timeElapsed(){return this.nowObj.now()-this.startTime}setTimeout(A,e){return t.setTimeout(A,e)}clearTimeout(A){t.clearTimeout(A)}}A.exports=e}).call(this,e(10))},function(A,t,e){const B=e(231),i=e(81),g=e(35),n=e(47),s=e(15),{Map:o}=e(28),r=e(83),Q=e(84),a=e(1),c=e(11),E=e(48);class C{constructor(A,t){this.runtime=A,this._blocks={},this._scripts=[],Object.defineProperty(this,"_cache",{writable:!0,enumerable:!1}),this._cache={inputs:{},procedureParamNames:{},procedureDefinitions:{},_executeCached:{},_monitored:null,scripts:{},compiledScripts:{},compiledProcedures:{},proceduresPopulated:!1},this.forceNoGlow=t||!1}getCachedCompileResult(A){return this._cache.compiledScripts.hasOwnProperty(A)?this._cache.compiledScripts[A]:null}cacheCompileResult(A,t){this._cache.compiledScripts[A]={success:!0,value:t}}cacheCompileError(A,t){this._cache.compiledScripts[A]={success:!1,value:t}}static get BRANCH_INPUT_PREFIX(){return"SUBSTACK"}getBlock(A){return this._blocks[A]}getScripts(){return this._scripts}getNextBlock(A){const t=this._blocks[A];return void 0===t?null:t.next}getBranch(A,t){const e=this._blocks[A];if(void 0===e)return null;t||(t=1);let B=C.BRANCH_INPUT_PREFIX;t>1&&(B+=t);const i=e.inputs[B];return void 0===i?null:i.block}getOpcode(A){return void 0===A?null:A.opcode}getFields(A){return void 0===A?null:A.fields}getInputs(A){if(void 0===A)return null;let t=this._cache.inputs[A.id];if(void 0!==t)return t;t={};for(const e in A.inputs)e.substring(0,C.BRANCH_INPUT_PREFIX.length)!==C.BRANCH_INPUT_PREFIX&&(t[e]=A.inputs[e]);return this._cache.inputs[A.id]=t,t}getMutation(A){return void 0===A?null:A.mutation}getTopLevelScript(A){let t=this._blocks[A];if(void 0===t)return null;for(;null!==t.parent;)t=this._blocks[t.parent];return t.id}getProcedureDefinition(A){const t=this._cache.procedureDefinitions[A];if(void 0!==t)return t;for(const t in this._blocks){if(!this._blocks.hasOwnProperty(t))continue;const e=this._blocks[t];if("procedures_definition"===e.opcode){const B=this._getCustomBlockInternal(e);if(B&&B.mutation.proccode===A)return this._cache.procedureDefinitions[A]=t,t}}return this._cache.procedureDefinitions[A]=null,null}getProcedureParamNamesAndIds(A){return this.getProcedureParamNamesIdsAndDefaults(A).slice(0,2)}getProcedureParamNamesIdsAndDefaults(A){const t=this._cache.procedureParamNames[A];if(void 0!==t)return t;for(const t in this._blocks){if(!this._blocks.hasOwnProperty(t))continue;const e=this._blocks[t];if("procedures_prototype"===e.opcode&&e.mutation.proccode===A){const t=JSON.parse(e.mutation.argumentnames),B=JSON.parse(e.mutation.argumentids),i=JSON.parse(e.mutation.argumentdefaults);return this._cache.procedureParamNames[A]=[t,B,i],this._cache.procedureParamNames[A]}}const e=this.runtime.getAddonBlock(A);return e?(this._cache.procedureParamNames[A]=e.namesIdsDefaults,e.namesIdsDefaults):(this._cache.procedureParamNames[A]=null,null)}populateProcedureCache(){if(!this._cache.proceduresPopulated){for(const A in this._blocks){if(!this._blocks.hasOwnProperty(A))continue;const t=this._blocks[A];if("procedures_prototype"!==t.opcode){if("procedures_definition"===t.opcode){const e=this._getCustomBlockInternal(t);if(e){const t=e.mutation.proccode;this._cache.procedureDefinitions[t]||(this._cache.procedureDefinitions[t]=A);continue}}}else{const A=t.mutation.proccode;if(!this._cache.procedureParamNames[A]){const e=JSON.parse(t.mutation.argumentnames),B=JSON.parse(t.mutation.argumentids),i=JSON.parse(t.mutation.argumentdefaults);this._cache.procedureParamNames[A]=[e,B,i]}}}this._cache.proceduresPopulated=!0}}duplicate(){const A=new C(this.runtime,this.forceNoGlow);return A._blocks=s.simple(this._blocks),A._scripts=s.simple(this._scripts),A}blocklyListen(A){if("object"!=typeof A)return;if("string"!=typeof A.blockId&&"string"!=typeof A.varId&&"string"!=typeof A.commentId)return;const t=this.runtime.getTargetForStage(),e=this.runtime.getEditingTarget();if("stackclick"!==A.element)switch(A.type){case"create":{const t=B(A);for(let A=0;A<t.length;A++)this.createBlock(t[A]);break}case"change":this.changeBlock({id:A.blockId,element:A.element,name:A.name,value:A.newValue});break;case"move":this.moveBlock({id:A.blockId,oldParent:A.oldParentId,oldInput:A.oldInputName,newParent:A.newParentId,newInput:A.newInputName,newCoordinate:A.newCoordinate});break;case"dragOutside":this.runtime.emitBlockDragUpdate(A.isOutside);break;case"endDrag":if(this.runtime.emitBlockDragUpdate(!1),A.isOutside){const t=B(A);this.runtime.emitBlockEndDrag(t,A.blockId)}break;case"delete":if(!this._blocks.hasOwnProperty(A.blockId)||this._blocks[A.blockId].shadow)return;this._blocks[A.blockId].topLevel&&this.runtime.quietGlow(A.blockId),this.deleteBlock(A.blockId);break;case"var_create":if(this.resetCache(),A.isLocal&&e&&!e.isStage&&!A.isCloud)e.lookupVariableById(A.varId)||(e.createVariable(A.varId,A.varName,A.varType),this.emitProjectChanged());else{if(t.lookupVariableById(A.varId))return;const e=this.runtime.targets.filter(A=>A.isOriginal);for(const t of e)if(t.lookupVariableByNameAndType(A.varName,A.varType,!0))return;t.createVariable(A.varId,A.varName,A.varType,A.isCloud),this.emitProjectChanged()}break;case"var_rename":if(e&&e.variables.hasOwnProperty(A.varId))e.renameVariable(A.varId,A.newName),e.blocks.updateBlocksAfterVarRename(A.varId,A.newName);else{t.renameVariable(A.varId,A.newName);const e=this.runtime.targets;for(let t=0;t<e.length;t++){e[t].blocks.updateBlocksAfterVarRename(A.varId,A.newName)}}this.emitProjectChanged();break;case"var_delete":this.resetCache();(e&&e.variables.hasOwnProperty(A.varId)?e:t).deleteVariable(A.varId),this.emitProjectChanged();break;case"comment_create":if(this.resetCache(),this.runtime.getEditingTarget()){const t=this.runtime.getEditingTarget();t.createComment(A.commentId,A.blockId,A.text,A.xy.x,A.xy.y,A.width,A.height,A.minimized),null===t.comments[A.commentId].x&&null===t.comments[A.commentId].y&&(t.comments[A.commentId].x=A.xy.x,t.comments[A.commentId].y=A.xy.y)}this.emitProjectChanged();break;case"comment_change":if(this.resetCache(),this.runtime.getEditingTarget()){const t=this.runtime.getEditingTarget();if(!t.comments.hasOwnProperty(A.commentId))return void a.warn("Cannot change comment with id ".concat(A.commentId," because it does not exist."));const e=t.comments[A.commentId],B=A.newContents_;B.hasOwnProperty("minimized")&&(e.minimized=B.minimized),B.hasOwnProperty("width")&&B.hasOwnProperty("height")&&(e.width=B.width,e.height=B.height),B.hasOwnProperty("text")&&(e.text=B.text),this.emitProjectChanged()}break;case"comment_move":if(this.runtime.getEditingTarget()){const t=this.runtime.getEditingTarget();if(t&&!t.comments.hasOwnProperty(A.commentId))return void a.warn("Cannot change comment with id ".concat(A.commentId," because it does not exist."));const e=t.comments[A.commentId],B=A.newCoordinate_;e.x=B.x,e.y=B.y,this.emitProjectChanged()}break;case"comment_delete":if(this.resetCache(),this.runtime.getEditingTarget()){const t=this.runtime.getEditingTarget();if(!t.comments.hasOwnProperty(A.commentId))return;if(delete t.comments[A.commentId],A.blockId){const e=t.blocks.getBlock(A.blockId);if(!e)return void a.warn("Could not find block referenced by comment with id: ".concat(A.commentId));delete e.comment}this.emitProjectChanged()}}else this.runtime.toggleScript(A.blockId,{stackClick:!0})}resetCache(){this._cache.inputs={},this._cache.procedureParamNames={},this._cache.procedureDefinitions={},this._cache._executeCached={},this._cache._monitored=null,this._cache.scripts={},this._cache.compiledScripts={},this._cache.compiledProcedures={},this._cache.proceduresPopulated=!1}emitProjectChanged(){this.forceNoGlow||this.runtime.emitProjectChanged()}createBlock(A){this._blocks.hasOwnProperty(A.id)||(this._blocks[A.id]=A,A.topLevel&&this._addScript(A.id),this.resetCache(),this.emitProjectChanged())}changeBlock(A){if(-1===["field","mutation","checkbox"].indexOf(A.element))return;let t=this._blocks[A.id];if(void 0!==t){switch(A.element){case"field":if(!t.fields[A.name])return;if("VARIABLE"===A.name||"LIST"===A.name||"BROADCAST_OPTION"===A.name){const e=this.runtime.getEditingTarget().lookupVariableById(A.value);e&&(t.fields[A.name].value=e.name,t.fields[A.name].id=A.value)}else{t.fields[A.name].value=A.value,"sensing_of_object_menu"===t.opcode&&("_stage_"===t.fields.OBJECT.value?this._blocks[t.parent].fields.PROPERTY.value="backdrop #":this._blocks[t.parent].fields.PROPERTY.value="x position",this.runtime.requestBlocksUpdate());const e=t.shadow&&t.parent?this._blocks[t.parent]:t;e.isMonitored&&this.runtime.requestUpdateMonitor(o({id:e.id,params:this._getBlockParams(e)}))}break;case"mutation":t.mutation=i(A.value);break;case"checkbox":{if(t.fields&&Object.keys(t.fields).length>0&&"data_variable"!==t.opcode&&"data_listcontents"!==t.opcode){const A=E(t.id,t.fields);let e=this.runtime.monitorBlocks.getBlock(A);e||(e=JSON.parse(JSON.stringify(t)),e.id=A,this.runtime.monitorBlocks.createBlock(e)),t=e}const e=t.isMonitored;t.isMonitored=A.value;let B=!1;"data_variable"===t.opcode?B=!this.runtime.getTargetForStage().variables[t.fields.VARIABLE.id]:"data_listcontents"===t.opcode&&(B=!this.runtime.getTargetForStage().variables[t.fields.LIST.id]);const i=B||this.runtime.monitorBlockInfo.hasOwnProperty(t.opcode)&&this.runtime.monitorBlockInfo[t.opcode].isSpriteSpecific;t.targetId=i?t.targetId||this.runtime.getEditingTarget().id:null,e&&!t.isMonitored?this.runtime.requestHideMonitor(t.id):!e&&t.isMonitored&&(this.runtime.requestShowMonitor(t.id)||this.runtime.requestAddMonitor(n({id:t.id,targetId:t.targetId,spriteName:t.targetId?this.runtime.getTargetById(t.targetId).getName():null,opcode:t.opcode,params:this._getBlockParams(t),value:"",mode:"data_listcontents"===t.opcode?"list":"default"})));break}}this.emitProjectChanged(),this.resetCache()}}moveBlock(A){if(!this._blocks.hasOwnProperty(A.id))return;const t=this._blocks[A.id];let e=!1;if(A.newCoordinate&&(e=t.x!==A.newCoordinate.x||t.y!==A.newCoordinate.y,t.x=A.newCoordinate.x,t.y=A.newCoordinate.y),void 0!==A.oldParent){const t=this._blocks[A.oldParent];void 0!==A.oldInput&&t.inputs[A.oldInput].block===A.id?t.inputs[A.oldInput].block=null:t.next===A.id&&(t.next=null),this._blocks[A.id].parent=null,e=!0}if(void 0===A.newParent)this._addScript(A.id);else{if(this._deleteScript(A.id),void 0===A.newInput)this._blocks[A.newParent].next=A.id;else{let t=null;this._blocks[A.newParent].inputs.hasOwnProperty(A.newInput)&&(t=this._blocks[A.newParent].inputs[A.newInput].shadow),this._blocks[A.id].shadow&&(t=A.id),this._blocks[A.newParent].inputs[A.newInput]={name:A.newInput,block:A.id,shadow:t}}this._blocks[A.id].parent=A.newParent,e=!0}this.resetCache(),e&&this.emitProjectChanged()}runAllMonitored(A){null===this._cache._monitored&&(this._cache._monitored=Object.keys(this._blocks).filter(A=>this.getBlock(A).isMonitored).map(t=>{const e=this.getBlock(t).targetId;return{blockId:t,target:e?A.getTargetById(e):null}}));const t=this._cache._monitored;for(let e=0;e<t.length;e++){const{blockId:B,target:i}=t[e];A.addMonitorScript(B,i)}}deleteBlock(A){const t=this._blocks[A];if(t){null!==t.next&&this.deleteBlock(t.next);for(const A in t.inputs)null!==t.inputs[A].block&&this.deleteBlock(t.inputs[A].block),null!==t.inputs[A].shadow&&t.inputs[A].shadow!==t.inputs[A].block&&this.deleteBlock(t.inputs[A].shadow);this._deleteScript(A),delete this._blocks[A],this.resetCache(),this.emitProjectChanged()}}getAllVariableAndListReferences(A,t){const e=A||this._blocks,B=Object.create(null);for(const A in e){let i=null,g=null;if(e[A].fields.VARIABLE?(i=e[A].fields.VARIABLE,g=c.SCALAR_TYPE):e[A].fields.LIST?(i=e[A].fields.LIST,g=c.LIST_TYPE):t&&e[A].fields.BROADCAST_OPTION&&(i=e[A].fields.BROADCAST_OPTION,g=c.BROADCAST_MESSAGE_TYPE),i){const A=i.id;B[A]?B[A].push({referencingField:i,type:g}):B[A]=[{referencingField:i,type:g}]}}return B}updateBlocksAfterVarRename(A,t){const e=this._blocks;for(const B in e){let i=null;if(e[B].fields.VARIABLE?i=e[B].fields.VARIABLE:e[B].fields.LIST&&(i=e[B].fields.LIST),i){A===i.id&&(i.value=t)}}}updateTargetSpecificBlocks(A){const t=this._blocks;for(const e in t)A&&"event_whenthisspriteclicked"===t[e].opcode?t[e].opcode="event_whenstageclicked":A||"event_whenstageclicked"!==t[e].opcode||(t[e].opcode="event_whenthisspriteclicked")}updateAssetName(A,t,e){let B;if("costume"===e)B=this._getCostumeField.bind(this);else if("sound"===e)B=this._getSoundField.bind(this);else if("backdrop"===e)B=this._getBackdropField.bind(this);else{if("sprite"!==e)return;B=this._getSpriteField.bind(this)}const i=this._blocks;for(const e in i){const i=B(e);i&&i.value===A&&(i.value=t)}this.resetCache()}updateSensingOfReference(A,t,e){const B=this._blocks;let i=!1;for(const g in B){const n=B[g];if("sensing_of"===n.opcode&&n.fields.PROPERTY.value===A&&n.inputs.OBJECT.block===n.inputs.OBJECT.shadow){this.getBlock(n.inputs.OBJECT.block).fields.OBJECT.value===e&&(n.fields.PROPERTY.value=t,i=!0)}}return i&&this.resetCache(),i}_getCostumeField(A){const t=this.getBlock(A);return t&&t.fields.hasOwnProperty("COSTUME")?t.fields.COSTUME:null}_getSoundField(A){const t=this.getBlock(A);return t&&t.fields.hasOwnProperty("SOUND_MENU")?t.fields.SOUND_MENU:null}_getBackdropField(A){const t=this.getBlock(A);return t&&t.fields.hasOwnProperty("BACKDROP")?t.fields.BACKDROP:null}_getSpriteField(A){const t=this.getBlock(A);if(!t)return null;const e=["TOWARDS","TO","OBJECT","VIDEOONMENU2","DISTANCETOMENU","TOUCHINGOBJECTMENU","CLONE_OPTION"];for(let A=0;A<e.length;A++){const B=e[A];if(t.fields.hasOwnProperty(B))return t.fields[B]}return null}toXML(A){return this._scripts.map(t=>this.blockToXML(t,A)).join()}blockToXML(A,t){const e=this._blocks[A];if(!e)return;const B=e.shadow?"shadow":"block";let i="<".concat(B,'\n                id="').concat(g(e.id),'"\n                type="').concat(g(e.opcode),'"\n                ').concat(e.topLevel?'x="'.concat(e.x,'" y="').concat(e.y,'"'):"","\n            >");const n=e.comment;n&&(t?t.hasOwnProperty(n)?i+=t[n].toXML():a.warn("Could not find comment with id: ".concat(n," in provided comment descriptions.")):a.warn("Cannot serialize comment with id: ".concat(n,"; no comment descriptions provided."))),e.mutation&&(i+=this.mutationToXML(e.mutation));for(const A in e.inputs){if(!e.inputs.hasOwnProperty(A))continue;const B=e.inputs[A];(B.block||B.shadow)&&(i+='<value name="'.concat(g(B.name),'">'),B.block&&(i+=this.blockToXML(B.block,t)),B.shadow&&B.shadow!==B.block&&(i+=this.blockToXML(B.shadow,t)),i+="</value>")}for(const A in e.fields){if(!e.fields.hasOwnProperty(A))continue;const t=e.fields[A];i+='<field name="'.concat(g(t.name),'"');const B=t.id;B&&(i+=' id="'.concat(g(B),'"'));const n=t.variableType;"string"==typeof n&&(i+=' variabletype="'.concat(g(n),'"'));let s=t.value;"string"==typeof s&&(s=g(t.value)),i+=">".concat(s,"</field>")}return e.next&&(i+="<next>".concat(this.blockToXML(e.next,t),"</next>")),i+="</".concat(B,">"),i}mutationToXML(A){let t="<".concat(A.tagName);for(const e in A){if("children"===e||"tagName"===e)continue;let B="string"==typeof A[e]?g(A[e]):A[e];"blockInfo"===e&&(B=g(JSON.stringify(A[e]))),t+=" ".concat(e,'="').concat(B,'"')}t+=">";for(let e=0;e<A.children.length;e++)t+=this.mutationToXML(A.children[e]);return t+="</".concat(A.tagName,">"),t}_getBlockParams(A){const t={};for(const e in A.fields)t[e]=A.fields[e].value;for(const e in A.inputs){const B=this._blocks[A.inputs[e].block];for(const A in B.fields)t[A]=B.fields[A].value}return t}_getCustomBlockInternal(A){if(A.inputs&&A.inputs.custom_block)return this._blocks[A.inputs.custom_block.block]}_addScript(A){this._scripts.indexOf(A)>-1||(this._scripts.push(A),this._blocks[A].topLevel=!0)}_deleteScript(A){const t=this._scripts.indexOf(A);t>-1&&this._scripts.splice(t,1),this._blocks[A]&&(this._blocks[A].topLevel=!1)}}r.getCached=function(A,t,e){let B=A._cache._executeCached[t];if(void 0!==B)return B;const i=A.getBlock(t);return void 0===i?null:(B=void 0===e?{id:t,opcode:A.getOpcode(i),fields:A.getFields(i),inputs:A.getInputs(i),mutation:A.getMutation(i)}:new e(A,{id:t,opcode:A.getOpcode(i),fields:A.getFields(i),inputs:A.getInputs(i),mutation:A.getMutation(i)}),A._cache._executeCached[t]=B,B)};const w=Q._RuntimeScriptCache;Q.getScripts=function(A,t){let e=A._cache.scripts[t];if(!e){e=A._cache.scripts[t]=[];const B=A._scripts;for(let i=0;i<B.length;i++){const g=B[i];A.getBlock(g).opcode===t&&e.push(new w(A,g))}}return e},A.exports=C},function(A,t,e){var B=e(0).TYPE,i=B.WhiteSpace,g=B.Semicolon,n=B.LeftCurlyBracket,s=B.Delim;function o(){return this.scanner.tokenIndex>0&&this.scanner.lookupType(-1)===i?this.scanner.tokenIndex>1?this.scanner.getTokenStart(this.scanner.tokenIndex-1):this.scanner.firstCharOffset:this.scanner.tokenStart}function r(){return 0}A.exports={name:"Raw",structure:{value:String},parse:function(A,t,e){var B,i=this.scanner.getTokenStart(A);return this.scanner.skip(this.scanner.getRawLength(A,t||r)),B=e&&this.scanner.tokenStart>i?o.call(this):this.scanner.tokenStart,{type:"Raw",loc:this.getLocation(i,B),value:this.scanner.source.substring(i,B)}},generate:function(A){this.chunk(A.value)},mode:{default:r,leftCurlyBracket:function(A){return A===n?1:0},leftCurlyBracketOrSemicolon:function(A){return A===n||A===g?1:0},exclamationMarkOrSemicolon:function(A,t,e){return A===s&&33===t.charCodeAt(e)||A===g?1:0},semicolonIncluded:function(A){return A===g?2:0}}}},function(A,t,e){"use strict";var B,i="object"==typeof Reflect?Reflect:null,g=i&&"function"==typeof i.apply?i.apply:function(A,t,e){return Function.prototype.apply.call(A,t,e)};B=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var n=Number.isNaN||function(A){return A!=A};function s(){s.init.call(this)}A.exports=s,A.exports.once=function(A,t){return new Promise((function(e,B){function i(e){A.removeListener(t,g),B(e)}function g(){"function"==typeof A.removeListener&&A.removeListener("error",i),e([].slice.call(arguments))}l(A,t,g,{once:!0}),"error"!==t&&function(A,t,e){"function"==typeof A.on&&l(A,"error",t,e)}(A,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function r(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function Q(A){return void 0===A._maxListeners?s.defaultMaxListeners:A._maxListeners}function a(A,t,e,B){var i,g,n,s;if(r(e),void 0===(g=A._events)?(g=A._events=Object.create(null),A._eventsCount=0):(void 0!==g.newListener&&(A.emit("newListener",t,e.listener?e.listener:e),g=A._events),n=g[t]),void 0===n)n=g[t]=e,++A._eventsCount;else if("function"==typeof n?n=g[t]=B?[e,n]:[n,e]:B?n.unshift(e):n.push(e),(i=Q(A))>0&&n.length>i&&!n.warned){n.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=A,o.type=t,o.count=n.length,s=o,console&&console.warn&&console.warn(s)}return A}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(A,t,e){var B={fired:!1,wrapFn:void 0,target:A,type:t,listener:e},i=c.bind(B);return i.listener=e,B.wrapFn=i,i}function C(A,t,e){var B=A._events;if(void 0===B)return[];var i=B[t];return void 0===i?[]:"function"==typeof i?e?[i.listener||i]:[i]:e?function(A){for(var t=new Array(A.length),e=0;e<t.length;++e)t[e]=A[e].listener||A[e];return t}(i):I(i,i.length)}function w(A){var t=this._events;if(void 0!==t){var e=t[A];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function I(A,t){for(var e=new Array(t),B=0;B<t;++B)e[B]=A[B];return e}function l(A,t,e,B){if("function"==typeof A.on)B.once?A.once(t,e):A.on(t,e);else{if("function"!=typeof A.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A);A.addEventListener(t,(function i(g){B.once&&A.removeEventListener(t,i),e(g)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(A){if("number"!=typeof A||A<0||n(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");o=A}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if("number"!=typeof A||A<0||n(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},s.prototype.getMaxListeners=function(){return Q(this)},s.prototype.emit=function(A){for(var t=[],e=1;e<arguments.length;e++)t.push(arguments[e]);var B="error"===A,i=this._events;if(void 0!==i)B=B&&void 0===i.error;else if(!B)return!1;if(B){var n;if(t.length>0&&(n=t[0]),n instanceof Error)throw n;var s=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw s.context=n,s}var o=i[A];if(void 0===o)return!1;if("function"==typeof o)g(o,this,t);else{var r=o.length,Q=I(o,r);for(e=0;e<r;++e)g(Q[e],this,t)}return!0},s.prototype.addListener=function(A,t){return a(this,A,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,t){return a(this,A,t,!0)},s.prototype.once=function(A,t){return r(t),this.on(A,E(this,A,t)),this},s.prototype.prependOnceListener=function(A,t){return r(t),this.prependListener(A,E(this,A,t)),this},s.prototype.removeListener=function(A,t){var e,B,i,g,n;if(r(t),void 0===(B=this._events))return this;if(void 0===(e=B[A]))return this;if(e===t||e.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete B[A],B.removeListener&&this.emit("removeListener",A,e.listener||t));else if("function"!=typeof e){for(i=-1,g=e.length-1;g>=0;g--)if(e[g]===t||e[g].listener===t){n=e[g].listener,i=g;break}if(i<0)return this;0===i?e.shift():function(A,t){for(;t+1<A.length;t++)A[t]=A[t+1];A.pop()}(e,i),1===e.length&&(B[A]=e[0]),void 0!==B.removeListener&&this.emit("removeListener",A,n||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var t,e,B;if(void 0===(e=this._events))return this;if(void 0===e.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==e[A]&&(0==--this._eventsCount?this._events=Object.create(null):delete e[A]),this;if(0===arguments.length){var i,g=Object.keys(e);for(B=0;B<g.length;++B)"removeListener"!==(i=g[B])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=e[A]))this.removeListener(A,t);else if(void 0!==t)for(B=t.length-1;B>=0;B--)this.removeListener(A,t[B]);return this},s.prototype.listeners=function(A){return C(this,A,!0)},s.prototype.rawListeners=function(A){return C(this,A,!1)},s.listenerCount=function(A,t){return"function"==typeof A.listenerCount?A.listenerCount(t):w.call(A,t)},s.prototype.listenerCount=w,s.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},function(A,t,e){const B=e(161),i=e(163);class g{static base64ToUint8Array(A){const t=B(A),e=t.length,i=new Uint8Array(e);for(let A=0;A<e;A++)i[A]=t.charCodeAt(A);return i}static uint8ArrayToBase64(A){let t="";const e=A.byteLength;for(let B=0;B<e;B++)t+=String.fromCharCode(A[B]);return i(t)}static arrayBufferToBase64(A){return g.uint8ArrayToBase64(new Uint8Array(A))}}A.exports=g},function(A,t){function e(A){return{prev:null,next:null,data:A}}function B(A,t,e){var B;return null!==g?(B=g,g=g.cursor,B.prev=t,B.next=e,B.cursor=A.cursor):B={prev:t,next:e,cursor:A.cursor},A.cursor=B,B}function i(A){var t=A.cursor;A.cursor=t.cursor,t.prev=null,t.next=null,t.cursor=g,g=t}var g=null,n=function(){this.cursor=null,this.head=null,this.tail=null};n.createItem=e,n.prototype.createItem=e,n.prototype.updateCursors=function(A,t,e,B){for(var i=this.cursor;null!==i;)i.prev===A&&(i.prev=t),i.next===e&&(i.next=B),i=i.cursor},n.prototype.getSize=function(){for(var A=0,t=this.head;t;)A++,t=t.next;return A},n.prototype.fromArray=function(A){var t=null;this.head=null;for(var B=0;B<A.length;B++){var i=e(A[B]);null!==t?t.next=i:this.head=i,i.prev=t,t=i}return this.tail=t,this},n.prototype.toArray=function(){for(var A=this.head,t=[];A;)t.push(A.data),A=A.next;return t},n.prototype.toJSON=n.prototype.toArray,n.prototype.isEmpty=function(){return null===this.head},n.prototype.first=function(){return this.head&&this.head.data},n.prototype.last=function(){return this.tail&&this.tail.data},n.prototype.each=function(A,t){var e;void 0===t&&(t=this);for(var g=B(this,null,this.head);null!==g.next;)e=g.next,g.next=e.next,A.call(t,e.data,e,this);i(this)},n.prototype.forEach=n.prototype.each,n.prototype.eachRight=function(A,t){var e;void 0===t&&(t=this);for(var g=B(this,this.tail,null);null!==g.prev;)e=g.prev,g.prev=e.prev,A.call(t,e.data,e,this);i(this)},n.prototype.forEachRight=n.prototype.eachRight,n.prototype.reduce=function(A,t,e){var g;void 0===e&&(e=this);for(var n=B(this,null,this.head),s=t;null!==n.next;)g=n.next,n.next=g.next,s=A.call(e,s,g.data,g,this);return i(this),s},n.prototype.reduceRight=function(A,t,e){var g;void 0===e&&(e=this);for(var n=B(this,this.tail,null),s=t;null!==n.prev;)g=n.prev,n.prev=g.prev,s=A.call(e,s,g.data,g,this);return i(this),s},n.prototype.nextUntil=function(A,t,e){if(null!==A){var g;void 0===e&&(e=this);for(var n=B(this,null,A);null!==n.next&&(g=n.next,n.next=g.next,!t.call(e,g.data,g,this)););i(this)}},n.prototype.prevUntil=function(A,t,e){if(null!==A){var g;void 0===e&&(e=this);for(var n=B(this,A,null);null!==n.prev&&(g=n.prev,n.prev=g.prev,!t.call(e,g.data,g,this)););i(this)}},n.prototype.some=function(A,t){var e=this.head;for(void 0===t&&(t=this);null!==e;){if(A.call(t,e.data,e,this))return!0;e=e.next}return!1},n.prototype.map=function(A,t){var e=new n,B=this.head;for(void 0===t&&(t=this);null!==B;)e.appendData(A.call(t,B.data,B,this)),B=B.next;return e},n.prototype.filter=function(A,t){var e=new n,B=this.head;for(void 0===t&&(t=this);null!==B;)A.call(t,B.data,B,this)&&e.appendData(B.data),B=B.next;return e},n.prototype.clear=function(){this.head=null,this.tail=null},n.prototype.copy=function(){for(var A=new n,t=this.head;null!==t;)A.insert(e(t.data)),t=t.next;return A},n.prototype.prepend=function(A){return this.updateCursors(null,A,this.head,A),null!==this.head?(this.head.prev=A,A.next=this.head):this.tail=A,this.head=A,this},n.prototype.prependData=function(A){return this.prepend(e(A))},n.prototype.append=function(A){return this.insert(A)},n.prototype.appendData=function(A){return this.insert(e(A))},n.prototype.insert=function(A,t){if(null!=t)if(this.updateCursors(t.prev,A,t,A),null===t.prev){if(this.head!==t)throw new Error("before doesn't belong to list");this.head=A,t.prev=A,A.next=t,this.updateCursors(null,A)}else t.prev.next=A,A.prev=t.prev,t.prev=A,A.next=t;else this.updateCursors(this.tail,A,null,A),null!==this.tail?(this.tail.next=A,A.prev=this.tail):this.head=A,this.tail=A;return this},n.prototype.insertData=function(A,t){return this.insert(e(A),t)},n.prototype.remove=function(A){if(this.updateCursors(A,A.prev,A,A.next),null!==A.prev)A.prev.next=A.next;else{if(this.head!==A)throw new Error("item doesn't belong to list");this.head=A.next}if(null!==A.next)A.next.prev=A.prev;else{if(this.tail!==A)throw new Error("item doesn't belong to list");this.tail=A.prev}return A.prev=null,A.next=null,A},n.prototype.push=function(A){this.insert(e(A))},n.prototype.pop=function(){if(null!==this.tail)return this.remove(this.tail)},n.prototype.unshift=function(A){this.prepend(e(A))},n.prototype.shift=function(){if(null!==this.head)return this.remove(this.head)},n.prototype.prependList=function(A){return this.insertList(A,this.head)},n.prototype.appendList=function(A){return this.insertList(A)},n.prototype.insertList=function(A,t){return null===A.head||(null!=t?(this.updateCursors(t.prev,A.tail,t,A.head),null!==t.prev?(t.prev.next=A.head,A.head.prev=t.prev):this.head=A.head,t.prev=A.tail,A.tail.next=t):(this.updateCursors(this.tail,A.tail,null,A.head),null!==this.tail?(this.tail.next=A.head,A.head.prev=this.tail):this.head=A.head,this.tail=A.tail),A.head=null,A.tail=null),this},n.prototype.replace=function(A,t){"head"in t?this.insertList(t,A):this.insert(t,A),this.remove(A)},A.exports=n},function(A,t,e){e(33),A.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(396),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(A){return"[object Array]"===Object.prototype.toString.call(A)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(A){return"object"==typeof A&&A.buffer&&A.buffer.constructor===ArrayBuffer});var createOutputMethod=function(A){return function(t){return new Md5(!0).update(t)[A]()}},createMethod=function(){var A=createOutputMethod("hex");NODE_JS&&(A=nodeWrap(A)),A.create=function(){return new Md5},A.update=function(t){return A.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var e=OUTPUT_TYPES[t];A[e]=createOutputMethod(e)}return A},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(A){if("string"==typeof A)return crypto.createHash("md5").update(A,"utf8").digest("hex");if(null==A)throw ERROR;return A.constructor===ArrayBuffer&&(A=new Uint8Array(A)),Array.isArray(A)||ArrayBuffer.isView(A)||A.constructor===Buffer?crypto.createHash("md5").update(new Buffer(A)).digest("hex"):method(A)};return nodeMethod};function Md5(A){if(A)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(A){if(!this.finalized){var t,e=typeof A;if("string"!==e){if("object"!==e)throw ERROR;if(null===A)throw ERROR;if(ARRAY_BUFFER&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!(Array.isArray(A)||ARRAY_BUFFER&&ArrayBuffer.isView(A)))throw ERROR;t=!0}for(var B,i,g=0,n=A.length,s=this.blocks,o=this.buffer8;g<n;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)if(ARRAY_BUFFER)for(i=this.start;g<n&&i<64;++g)o[i++]=A[g];else for(i=this.start;g<n&&i<64;++g)s[i>>2]|=A[g]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;g<n&&i<64;++g)(B=A.charCodeAt(g))<128?o[i++]=B:B<2048?(o[i++]=192|B>>6,o[i++]=128|63&B):B<55296||B>=57344?(o[i++]=224|B>>12,o[i++]=128|B>>6&63,o[i++]=128|63&B):(B=65536+((1023&B)<<10|1023&A.charCodeAt(++g)),o[i++]=240|B>>18,o[i++]=128|B>>12&63,o[i++]=128|B>>6&63,o[i++]=128|63&B);else for(i=this.start;g<n&&i<64;++g)(B=A.charCodeAt(g))<128?s[i>>2]|=B<<SHIFT[3&i++]:B<2048?(s[i>>2]|=(192|B>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&B)<<SHIFT[3&i++]):B<55296||B>=57344?(s[i>>2]|=(224|B>>12)<<SHIFT[3&i++],s[i>>2]|=(128|B>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&B)<<SHIFT[3&i++]):(B=65536+((1023&B)<<10|1023&A.charCodeAt(++g)),s[i>>2]|=(240|B>>18)<<SHIFT[3&i++],s[i>>2]|=(128|B>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|B>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&B)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,t=this.lastByteIndex;A[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),A[0]=A[16],A[16]=A[1]=A[2]=A[3]=A[4]=A[5]=A[6]=A[7]=A[8]=A[9]=A[10]=A[11]=A[12]=A[13]=A[14]=A[15]=0),A[14]=this.bytes<<3,A[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var A,t,e,B,i,g,n=this.blocks;this.first?t=((t=((A=((A=n[0]-680876937)<<7|A>>>25)-271733879<<0)^(e=((e=(-271733879^(B=((B=(-1732584194^2004318071&A)+n[1]-117830708)<<12|B>>>20)+A<<0)&(-271733879^A))+n[2]-1126478375)<<17|e>>>15)+B<<0)&(B^A))+n[3]-1316259209)<<22|t>>>10)+e<<0:(A=this.h0,t=this.h1,e=this.h2,t=((t+=((A=((A+=((B=this.h3)^t&(e^B))+n[0]-680876936)<<7|A>>>25)+t<<0)^(e=((e+=(t^(B=((B+=(e^A&(t^e))+n[1]-389564586)<<12|B>>>20)+A<<0)&(A^t))+n[2]+606105819)<<17|e>>>15)+B<<0)&(B^A))+n[3]-1044525330)<<22|t>>>10)+e<<0),t=((t+=((A=((A+=(B^t&(e^B))+n[4]-176418897)<<7|A>>>25)+t<<0)^(e=((e+=(t^(B=((B+=(e^A&(t^e))+n[5]+1200080426)<<12|B>>>20)+A<<0)&(A^t))+n[6]-1473231341)<<17|e>>>15)+B<<0)&(B^A))+n[7]-45705983)<<22|t>>>10)+e<<0,t=((t+=((A=((A+=(B^t&(e^B))+n[8]+1770035416)<<7|A>>>25)+t<<0)^(e=((e+=(t^(B=((B+=(e^A&(t^e))+n[9]-1958414417)<<12|B>>>20)+A<<0)&(A^t))+n[10]-42063)<<17|e>>>15)+B<<0)&(B^A))+n[11]-1990404162)<<22|t>>>10)+e<<0,t=((t+=((A=((A+=(B^t&(e^B))+n[12]+1804603682)<<7|A>>>25)+t<<0)^(e=((e+=(t^(B=((B+=(e^A&(t^e))+n[13]-40341101)<<12|B>>>20)+A<<0)&(A^t))+n[14]-1502002290)<<17|e>>>15)+B<<0)&(B^A))+n[15]+1236535329)<<22|t>>>10)+e<<0,t=((t+=((B=((B+=(t^e&((A=((A+=(e^B&(t^e))+n[1]-165796510)<<5|A>>>27)+t<<0)^t))+n[6]-1069501632)<<9|B>>>23)+A<<0)^A&((e=((e+=(A^t&(B^A))+n[11]+643717713)<<14|e>>>18)+B<<0)^B))+n[0]-373897302)<<20|t>>>12)+e<<0,t=((t+=((B=((B+=(t^e&((A=((A+=(e^B&(t^e))+n[5]-701558691)<<5|A>>>27)+t<<0)^t))+n[10]+38016083)<<9|B>>>23)+A<<0)^A&((e=((e+=(A^t&(B^A))+n[15]-660478335)<<14|e>>>18)+B<<0)^B))+n[4]-405537848)<<20|t>>>12)+e<<0,t=((t+=((B=((B+=(t^e&((A=((A+=(e^B&(t^e))+n[9]+568446438)<<5|A>>>27)+t<<0)^t))+n[14]-1019803690)<<9|B>>>23)+A<<0)^A&((e=((e+=(A^t&(B^A))+n[3]-187363961)<<14|e>>>18)+B<<0)^B))+n[8]+1163531501)<<20|t>>>12)+e<<0,t=((t+=((B=((B+=(t^e&((A=((A+=(e^B&(t^e))+n[13]-1444681467)<<5|A>>>27)+t<<0)^t))+n[2]-51403784)<<9|B>>>23)+A<<0)^A&((e=((e+=(A^t&(B^A))+n[7]+1735328473)<<14|e>>>18)+B<<0)^B))+n[12]-1926607734)<<20|t>>>12)+e<<0,t=((t+=((g=(B=((B+=((i=t^e)^(A=((A+=(i^B)+n[5]-378558)<<4|A>>>28)+t<<0))+n[8]-2022574463)<<11|B>>>21)+A<<0)^A)^(e=((e+=(g^t)+n[11]+1839030562)<<16|e>>>16)+B<<0))+n[14]-35309556)<<23|t>>>9)+e<<0,t=((t+=((g=(B=((B+=((i=t^e)^(A=((A+=(i^B)+n[1]-1530992060)<<4|A>>>28)+t<<0))+n[4]+1272893353)<<11|B>>>21)+A<<0)^A)^(e=((e+=(g^t)+n[7]-155497632)<<16|e>>>16)+B<<0))+n[10]-1094730640)<<23|t>>>9)+e<<0,t=((t+=((g=(B=((B+=((i=t^e)^(A=((A+=(i^B)+n[13]+681279174)<<4|A>>>28)+t<<0))+n[0]-358537222)<<11|B>>>21)+A<<0)^A)^(e=((e+=(g^t)+n[3]-722521979)<<16|e>>>16)+B<<0))+n[6]+76029189)<<23|t>>>9)+e<<0,t=((t+=((g=(B=((B+=((i=t^e)^(A=((A+=(i^B)+n[9]-640364487)<<4|A>>>28)+t<<0))+n[12]-421815835)<<11|B>>>21)+A<<0)^A)^(e=((e+=(g^t)+n[15]+530742520)<<16|e>>>16)+B<<0))+n[2]-995338651)<<23|t>>>9)+e<<0,t=((t+=((B=((B+=(t^((A=((A+=(e^(t|~B))+n[0]-198630844)<<6|A>>>26)+t<<0)|~e))+n[7]+1126891415)<<10|B>>>22)+A<<0)^((e=((e+=(A^(B|~t))+n[14]-1416354905)<<15|e>>>17)+B<<0)|~A))+n[5]-57434055)<<21|t>>>11)+e<<0,t=((t+=((B=((B+=(t^((A=((A+=(e^(t|~B))+n[12]+1700485571)<<6|A>>>26)+t<<0)|~e))+n[3]-1894986606)<<10|B>>>22)+A<<0)^((e=((e+=(A^(B|~t))+n[10]-1051523)<<15|e>>>17)+B<<0)|~A))+n[1]-2054922799)<<21|t>>>11)+e<<0,t=((t+=((B=((B+=(t^((A=((A+=(e^(t|~B))+n[8]+1873313359)<<6|A>>>26)+t<<0)|~e))+n[15]-30611744)<<10|B>>>22)+A<<0)^((e=((e+=(A^(B|~t))+n[6]-1560198380)<<15|e>>>17)+B<<0)|~A))+n[13]+1309151649)<<21|t>>>11)+e<<0,t=((t+=((B=((B+=(t^((A=((A+=(e^(t|~B))+n[4]-145523070)<<6|A>>>26)+t<<0)|~e))+n[11]-1120210379)<<10|B>>>22)+A<<0)^((e=((e+=(A^(B|~t))+n[2]+718787259)<<15|e>>>17)+B<<0)|~A))+n[9]-343485551)<<21|t>>>11)+e<<0,this.first?(this.h0=A+1732584193<<0,this.h1=t-271733879<<0,this.h2=e-1732584194<<0,this.h3=B+271733878<<0,this.first=!1):(this.h0=this.h0+A<<0,this.h1=this.h1+t<<0,this.h2=this.h2+e<<0,this.h3=this.h3+B<<0)},Md5.prototype.hex=function(){this.finalize();var A=this.h0,t=this.h1,e=this.h2,B=this.h3;return HEX_CHARS[A>>4&15]+HEX_CHARS[15&A]+HEX_CHARS[A>>12&15]+HEX_CHARS[A>>8&15]+HEX_CHARS[A>>20&15]+HEX_CHARS[A>>16&15]+HEX_CHARS[A>>28&15]+HEX_CHARS[A>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[15&B]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var A=this.h0,t=this.h1,e=this.h2,B=this.h3;return[255&A,A>>8&255,A>>16&255,A>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&B,B>>8&255,B>>16&255,B>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var A=new ArrayBuffer(16),t=new Uint32Array(A);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,A},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var A,t,e,B="",i=this.array(),g=0;g<15;)A=i[g++],t=i[g++],e=i[g++],B+=BASE64_ENCODE_CHAR[A>>>2]+BASE64_ENCODE_CHAR[63&(A<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|e>>>6)]+BASE64_ENCODE_CHAR[63&e];return A=i[g],B+=BASE64_ENCODE_CHAR[A>>>2]+BASE64_ENCODE_CHAR[A<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(44),__webpack_require__(10))},function(A,t,e){(function(t,e,B,i){A.exports=function A(t,e,B){function i(n,s){if(!e[n]){if(!t[n]){if(g)return g(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=e[n]={exports:{}};t[n][0].call(r.exports,(function(A){return i(t[n][1][A]||A)}),r,r.exports,A,t,e,B)}return e[n].exports}for(var g=!1,n=0;n<B.length;n++)i(B[n]);return i}({1:[function(A,t,e){"use strict";var B=A("./utils"),i=A("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(A){for(var t,e,i,n,s,o,r,Q=[],a=0,c=A.length,E=c,C="string"!==B.getTypeOf(A);a<A.length;)E=c-a,i=C?(t=A[a++],e=a<c?A[a++]:0,a<c?A[a++]:0):(t=A.charCodeAt(a++),e=a<c?A.charCodeAt(a++):0,a<c?A.charCodeAt(a++):0),n=t>>2,s=(3&t)<<4|e>>4,o=1<E?(15&e)<<2|i>>6:64,r=2<E?63&i:64,Q.push(g.charAt(n)+g.charAt(s)+g.charAt(o)+g.charAt(r));return Q.join("")},e.decode=function(A){var t,e,B,n,s,o,r=0,Q=0,a="data:";if(A.substr(0,a.length)===a)throw new Error("Invalid base64 input, it looks like a data url.");var c,E=3*(A=A.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(A.charAt(A.length-1)===g.charAt(64)&&E--,A.charAt(A.length-2)===g.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|E):new Array(0|E);r<A.length;)t=g.indexOf(A.charAt(r++))<<2|(n=g.indexOf(A.charAt(r++)))>>4,e=(15&n)<<4|(s=g.indexOf(A.charAt(r++)))>>2,B=(3&s)<<6|(o=g.indexOf(A.charAt(r++))),c[Q++]=t,64!==s&&(c[Q++]=e),64!==o&&(c[Q++]=B);return c}},{"./support":30,"./utils":32}],2:[function(A,t,e){"use strict";var B=A("./external"),i=A("./stream/DataWorker"),g=A("./stream/Crc32Probe"),n=A("./stream/DataLengthProbe");function s(A,t,e,B,i){this.compressedSize=A,this.uncompressedSize=t,this.crc32=e,this.compression=B,this.compressedContent=i}s.prototype={getContentWorker:function(){var A=new i(B.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),t=this;return A.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),A},getCompressedWorker:function(){return new i(B.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(A,t,e){return A.pipe(new g).pipe(new n("uncompressedSize")).pipe(t.compressWorker(e)).pipe(new n("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(A,t,e){"use strict";var B=A("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new B("STORE compression")},uncompressWorker:function(){return new B("STORE decompression")}},e.DEFLATE=A("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(A,t,e){"use strict";var B=A("./utils"),i=function(){for(var A,t=[],e=0;e<256;e++){A=e;for(var B=0;B<8;B++)A=1&A?3988292384^A>>>1:A>>>1;t[e]=A}return t}();t.exports=function(A,t){return void 0!==A&&A.length?"string"!==B.getTypeOf(A)?function(A,t,e,B){var g=i,n=0+e;A^=-1;for(var s=0;s<n;s++)A=A>>>8^g[255&(A^t[s])];return-1^A}(0|t,A,A.length):function(A,t,e,B){var g=i,n=0+e;A^=-1;for(var s=0;s<n;s++)A=A>>>8^g[255&(A^t.charCodeAt(s))];return-1^A}(0|t,A,A.length):0}},{"./utils":32}],5:[function(A,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(A,t,e){"use strict";var B;B="undefined"!=typeof Promise?Promise:A("lie"),t.exports={Promise:B}},{lie:37}],7:[function(A,t,e){"use strict";var B="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=A("pako"),g=A("./utils"),n=A("./stream/GenericWorker"),s=B?"uint8array":"array";function o(A,t){n.call(this,"FlateWorker/"+A),this._pako=null,this._pakoAction=A,this._pakoOptions=t,this.meta={}}e.magic="\b\0",g.inherits(o,n),o.prototype.processChunk=function(A){this.meta=A.meta,null===this._pako&&this._createPako(),this._pako.push(g.transformTo(s,A.data),!1)},o.prototype.flush=function(){n.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var A=this;this._pako.onData=function(t){A.push({data:t,meta:A.meta})}},e.compressWorker=function(A){return new o("Deflate",A)},e.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(A,t,e){"use strict";function B(A,t){var e,B="";for(e=0;e<t;e++)B+=String.fromCharCode(255&A),A>>>=8;return B}function i(A,t,e,i,n,Q){var a,c,E=A.file,C=A.compression,w=Q!==s.utf8encode,I=g.transformTo("string",Q(E.name)),l=g.transformTo("string",s.utf8encode(E.name)),M=E.comment,h=g.transformTo("string",Q(M)),Y=g.transformTo("string",s.utf8encode(M)),D=l.length!==E.name.length,u=Y.length!==M.length,d="",F="",m="",U=E.dir,p=E.date,G={crc32:0,compressedSize:0,uncompressedSize:0};t&&!e||(G.crc32=A.crc32,G.compressedSize=A.compressedSize,G.uncompressedSize=A.uncompressedSize);var N=0;t&&(N|=8),w||!D&&!u||(N|=2048);var y=0,f=0;U&&(y|=16),"UNIX"===n?(f=798,y|=function(A,t){var e=A;return A||(e=t?16893:33204),(65535&e)<<16}(E.unixPermissions,U)):(f=20,y|=function(A){return 63&(A||0)}(E.dosPermissions)),a=p.getUTCHours(),a<<=6,a|=p.getUTCMinutes(),a<<=5,a|=p.getUTCSeconds()/2,c=p.getUTCFullYear()-1980,c<<=4,c|=p.getUTCMonth()+1,c<<=5,c|=p.getUTCDate(),D&&(F=B(1,1)+B(o(I),4)+l,d+="up"+B(F.length,2)+F),u&&(m=B(1,1)+B(o(h),4)+Y,d+="uc"+B(m.length,2)+m);var R="";return R+="\n\0",R+=B(N,2),R+=C.magic,R+=B(a,2),R+=B(c,2),R+=B(G.crc32,4),R+=B(G.compressedSize,4),R+=B(G.uncompressedSize,4),R+=B(I.length,2),R+=B(d.length,2),{fileRecord:r.LOCAL_FILE_HEADER+R+I+d,dirRecord:r.CENTRAL_FILE_HEADER+B(f,2)+R+B(h.length,2)+"\0\0\0\0"+B(y,4)+B(i,4)+I+d+h}}var g=A("../utils"),n=A("../stream/GenericWorker"),s=A("../utf8"),o=A("../crc32"),r=A("../signature");function Q(A,t,e,B){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=e,this.encodeFileName=B,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(Q,n),Q.prototype.push=function(A){var t=A.meta.percent||0,e=this.entriesCount,B=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,n.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:e?(t+100*(e-B-1))/e:100}}))},Q.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var t=this.streamFiles&&!A.file.dir;if(t){var e=i(A,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:e.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Q.prototype.closedSource=function(A){this.accumulate=!1;var t=this.streamFiles&&!A.file.dir,e=i(A,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(e.dirRecord),t)this.push({data:function(A){return r.DATA_DESCRIPTOR+B(A.crc32,4)+B(A.compressedSize,4)+B(A.uncompressedSize,4)}(A),meta:{percent:100}});else for(this.push({data:e.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Q.prototype.flush=function(){for(var A=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var e=this.bytesWritten-A,i=function(A,t,e,i,n){var s=g.transformTo("string",n(i));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+B(A,2)+B(A,2)+B(t,4)+B(e,4)+B(s.length,2)+s}(this.dirRecords.length,e,A,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},Q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Q.prototype.registerPrevious=function(A){this._sources.push(A);var t=this;return A.on("data",(function(A){t.processChunk(A)})),A.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),A.on("error",(function(A){t.error(A)})),this},Q.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Q.prototype.error=function(A){var t=this._sources;if(!n.prototype.error.call(this,A))return!1;for(var e=0;e<t.length;e++)try{t[e].error(A)}catch(A){}return!0},Q.prototype.lock=function(){n.prototype.lock.call(this);for(var A=this._sources,t=0;t<A.length;t++)A[t].lock()},t.exports=Q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(A,t,e){"use strict";var B=A("../compressions"),i=A("./ZipFileWorker");e.generateWorker=function(A,t,e){var g=new i(t.streamFiles,e,t.platform,t.encodeFileName),n=0;try{A.forEach((function(A,e){n++;var i=function(A,t){var e=A||t,i=B[e];if(!i)throw new Error(e+" is not a valid compression method !");return i}(e.options.compression,t.compression),s=e.options.compressionOptions||t.compressionOptions||{},o=e.dir,r=e.date;e._compressWorker(i,s).withStreamInfo("file",{name:A,dir:o,date:r,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(g)})),g.entriesCount=n}catch(A){g.error(A)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(A,t,e){"use strict";function B(){if(!(this instanceof B))return new B;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var A=new B;for(var t in this)"function"!=typeof this[t]&&(A[t]=this[t]);return A}}(B.prototype=A("./object")).loadAsync=A("./load"),B.support=A("./support"),B.defaults=A("./defaults"),B.version="3.10.1",B.loadAsync=function(A,t){return(new B).loadAsync(A,t)},B.external=A("./external"),t.exports=B},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(A,t,e){"use strict";var B=A("./utils"),i=A("./external"),g=A("./utf8"),n=A("./zipEntries"),s=A("./stream/Crc32Probe"),o=A("./nodejsUtils");function r(A){return new i.Promise((function(t,e){var B=A.decompressed.getContentWorker().pipe(new s);B.on("error",(function(A){e(A)})).on("end",(function(){B.streamInfo.crc32!==A.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(A,t){var e=this;return t=B.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),o.isNode&&o.isStream(A)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):B.prepareContent("the loaded zip file",A,!0,t.optimizedBinaryString,t.base64).then((function(A){var e=new n(t);return e.load(A),e})).then((function(A){var e=[i.Promise.resolve(A)],B=A.files;if(t.checkCRC32)for(var g=0;g<B.length;g++)e.push(r(B[g]));return i.Promise.all(e)})).then((function(A){for(var i=A.shift(),g=i.files,n=0;n<g.length;n++){var s=g[n],o=s.fileNameStr,r=B.resolve(s.fileNameStr);e.file(r,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(e.file(r).unsafeOriginalName=o)}return i.zipComment.length&&(e.comment=i.zipComment),e}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(A,t,e){"use strict";var B=A("../utils"),i=A("../stream/GenericWorker");function g(A,t){i.call(this,"Nodejs stream input adapter for "+A),this._upstreamEnded=!1,this._bindStream(t)}B.inherits(g,i),g.prototype._bindStream=function(A){var t=this;(this._stream=A).pause(),A.on("data",(function(A){t.push({data:A,meta:{percent:0}})})).on("error",(function(A){t.isPaused?this.generatedError=A:t.error(A)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},g.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(A,t,e){"use strict";var B=A("readable-stream").Readable;function i(A,t,e){B.call(this,t),this._helper=A;var i=this;A.on("data",(function(A,t){i.push(A)||i._helper.pause(),e&&e(t)})).on("error",(function(A){i.emit("error",A)})).on("end",(function(){i.push(null)}))}A("../utils").inherits(i,B),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(A,e,B){"use strict";e.exports={isNode:void 0!==t,newBufferFrom:function(A,e){if(t.from&&t.from!==Uint8Array.from)return t.from(A,e);if("number"==typeof A)throw new Error('The "data" argument must not be a number');return new t(A,e)},allocBuffer:function(A){if(t.alloc)return t.alloc(A);var e=new t(A);return e.fill(0),e},isBuffer:function(A){return t.isBuffer(A)},isStream:function(A){return A&&"function"==typeof A.on&&"function"==typeof A.pause&&"function"==typeof A.resume}}},{}],15:[function(A,t,e){"use strict";function B(A,t,e){var B,i=g.getTypeOf(t),s=g.extend(e||{},o);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(A=w(A)),s.createFolders&&(B=C(A))&&I.call(this,B,!0);var a,l="string"===i&&!1===s.binary&&!1===s.base64;e&&void 0!==e.binary||(s.binary=!l),(t instanceof r&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),a=t instanceof r||t instanceof n?t:c.isNode&&c.isStream(t)?new E(A,t):g.prepareContent(A,t,s.binary,s.optimizedBinaryString,s.base64);var M=new Q(A,a,s);this.files[A]=M}var i=A("./utf8"),g=A("./utils"),n=A("./stream/GenericWorker"),s=A("./stream/StreamHelper"),o=A("./defaults"),r=A("./compressedObject"),Q=A("./zipObject"),a=A("./generate"),c=A("./nodejsUtils"),E=A("./nodejs/NodejsStreamInputAdapter"),C=function(A){"/"===A.slice(-1)&&(A=A.substring(0,A.length-1));var t=A.lastIndexOf("/");return 0<t?A.substring(0,t):""},w=function(A){return"/"!==A.slice(-1)&&(A+="/"),A},I=function(A,t){return t=void 0!==t?t:o.createFolders,A=w(A),this.files[A]||B.call(this,A,null,{dir:!0,createFolders:t}),this.files[A]};function l(A){return"[object RegExp]"===Object.prototype.toString.call(A)}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var t,e,B;for(t in this.files)B=this.files[t],(e=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&A(e,B)},filter:function(A){var t=[];return this.forEach((function(e,B){A(e,B)&&t.push(B)})),t},file:function(A,t,e){if(1!==arguments.length)return A=this.root+A,B.call(this,A,t,e),this;if(l(A)){var i=A;return this.filter((function(A,t){return!t.dir&&i.test(A)}))}var g=this.files[this.root+A];return g&&!g.dir?g:null},folder:function(A){if(!A)return this;if(l(A))return this.filter((function(t,e){return e.dir&&A.test(t)}));var t=this.root+A,e=I.call(this,t),B=this.clone();return B.root=e.name,B},remove:function(A){A=this.root+A;var t=this.files[A];if(t||("/"!==A.slice(-1)&&(A+="/"),t=this.files[A]),t&&!t.dir)delete this.files[A];else for(var e=this.filter((function(t,e){return e.name.slice(0,A.length)===A})),B=0;B<e.length;B++)delete this.files[e[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var t,e={};try{if((e=g.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=e.type.toLowerCase(),e.compression=e.compression.toUpperCase(),"binarystring"===e.type&&(e.type="string"),!e.type)throw new Error("No output type specified.");g.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var B=e.comment||this.comment||"";t=a.generateWorker(this,e,B)}catch(A){(t=new n("error")).error(A)}return new s(t,e.type||"string",e.mimeType)},generateAsync:function(A,t){return this.generateInternalStream(A).accumulate(t)},generateNodeStream:function(A,t){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(t)}};t.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(A,t,e){"use strict";t.exports=A("stream")},{stream:void 0}],17:[function(A,t,e){"use strict";var B=A("./DataReader");function i(A){B.call(this,A);for(var t=0;t<this.data.length;t++)A[t]=255&A[t]}A("../utils").inherits(i,B),i.prototype.byteAt=function(A){return this.data[this.zero+A]},i.prototype.lastIndexOfSignature=function(A){for(var t=A.charCodeAt(0),e=A.charCodeAt(1),B=A.charCodeAt(2),i=A.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===t&&this.data[g+1]===e&&this.data[g+2]===B&&this.data[g+3]===i)return g-this.zero;return-1},i.prototype.readAndCheckSignature=function(A){var t=A.charCodeAt(0),e=A.charCodeAt(1),B=A.charCodeAt(2),i=A.charCodeAt(3),g=this.readData(4);return t===g[0]&&e===g[1]&&B===g[2]&&i===g[3]},i.prototype.readData=function(A){if(this.checkOffset(A),0===A)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(A,t,e){"use strict";var B=A("../utils");function i(A){this.data=A,this.length=A.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(A){this.checkIndex(this.index+A)},checkIndex:function(A){if(this.length<this.zero+A||A<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+A+"). Corrupted zip ?")},setIndex:function(A){this.checkIndex(A),this.index=A},skip:function(A){this.setIndex(this.index+A)},byteAt:function(){},readInt:function(A){var t,e=0;for(this.checkOffset(A),t=this.index+A-1;t>=this.index;t--)e=(e<<8)+this.byteAt(t);return this.index+=A,e},readString:function(A){return B.transformTo("string",this.readData(A))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var A=this.readInt(4);return new Date(Date.UTC(1980+(A>>25&127),(A>>21&15)-1,A>>16&31,A>>11&31,A>>5&63,(31&A)<<1))}},t.exports=i},{"../utils":32}],19:[function(A,t,e){"use strict";var B=A("./Uint8ArrayReader");function i(A){B.call(this,A)}A("../utils").inherits(i,B),i.prototype.readData=function(A){this.checkOffset(A);var t=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(A,t,e){"use strict";var B=A("./DataReader");function i(A){B.call(this,A)}A("../utils").inherits(i,B),i.prototype.byteAt=function(A){return this.data.charCodeAt(this.zero+A)},i.prototype.lastIndexOfSignature=function(A){return this.data.lastIndexOf(A)-this.zero},i.prototype.readAndCheckSignature=function(A){return A===this.readData(4)},i.prototype.readData=function(A){this.checkOffset(A);var t=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(A,t,e){"use strict";var B=A("./ArrayReader");function i(A){B.call(this,A)}A("../utils").inherits(i,B),i.prototype.readData=function(A){if(this.checkOffset(A),0===A)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+A);return this.index+=A,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(A,t,e){"use strict";var B=A("../utils"),i=A("../support"),g=A("./ArrayReader"),n=A("./StringReader"),s=A("./NodeBufferReader"),o=A("./Uint8ArrayReader");t.exports=function(A){var t=B.getTypeOf(A);return B.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(A):i.uint8array?new o(B.transformTo("uint8array",A)):new g(B.transformTo("array",A)):new n(A)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(A,t,e){"use strict";e.LOCAL_FILE_HEADER="PK  ",e.CENTRAL_FILE_HEADER="PK  ",e.CENTRAL_DIRECTORY_END="PK  ",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK  ",e.ZIP64_CENTRAL_DIRECTORY_END="PK  ",e.DATA_DESCRIPTOR="PK \b"},{}],24:[function(A,t,e){"use strict";var B=A("./GenericWorker"),i=A("../utils");function g(A){B.call(this,"ConvertWorker to "+A),this.destType=A}i.inherits(g,B),g.prototype.processChunk=function(A){this.push({data:i.transformTo(this.destType,A.data),meta:A.meta})},t.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(A,t,e){"use strict";var B=A("./GenericWorker"),i=A("../crc32");function g(){B.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}A("../utils").inherits(g,B),g.prototype.processChunk=function(A){this.streamInfo.crc32=i(A.data,this.streamInfo.crc32||0),this.push(A)},t.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(A,t,e){"use strict";var B=A("../utils"),i=A("./GenericWorker");function g(A){i.call(this,"DataLengthProbe for "+A),this.propName=A,this.withStreamInfo(A,0)}B.inherits(g,i),g.prototype.processChunk=function(A){if(A){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+A.data.length}i.prototype.processChunk.call(this,A)},t.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(A,t,e){"use strict";var B=A("../utils"),i=A("./GenericWorker");function g(A){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,A.then((function(A){t.dataIsReady=!0,t.data=A,t.max=A&&A.length||0,t.type=B.getTypeOf(A),t.isPaused||t._tickAndRepeat()}),(function(A){t.error(A)}))}B.inherits(g,i),g.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,B.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(B.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var A=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":A=this.data.substring(this.index,t);break;case"uint8array":A=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":A=this.data.slice(this.index,t)}return this.index=t,this.push({data:A,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(A,t,e){"use strict";function B(A){this.name=A||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}B.prototype={push:function(A){this.emit("data",A)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(A){this.emit("error",A)}return!0},error:function(A){return!this.isFinished&&(this.isPaused?this.generatedError=A:(this.isFinished=!0,this.emit("error",A),this.previous&&this.previous.error(A),this.cleanUp()),!0)},on:function(A,t){return this._listeners[A].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(A,t){if(this._listeners[A])for(var e=0;e<this._listeners[A].length;e++)this._listeners[A][e].call(this,t)},pipe:function(A){return A.registerPrevious(this)},registerPrevious:function(A){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=A.streamInfo,this.mergeStreamInfo(),this.previous=A;var t=this;return A.on("data",(function(A){t.processChunk(A)})),A.on("end",(function(){t.end()})),A.on("error",(function(A){t.error(A)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var A=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),A=!0),this.previous&&this.previous.resume(),!A},flush:function(){},processChunk:function(A){this.push(A)},withStreamInfo:function(A,t){return this.extraStreamInfo[A]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var A in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,A)&&(this.streamInfo[A]=this.extraStreamInfo[A])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var A="Worker "+this.name;return this.previous?this.previous+" -> "+A:A}},t.exports=B},{}],29:[function(A,e,B){"use strict";var i=A("../utils"),g=A("./ConvertWorker"),n=A("./GenericWorker"),s=A("../base64"),o=A("../support"),r=A("../external"),Q=null;if(o.nodestream)try{Q=A("../nodejs/NodejsStreamOutputAdapter")}catch(A){}function a(A,t,e){var B=t;switch(t){case"blob":case"arraybuffer":B="uint8array";break;case"base64":B="string"}try{this._internalType=B,this._outputType=t,this._mimeType=e,i.checkSupport(B),this._worker=A.pipe(new g(B)),A.lock()}catch(A){this._worker=new n("error"),this._worker.error(A)}}a.prototype={accumulate:function(A){return function(A,e){return new r.Promise((function(B,g){var n=[],o=A._internalType,r=A._outputType,Q=A._mimeType;A.on("data",(function(A,t){n.push(A),e&&e(t)})).on("error",(function(A){n=[],g(A)})).on("end",(function(){try{var A=function(A,t,e){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),e);case"base64":return s.encode(t);default:return i.transformTo(A,t)}}(r,function(A,e){var B,i=0,g=null,n=0;for(B=0;B<e.length;B++)n+=e[B].length;switch(A){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(g=new Uint8Array(n),B=0;B<e.length;B++)g.set(e[B],i),i+=e[B].length;return g;case"nodebuffer":return t.concat(e);default:throw new Error("concat : unsupported type '"+A+"'")}}(o,n),Q);B(A)}catch(A){g(A)}n=[]})).resume()}))}(this,A)},on:function(A,t){var e=this;return"data"===A?this._worker.on(A,(function(A){t.call(e,A.data,A.meta)})):this._worker.on(A,(function(){i.delay(t,arguments,e)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new Q(this,{objectMode:"nodebuffer"!==this._outputType},A)}},e.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(A,e,B){"use strict";if(B.base64=!0,B.array=!0,B.string=!0,B.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,B.nodebuffer=void 0!==t,B.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)B.blob=!1;else{var i=new ArrayBuffer(0);try{B.blob=0===new Blob([i],{type:"application/zip"}).size}catch(A){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(i),B.blob=0===g.getBlob("application/zip").size}catch(A){B.blob=!1}}}try{B.nodestream=!!A("readable-stream").Readable}catch(A){B.nodestream=!1}},{"readable-stream":16}],31:[function(A,t,e){"use strict";for(var B=A("./utils"),i=A("./support"),g=A("./nodejsUtils"),n=A("./stream/GenericWorker"),s=new Array(256),o=0;o<256;o++)s[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function r(){n.call(this,"utf-8 decode"),this.leftOver=null}function Q(){n.call(this,"utf-8 encode")}s[254]=s[254]=1,e.utf8encode=function(A){return i.nodebuffer?g.newBufferFrom(A,"utf-8"):function(A){var t,e,B,g,n,s=A.length,o=0;for(g=0;g<s;g++)55296==(64512&(e=A.charCodeAt(g)))&&g+1<s&&56320==(64512&(B=A.charCodeAt(g+1)))&&(e=65536+(e-55296<<10)+(B-56320),g++),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=i.uint8array?new Uint8Array(o):new Array(o),g=n=0;n<o;g++)55296==(64512&(e=A.charCodeAt(g)))&&g+1<s&&56320==(64512&(B=A.charCodeAt(g+1)))&&(e=65536+(e-55296<<10)+(B-56320),g++),e<128?t[n++]=e:(e<2048?t[n++]=192|e>>>6:(e<65536?t[n++]=224|e>>>12:(t[n++]=240|e>>>18,t[n++]=128|e>>>12&63),t[n++]=128|e>>>6&63),t[n++]=128|63&e);return t}(A)},e.utf8decode=function(A){return i.nodebuffer?B.transformTo("nodebuffer",A).toString("utf-8"):function(A){var t,e,i,g,n=A.length,o=new Array(2*n);for(t=e=0;t<n;)if((i=A[t++])<128)o[e++]=i;else if(4<(g=s[i]))o[e++]=65533,t+=g-1;else{for(i&=2===g?31:3===g?15:7;1<g&&t<n;)i=i<<6|63&A[t++],g--;1<g?o[e++]=65533:i<65536?o[e++]=i:(i-=65536,o[e++]=55296|i>>10&1023,o[e++]=56320|1023&i)}return o.length!==e&&(o.subarray?o=o.subarray(0,e):o.length=e),B.applyFromCharCode(o)}(A=B.transformTo(i.uint8array?"uint8array":"array",A))},B.inherits(r,n),r.prototype.processChunk=function(A){var t=B.transformTo(i.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var g=t;(t=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),t.set(g,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(A,t){var e;for((t=t||A.length)>A.length&&(t=A.length),e=t-1;0<=e&&128==(192&A[e]);)e--;return e<0||0===e?t:e+s[A[e]]>t?e:t}(t),o=t;n!==t.length&&(i.uint8array?(o=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(o=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:e.utf8decode(o),meta:A.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=r,B.inherits(Q,n),Q.prototype.processChunk=function(A){this.push({data:e.utf8encode(A.data),meta:A.meta})},e.Utf8EncodeWorker=Q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(A,t,B){"use strict";var i=A("./support"),g=A("./base64"),n=A("./nodejsUtils"),s=A("./external");function o(A){return A}function r(A,t){for(var e=0;e<A.length;++e)t[e]=255&A.charCodeAt(e);return t}A("setimmediate"),B.newBlob=function(A,t){B.checkSupport("blob");try{return new Blob([A],{type:t})}catch(B){try{var e=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return e.append(A),e.getBlob(t)}catch(A){throw new Error("Bug : can't construct the Blob.")}}};var Q={stringifyByChunk:function(A,t,e){var B=[],i=0,g=A.length;if(g<=e)return String.fromCharCode.apply(null,A);for(;i<g;)"array"===t||"nodebuffer"===t?B.push(String.fromCharCode.apply(null,A.slice(i,Math.min(i+e,g)))):B.push(String.fromCharCode.apply(null,A.subarray(i,Math.min(i+e,g)))),i+=e;return B.join("")},stringifyByChar:function(A){for(var t="",e=0;e<A.length;e++)t+=String.fromCharCode(A[e]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(A){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,n.allocBuffer(1)).length}catch(A){return!1}}()}};function a(A){var t=65536,e=B.getTypeOf(A),i=!0;if("uint8array"===e?i=Q.applyCanBeUsed.uint8array:"nodebuffer"===e&&(i=Q.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return Q.stringifyByChunk(A,e,t)}catch(A){t=Math.floor(t/2)}return Q.stringifyByChar(A)}function c(A,t){for(var e=0;e<A.length;e++)t[e]=A[e];return t}B.applyFromCharCode=a;var E={};E.string={string:o,array:function(A){return r(A,new Array(A.length))},arraybuffer:function(A){return E.string.uint8array(A).buffer},uint8array:function(A){return r(A,new Uint8Array(A.length))},nodebuffer:function(A){return r(A,n.allocBuffer(A.length))}},E.array={string:a,array:o,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return n.newBufferFrom(A)}},E.arraybuffer={string:function(A){return a(new Uint8Array(A))},array:function(A){return c(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:o,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return n.newBufferFrom(new Uint8Array(A))}},E.uint8array={string:a,array:function(A){return c(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:o,nodebuffer:function(A){return n.newBufferFrom(A)}},E.nodebuffer={string:a,array:function(A){return c(A,new Array(A.length))},arraybuffer:function(A){return E.nodebuffer.uint8array(A).buffer},uint8array:function(A){return c(A,new Uint8Array(A.length))},nodebuffer:o},B.transformTo=function(A,t){if(t=t||"",!A)return t;B.checkSupport(A);var e=B.getTypeOf(t);return E[e][A](t)},B.resolve=function(A){for(var t=A.split("/"),e=[],B=0;B<t.length;B++){var i=t[B];"."===i||""===i&&0!==B&&B!==t.length-1||(".."===i?e.pop():e.push(i))}return e.join("/")},B.getTypeOf=function(A){return"string"==typeof A?"string":"[object Array]"===Object.prototype.toString.call(A)?"array":i.nodebuffer&&n.isBuffer(A)?"nodebuffer":i.uint8array&&A instanceof Uint8Array?"uint8array":i.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},B.checkSupport=function(A){if(!i[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},B.MAX_VALUE_16BITS=65535,B.MAX_VALUE_32BITS=-1,B.pretty=function(A){var t,e,B="";for(e=0;e<(A||"").length;e++)B+="\\x"+((t=A.charCodeAt(e))<16?"0":"")+t.toString(16).toUpperCase();return B},B.delay=function(A,t,B){e((function(){A.apply(B||null,t||[])}))},B.inherits=function(A,t){function e(){}e.prototype=t.prototype,A.prototype=new e},B.extend=function(){var A,t,e={};for(A=0;A<arguments.length;A++)for(t in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],t)&&void 0===e[t]&&(e[t]=arguments[A][t]);return e},B.prepareContent=function(A,t,e,n,o){return s.Promise.resolve(t).then((function(A){return i.blob&&(A instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,e){var B=new FileReader;B.onload=function(A){t(A.target.result)},B.onerror=function(A){e(A.target.error)},B.readAsArrayBuffer(A)})):A})).then((function(t){var Q=B.getTypeOf(t);return Q?("arraybuffer"===Q?t=B.transformTo("uint8array",t):"string"===Q&&(o?t=g.decode(t):e&&!0!==n&&(t=function(A){return r(A,i.uint8array?new Uint8Array(A.length):new Array(A.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(A,t,e){"use strict";var B=A("./reader/readerFor"),i=A("./utils"),g=A("./signature"),n=A("./zipEntry"),s=A("./support");function o(A){this.files=[],this.loadOptions=A}o.prototype={checkSignature:function(A){if(!this.reader.readAndCheckSignature(A)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(A)+")")}},isSignature:function(A,t){var e=this.reader.index;this.reader.setIndex(A);var B=this.reader.readString(4)===t;return this.reader.setIndex(e),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var A=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",e=i.transformTo(t,A);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var A,t,e,B=this.zip64EndOfCentralSize-44;0<B;)A=this.reader.readInt(2),t=this.reader.readInt(4),e=this.reader.readData(t),this.zip64ExtensibleData[A]={id:A,length:t,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var A,t;for(A=0;A<this.files.length;A++)t=this.files[A],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var A;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(A=new n({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(A);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var A=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(A<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(A);var t=A;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(A=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(A),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var B=t-e;if(0<B)this.isSignature(t,g.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(A){this.reader=B(A)},load:function(A){this.prepareReader(A),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(A,t,e){"use strict";var B=A("./reader/readerFor"),i=A("./utils"),g=A("./compressedObject"),n=A("./crc32"),s=A("./utf8"),o=A("./compressions"),r=A("./support");function Q(A,t){this.options=A,this.loadOptions=t}Q.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(A){var t,e;if(A.skip(22),this.fileNameLength=A.readInt(2),e=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(e),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(A){for(var t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&o[t].magic===A)return o[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,t,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var t=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(t),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==A&&(this.dosPermissions=63&this.externalFileAttributes),3==A&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=B(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var t,e,B,i=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<i;)t=A.readInt(2),e=A.readInt(2),B=A.readData(e),this.extraFields[t]={id:t,length:e,value:B};A.setIndex(i)},handleUTF8:function(){var A=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var e=i.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(e)}var B=this.findExtraFieldUnicodeComment();if(null!==B)this.fileCommentStr=B;else{var g=i.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var t=B(A.value);return 1!==t.readInt(1)||n(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var t=B(A.value);return 1!==t.readInt(1)||n(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(A.length-5))}return null}},t.exports=Q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(A,t,e){"use strict";function B(A,t,e){this.name=A,this.dir=e.dir,this.date=e.date,this.comment=e.comment,this.unixPermissions=e.unixPermissions,this.dosPermissions=e.dosPermissions,this._data=t,this._dataBinary=e.binary,this.options={compression:e.compression,compressionOptions:e.compressionOptions}}var i=A("./stream/StreamHelper"),g=A("./stream/DataWorker"),n=A("./utf8"),s=A("./compressedObject"),o=A("./stream/GenericWorker");B.prototype={internalStream:function(A){var t=null,e="string";try{if(!A)throw new Error("No output type specified.");var B="string"===(e=A.toLowerCase())||"text"===e;"binarystring"!==e&&"text"!==e||(e="string"),t=this._decompressWorker();var g=!this._dataBinary;g&&!B&&(t=t.pipe(new n.Utf8EncodeWorker)),!g&&B&&(t=t.pipe(new n.Utf8DecodeWorker))}catch(A){(t=new o("error")).error(A)}return new i(t,e,"")},async:function(A,t){return this.internalStream(A).accumulate(t)},nodeStream:function(A,t){return this.internalStream(A||"nodebuffer").toNodejsStream(t)},_compressWorker:function(A,t){if(this._data instanceof s&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var e=this._decompressWorker();return this._dataBinary||(e=e.pipe(new n.Utf8EncodeWorker)),s.createWorkerFrom(e,A,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof o?this._data:new g(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<r.length;a++)B.prototype[r[a]]=Q;t.exports=B},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(A,t,e){(function(A){"use strict";var e,B,i=A.MutationObserver||A.WebKitMutationObserver;if(i){var g=0,n=new i(Q),s=A.document.createTextNode("");n.observe(s,{characterData:!0}),e=function(){s.data=g=++g%2}}else if(A.setImmediate||void 0===A.MessageChannel)e="document"in A&&"onreadystatechange"in A.document.createElement("script")?function(){var t=A.document.createElement("script");t.onreadystatechange=function(){Q(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},A.document.documentElement.appendChild(t)}:function(){setTimeout(Q,0)};else{var o=new A.MessageChannel;o.port1.onmessage=Q,e=function(){o.port2.postMessage(0)}}var r=[];function Q(){var A,t;B=!0;for(var e=r.length;e;){for(t=r,r=[],A=-1;++A<e;)t[A]();e=r.length}B=!1}t.exports=function(A){1!==r.push(A)||B||e()}}).call(this,void 0!==B?B:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(A,t,e){"use strict";var B=A("immediate");function i(){}var g={},n=["REJECTED"],s=["FULFILLED"],o=["PENDING"];function r(A){if("function"!=typeof A)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,A!==i&&E(this,A)}function Q(A,t,e){this.promise=A,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function a(A,t,e){B((function(){var B;try{B=t(e)}catch(B){return g.reject(A,B)}B===A?g.reject(A,new TypeError("Cannot resolve promise with itself")):g.resolve(A,B)}))}function c(A){var t=A&&A.then;if(A&&("object"==typeof A||"function"==typeof A)&&"function"==typeof t)return function(){t.apply(A,arguments)}}function E(A,t){var e=!1;function B(t){e||(e=!0,g.reject(A,t))}function i(t){e||(e=!0,g.resolve(A,t))}var n=C((function(){t(i,B)}));"error"===n.status&&B(n.value)}function C(A,t){var e={};try{e.value=A(t),e.status="success"}catch(A){e.status="error",e.value=A}return e}(t.exports=r).prototype.finally=function(A){if("function"!=typeof A)return this;var t=this.constructor;return this.then((function(e){return t.resolve(A()).then((function(){return e}))}),(function(e){return t.resolve(A()).then((function(){throw e}))}))},r.prototype.catch=function(A){return this.then(null,A)},r.prototype.then=function(A,t){if("function"!=typeof A&&this.state===s||"function"!=typeof t&&this.state===n)return this;var e=new this.constructor(i);return this.state!==o?a(e,this.state===s?A:t,this.outcome):this.queue.push(new Q(e,A,t)),e},Q.prototype.callFulfilled=function(A){g.resolve(this.promise,A)},Q.prototype.otherCallFulfilled=function(A){a(this.promise,this.onFulfilled,A)},Q.prototype.callRejected=function(A){g.reject(this.promise,A)},Q.prototype.otherCallRejected=function(A){a(this.promise,this.onRejected,A)},g.resolve=function(A,t){var e=C(c,t);if("error"===e.status)return g.reject(A,e.value);var B=e.value;if(B)E(A,B);else{A.state=s,A.outcome=t;for(var i=-1,n=A.queue.length;++i<n;)A.queue[i].callFulfilled(t)}return A},g.reject=function(A,t){A.state=n,A.outcome=t;for(var e=-1,B=A.queue.length;++e<B;)A.queue[e].callRejected(t);return A},r.resolve=function(A){return A instanceof this?A:g.resolve(new this(i),A)},r.reject=function(A){var t=new this(i);return g.reject(t,A)},r.all=function(A){var t=this;if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(new TypeError("must be an array"));var e=A.length,B=!1;if(!e)return this.resolve([]);for(var n=new Array(e),s=0,o=-1,r=new this(i);++o<e;)Q(A[o],o);return r;function Q(A,i){t.resolve(A).then((function(A){n[i]=A,++s!==e||B||(B=!0,g.resolve(r,n))}),(function(A){B||(B=!0,g.reject(r,A))}))}},r.race=function(A){if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(new TypeError("must be an array"));var t=A.length,e=!1;if(!t)return this.resolve([]);for(var B,n=-1,s=new this(i);++n<t;)B=A[n],this.resolve(B).then((function(A){e||(e=!0,g.resolve(s,A))}),(function(A){e||(e=!0,g.reject(s,A))}));return s}},{immediate:36}],38:[function(A,t,e){"use strict";var B={};(0,A("./lib/utils/common").assign)(B,A("./lib/deflate"),A("./lib/inflate"),A("./lib/zlib/constants")),t.exports=B},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(A,t,e){"use strict";var B=A("./zlib/deflate"),i=A("./utils/common"),g=A("./utils/strings"),n=A("./zlib/messages"),s=A("./zlib/zstream"),o=Object.prototype.toString;function r(A){if(!(this instanceof r))return new r(A);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var e=B.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==e)throw new Error(n[e]);if(t.header&&B.deflateSetHeader(this.strm,t.header),t.dictionary){var Q;if(Q="string"==typeof t.dictionary?g.string2buf(t.dictionary):"[object ArrayBuffer]"===o.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(e=B.deflateSetDictionary(this.strm,Q)))throw new Error(n[e]);this._dict_set=!0}}function Q(A,t){var e=new r(t);if(e.push(A,!0),e.err)throw e.msg||n[e.err];return e.result}r.prototype.push=function(A,t){var e,n,s=this.strm,r=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof A?s.input=g.string2buf(A):"[object ArrayBuffer]"===o.call(A)?s.input=new Uint8Array(A):s.input=A,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(r),s.next_out=0,s.avail_out=r),1!==(e=B.deflate(s,n))&&0!==e)return this.onEnd(e),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(g.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==e);return 4===n?(e=B.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,0===e):2!==n||(this.onEnd(0),!(s.avail_out=0))},r.prototype.onData=function(A){this.chunks.push(A)},r.prototype.onEnd=function(A){0===A&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},e.Deflate=r,e.deflate=Q,e.deflateRaw=function(A,t){return(t=t||{}).raw=!0,Q(A,t)},e.gzip=function(A,t){return(t=t||{}).gzip=!0,Q(A,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(A,t,e){"use strict";var B=A("./zlib/inflate"),i=A("./utils/common"),g=A("./utils/strings"),n=A("./zlib/constants"),s=A("./zlib/messages"),o=A("./zlib/zstream"),r=A("./zlib/gzheader"),Q=Object.prototype.toString;function a(A){if(!(this instanceof a))return new a(A);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},A||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||A&&A.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var e=B.inflateInit2(this.strm,t.windowBits);if(e!==n.Z_OK)throw new Error(s[e]);this.header=new r,B.inflateGetHeader(this.strm,this.header)}function c(A,t){var e=new a(t);if(e.push(A,!0),e.err)throw e.msg||s[e.err];return e.result}a.prototype.push=function(A,t){var e,s,o,r,a,c,E=this.strm,C=this.options.chunkSize,w=this.options.dictionary,I=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?n.Z_FINISH:n.Z_NO_FLUSH,"string"==typeof A?E.input=g.binstring2buf(A):"[object ArrayBuffer]"===Q.call(A)?E.input=new Uint8Array(A):E.input=A,E.next_in=0,E.avail_in=E.input.length;do{if(0===E.avail_out&&(E.output=new i.Buf8(C),E.next_out=0,E.avail_out=C),(e=B.inflate(E,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&w&&(c="string"==typeof w?g.string2buf(w):"[object ArrayBuffer]"===Q.call(w)?new Uint8Array(w):w,e=B.inflateSetDictionary(this.strm,c)),e===n.Z_BUF_ERROR&&!0===I&&(e=n.Z_OK,I=!1),e!==n.Z_STREAM_END&&e!==n.Z_OK)return this.onEnd(e),!(this.ended=!0);E.next_out&&(0!==E.avail_out&&e!==n.Z_STREAM_END&&(0!==E.avail_in||s!==n.Z_FINISH&&s!==n.Z_SYNC_FLUSH)||("string"===this.options.to?(o=g.utf8border(E.output,E.next_out),r=E.next_out-o,a=g.buf2string(E.output,o),E.next_out=r,E.avail_out=C-r,r&&i.arraySet(E.output,E.output,o,r,0),this.onData(a)):this.onData(i.shrinkBuf(E.output,E.next_out)))),0===E.avail_in&&0===E.avail_out&&(I=!0)}while((0<E.avail_in||0===E.avail_out)&&e!==n.Z_STREAM_END);return e===n.Z_STREAM_END&&(s=n.Z_FINISH),s===n.Z_FINISH?(e=B.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===n.Z_OK):s!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),!(E.avail_out=0))},a.prototype.onData=function(A){this.chunks.push(A)},a.prototype.onEnd=function(A){A===n.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},e.Inflate=a,e.inflate=c,e.inflateRaw=function(A,t){return(t=t||{}).raw=!0,c(A,t)},e.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(A,t,e){"use strict";var B="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(A){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var B in e)e.hasOwnProperty(B)&&(A[B]=e[B])}}return A},e.shrinkBuf=function(A,t){return A.length===t?A:A.subarray?A.subarray(0,t):(A.length=t,A)};var i={arraySet:function(A,t,e,B,i){if(t.subarray&&A.subarray)A.set(t.subarray(e,e+B),i);else for(var g=0;g<B;g++)A[i+g]=t[e+g]},flattenChunks:function(A){var t,e,B,i,g,n;for(t=B=0,e=A.length;t<e;t++)B+=A[t].length;for(n=new Uint8Array(B),t=i=0,e=A.length;t<e;t++)g=A[t],n.set(g,i),i+=g.length;return n}},g={arraySet:function(A,t,e,B,i){for(var g=0;g<B;g++)A[i+g]=t[e+g]},flattenChunks:function(A){return[].concat.apply([],A)}};e.setTyped=function(A){A?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,g))},e.setTyped(B)},{}],42:[function(A,t,e){"use strict";var B=A("./common"),i=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(A){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){g=!1}for(var n=new B.Buf8(256),s=0;s<256;s++)n[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function o(A,t){if(t<65537&&(A.subarray&&g||!A.subarray&&i))return String.fromCharCode.apply(null,B.shrinkBuf(A,t));for(var e="",n=0;n<t;n++)e+=String.fromCharCode(A[n]);return e}n[254]=n[254]=1,e.string2buf=function(A){var t,e,i,g,n,s=A.length,o=0;for(g=0;g<s;g++)55296==(64512&(e=A.charCodeAt(g)))&&g+1<s&&56320==(64512&(i=A.charCodeAt(g+1)))&&(e=65536+(e-55296<<10)+(i-56320),g++),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new B.Buf8(o),g=n=0;n<o;g++)55296==(64512&(e=A.charCodeAt(g)))&&g+1<s&&56320==(64512&(i=A.charCodeAt(g+1)))&&(e=65536+(e-55296<<10)+(i-56320),g++),e<128?t[n++]=e:(e<2048?t[n++]=192|e>>>6:(e<65536?t[n++]=224|e>>>12:(t[n++]=240|e>>>18,t[n++]=128|e>>>12&63),t[n++]=128|e>>>6&63),t[n++]=128|63&e);return t},e.buf2binstring=function(A){return o(A,A.length)},e.binstring2buf=function(A){for(var t=new B.Buf8(A.length),e=0,i=t.length;e<i;e++)t[e]=A.charCodeAt(e);return t},e.buf2string=function(A,t){var e,B,i,g,s=t||A.length,r=new Array(2*s);for(e=B=0;e<s;)if((i=A[e++])<128)r[B++]=i;else if(4<(g=n[i]))r[B++]=65533,e+=g-1;else{for(i&=2===g?31:3===g?15:7;1<g&&e<s;)i=i<<6|63&A[e++],g--;1<g?r[B++]=65533:i<65536?r[B++]=i:(i-=65536,r[B++]=55296|i>>10&1023,r[B++]=56320|1023&i)}return o(r,B)},e.utf8border=function(A,t){var e;for((t=t||A.length)>A.length&&(t=A.length),e=t-1;0<=e&&128==(192&A[e]);)e--;return e<0||0===e?t:e+n[A[e]]>t?e:t}},{"./common":41}],43:[function(A,t,e){"use strict";t.exports=function(A,t,e,B){for(var i=65535&A|0,g=A>>>16&65535|0,n=0;0!==e;){for(e-=n=2e3<e?2e3:e;g=g+(i=i+t[B++]|0)|0,--n;);i%=65521,g%=65521}return i|g<<16|0}},{}],44:[function(A,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(A,t,e){"use strict";var B=function(){for(var A,t=[],e=0;e<256;e++){A=e;for(var B=0;B<8;B++)A=1&A?3988292384^A>>>1:A>>>1;t[e]=A}return t}();t.exports=function(A,t,e,i){var g=B,n=i+e;A^=-1;for(var s=i;s<n;s++)A=A>>>8^g[255&(A^t[s])];return-1^A}},{}],46:[function(A,t,e){"use strict";var B,i=A("../utils/common"),g=A("./trees"),n=A("./adler32"),s=A("./crc32"),o=A("./messages"),r=-2,Q=258,a=262,c=113;function E(A,t){return A.msg=o[t],t}function C(A){return(A<<1)-(4<A?9:0)}function w(A){for(var t=A.length;0<=--t;)A[t]=0}function I(A){var t=A.state,e=t.pending;e>A.avail_out&&(e=A.avail_out),0!==e&&(i.arraySet(A.output,t.pending_buf,t.pending_out,e,A.next_out),A.next_out+=e,t.pending_out+=e,A.total_out+=e,A.avail_out-=e,t.pending-=e,0===t.pending&&(t.pending_out=0))}function l(A,t){g._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,t),A.block_start=A.strstart,I(A.strm)}function M(A,t){A.pending_buf[A.pending++]=t}function h(A,t){A.pending_buf[A.pending++]=t>>>8&255,A.pending_buf[A.pending++]=255&t}function Y(A,t){var e,B,i=A.max_chain_length,g=A.strstart,n=A.prev_length,s=A.nice_match,o=A.strstart>A.w_size-a?A.strstart-(A.w_size-a):0,r=A.window,c=A.w_mask,E=A.prev,C=A.strstart+Q,w=r[g+n-1],I=r[g+n];A.prev_length>=A.good_match&&(i>>=2),s>A.lookahead&&(s=A.lookahead);do{if(r[(e=t)+n]===I&&r[e+n-1]===w&&r[e]===r[g]&&r[++e]===r[g+1]){g+=2,e++;do{}while(r[++g]===r[++e]&&r[++g]===r[++e]&&r[++g]===r[++e]&&r[++g]===r[++e]&&r[++g]===r[++e]&&r[++g]===r[++e]&&r[++g]===r[++e]&&r[++g]===r[++e]&&g<C);if(B=Q-(C-g),g=C-Q,n<B){if(A.match_start=t,s<=(n=B))break;w=r[g+n-1],I=r[g+n]}}}while((t=E[t&c])>o&&0!=--i);return n<=A.lookahead?n:A.lookahead}function D(A){var t,e,B,g,o,r,Q,c,E,C,w=A.w_size;do{if(g=A.window_size-A.lookahead-A.strstart,A.strstart>=w+(w-a)){for(i.arraySet(A.window,A.window,w,w,0),A.match_start-=w,A.strstart-=w,A.block_start-=w,t=e=A.hash_size;B=A.head[--t],A.head[t]=w<=B?B-w:0,--e;);for(t=e=w;B=A.prev[--t],A.prev[t]=w<=B?B-w:0,--e;);g+=w}if(0===A.strm.avail_in)break;if(r=A.strm,Q=A.window,c=A.strstart+A.lookahead,C=void 0,(E=g)<(C=r.avail_in)&&(C=E),e=0===C?0:(r.avail_in-=C,i.arraySet(Q,r.input,r.next_in,C,c),1===r.state.wrap?r.adler=n(r.adler,Q,C,c):2===r.state.wrap&&(r.adler=s(r.adler,Q,C,c)),r.next_in+=C,r.total_in+=C,C),A.lookahead+=e,A.lookahead+A.insert>=3)for(o=A.strstart-A.insert,A.ins_h=A.window[o],A.ins_h=(A.ins_h<<A.hash_shift^A.window[o+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[o+3-1])&A.hash_mask,A.prev[o&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=o,o++,A.insert--,!(A.lookahead+A.insert<3)););}while(A.lookahead<a&&0!==A.strm.avail_in)}function u(A,t){for(var e,B;;){if(A.lookahead<a){if(D(A),A.lookahead<a&&0===t)return 1;if(0===A.lookahead)break}if(e=0,A.lookahead>=3&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!==e&&A.strstart-e<=A.w_size-a&&(A.match_length=Y(A,e)),A.match_length>=3)if(B=g._tr_tally(A,A.strstart-A.match_start,A.match_length-3),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=3){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,0!=--A.match_length;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else B=g._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(B&&(l(A,!1),0===A.strm.avail_out))return 1}return A.insert=A.strstart<2?A.strstart:2,4===t?(l(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(l(A,!1),0===A.strm.avail_out)?1:2}function d(A,t){for(var e,B,i;;){if(A.lookahead<a){if(D(A),A.lookahead<a&&0===t)return 1;if(0===A.lookahead)break}if(e=0,A.lookahead>=3&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=2,0!==e&&A.prev_length<A.max_lazy_match&&A.strstart-e<=A.w_size-a&&(A.match_length=Y(A,e),A.match_length<=5&&(1===A.strategy||3===A.match_length&&4096<A.strstart-A.match_start)&&(A.match_length=2)),A.prev_length>=3&&A.match_length<=A.prev_length){for(i=A.strstart+A.lookahead-3,B=g._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-3),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=i&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+3-1])&A.hash_mask,e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!=--A.prev_length;);if(A.match_available=0,A.match_length=2,A.strstart++,B&&(l(A,!1),0===A.strm.avail_out))return 1}else if(A.match_available){if((B=g._tr_tally(A,0,A.window[A.strstart-1]))&&l(A,!1),A.strstart++,A.lookahead--,0===A.strm.avail_out)return 1}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(B=g._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<2?A.strstart:2,4===t?(l(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(l(A,!1),0===A.strm.avail_out)?1:2}function F(A,t,e,B,i){this.good_length=A,this.max_lazy=t,this.nice_length=e,this.max_chain=B,this.func=i}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),w(this.dyn_ltree),w(this.dyn_dtree),w(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),w(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),w(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(A){var t;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=2,(t=A.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:c,A.adler=2===t.wrap?0:1,t.last_flush=0,g._tr_init(t),0):E(A,r)}function p(A){var t=U(A);return 0===t&&function(A){A.window_size=2*A.w_size,w(A.head),A.max_lazy_match=B[A.level].max_lazy,A.good_match=B[A.level].good_length,A.nice_match=B[A.level].nice_length,A.max_chain_length=B[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=2,A.match_available=0,A.ins_h=0}(A.state),t}function G(A,t,e,B,g,n){if(!A)return r;var s=1;if(-1===t&&(t=6),B<0?(s=0,B=-B):15<B&&(s=2,B-=16),g<1||9<g||8!==e||B<8||15<B||t<0||9<t||n<0||4<n)return E(A,r);8===B&&(B=9);var o=new m;return(A.state=o).strm=A,o.wrap=s,o.gzhead=null,o.w_bits=B,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=g+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new i.Buf8(2*o.w_size),o.head=new i.Buf16(o.hash_size),o.prev=new i.Buf16(o.w_size),o.lit_bufsize=1<<g+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new i.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=n,o.method=e,p(A)}B=[new F(0,0,0,0,(function(A,t){var e=65535;for(e>A.pending_buf_size-5&&(e=A.pending_buf_size-5);;){if(A.lookahead<=1){if(D(A),0===A.lookahead&&0===t)return 1;if(0===A.lookahead)break}A.strstart+=A.lookahead,A.lookahead=0;var B=A.block_start+e;if((0===A.strstart||A.strstart>=B)&&(A.lookahead=A.strstart-B,A.strstart=B,l(A,!1),0===A.strm.avail_out))return 1;if(A.strstart-A.block_start>=A.w_size-a&&(l(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===t?(l(A,!0),0===A.strm.avail_out?3:4):(A.strstart>A.block_start&&(l(A,!1),A.strm.avail_out),1)})),new F(4,4,8,4,u),new F(4,5,16,8,u),new F(4,6,32,32,u),new F(4,4,16,16,d),new F(8,16,32,32,d),new F(8,16,128,128,d),new F(8,32,128,256,d),new F(32,128,258,1024,d),new F(32,258,258,4096,d)],e.deflateInit=function(A,t){return G(A,t,8,15,8,0)},e.deflateInit2=G,e.deflateReset=p,e.deflateResetKeep=U,e.deflateSetHeader=function(A,t){return A&&A.state?2!==A.state.wrap?r:(A.state.gzhead=t,0):r},e.deflate=function(A,t){var e,i,n,o;if(!A||!A.state||5<t||t<0)return A?E(A,r):r;if(i=A.state,!A.output||!A.input&&0!==A.avail_in||666===i.status&&4!==t)return E(A,0===A.avail_out?-5:r);if(i.strm=A,e=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)A.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,255&i.gzhead.time),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,255&i.gzhead.extra.length),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(A.adler=s(A.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,3),i.status=c);else{var a=8+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=c,h(i,a),0!==i.strstart&&(h(i,A.adler>>>16),h(i,65535&A.adler)),A.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(A.adler=s(A.adler,i.pending_buf,i.pending-n,n)),I(A),n=i.pending,i.pending!==i.pending_buf_size));)M(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(A.adler=s(A.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(A.adler=s(A.adler,i.pending_buf,i.pending-n,n)),I(A),n=i.pending,i.pending===i.pending_buf_size)){o=1;break}o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,M(i,o)}while(0!==o);i.gzhead.hcrc&&i.pending>n&&(A.adler=s(A.adler,i.pending_buf,i.pending-n,n)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(A.adler=s(A.adler,i.pending_buf,i.pending-n,n)),I(A),n=i.pending,i.pending===i.pending_buf_size)){o=1;break}o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,M(i,o)}while(0!==o);i.gzhead.hcrc&&i.pending>n&&(A.adler=s(A.adler,i.pending_buf,i.pending-n,n)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&I(A),i.pending+2<=i.pending_buf_size&&(M(i,255&A.adler),M(i,A.adler>>8&255),A.adler=0,i.status=c)):i.status=c),0!==i.pending){if(I(A),0===A.avail_out)return i.last_flush=-1,0}else if(0===A.avail_in&&C(t)<=C(e)&&4!==t)return E(A,-5);if(666===i.status&&0!==A.avail_in)return E(A,-5);if(0!==A.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var Y=2===i.strategy?function(A,t){for(var e;;){if(0===A.lookahead&&(D(A),0===A.lookahead)){if(0===t)return 1;break}if(A.match_length=0,e=g._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,e&&(l(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===t?(l(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(l(A,!1),0===A.strm.avail_out)?1:2}(i,t):3===i.strategy?function(A,t){for(var e,B,i,n,s=A.window;;){if(A.lookahead<=Q){if(D(A),A.lookahead<=Q&&0===t)return 1;if(0===A.lookahead)break}if(A.match_length=0,A.lookahead>=3&&0<A.strstart&&(B=s[i=A.strstart-1])===s[++i]&&B===s[++i]&&B===s[++i]){n=A.strstart+Q;do{}while(B===s[++i]&&B===s[++i]&&B===s[++i]&&B===s[++i]&&B===s[++i]&&B===s[++i]&&B===s[++i]&&B===s[++i]&&i<n);A.match_length=Q-(n-i),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=3?(e=g._tr_tally(A,1,A.match_length-3),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(e=g._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),e&&(l(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===t?(l(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(l(A,!1),0===A.strm.avail_out)?1:2}(i,t):B[i.level].func(i,t);if(3!==Y&&4!==Y||(i.status=666),1===Y||3===Y)return 0===A.avail_out&&(i.last_flush=-1),0;if(2===Y&&(1===t?g._tr_align(i):5!==t&&(g._tr_stored_block(i,0,0,!1),3===t&&(w(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),I(A),0===A.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(M(i,255&A.adler),M(i,A.adler>>8&255),M(i,A.adler>>16&255),M(i,A.adler>>24&255),M(i,255&A.total_in),M(i,A.total_in>>8&255),M(i,A.total_in>>16&255),M(i,A.total_in>>24&255)):(h(i,A.adler>>>16),h(i,65535&A.adler)),I(A),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(A){var t;return A&&A.state?42!==(t=A.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==c&&666!==t?E(A,r):(A.state=null,t===c?E(A,-3):0):r},e.deflateSetDictionary=function(A,t){var e,B,g,s,o,Q,a,c,E=t.length;if(!A||!A.state)return r;if(2===(s=(e=A.state).wrap)||1===s&&42!==e.status||e.lookahead)return r;for(1===s&&(A.adler=n(A.adler,t,E,0)),e.wrap=0,E>=e.w_size&&(0===s&&(w(e.head),e.strstart=0,e.block_start=0,e.insert=0),c=new i.Buf8(e.w_size),i.arraySet(c,t,E-e.w_size,e.w_size,0),t=c,E=e.w_size),o=A.avail_in,Q=A.next_in,a=A.input,A.avail_in=E,A.next_in=0,A.input=t,D(e);e.lookahead>=3;){for(B=e.strstart,g=e.lookahead-2;e.ins_h=(e.ins_h<<e.hash_shift^e.window[B+3-1])&e.hash_mask,e.prev[B&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=B,B++,--g;);e.strstart=B,e.lookahead=2,D(e)}return e.strstart+=e.lookahead,e.block_start=e.strstart,e.insert=e.lookahead,e.lookahead=0,e.match_length=e.prev_length=2,e.match_available=0,A.next_in=Q,A.input=a,A.avail_in=o,e.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(A,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(A,t,e){"use strict";t.exports=function(A,t){var e,B,i,g,n,s,o,r,Q,a,c,E,C,w,I,l,M,h,Y,D,u,d,F,m,U;e=A.state,B=A.next_in,m=A.input,i=B+(A.avail_in-5),g=A.next_out,U=A.output,n=g-(t-A.avail_out),s=g+(A.avail_out-257),o=e.dmax,r=e.wsize,Q=e.whave,a=e.wnext,c=e.window,E=e.hold,C=e.bits,w=e.lencode,I=e.distcode,l=(1<<e.lenbits)-1,M=(1<<e.distbits)-1;A:do{C<15&&(E+=m[B++]<<C,C+=8,E+=m[B++]<<C,C+=8),h=w[E&l];t:for(;;){if(E>>>=Y=h>>>24,C-=Y,0==(Y=h>>>16&255))U[g++]=65535&h;else{if(!(16&Y)){if(0==(64&Y)){h=w[(65535&h)+(E&(1<<Y)-1)];continue t}if(32&Y){e.mode=12;break A}A.msg="invalid literal/length code",e.mode=30;break A}D=65535&h,(Y&=15)&&(C<Y&&(E+=m[B++]<<C,C+=8),D+=E&(1<<Y)-1,E>>>=Y,C-=Y),C<15&&(E+=m[B++]<<C,C+=8,E+=m[B++]<<C,C+=8),h=I[E&M];e:for(;;){if(E>>>=Y=h>>>24,C-=Y,!(16&(Y=h>>>16&255))){if(0==(64&Y)){h=I[(65535&h)+(E&(1<<Y)-1)];continue e}A.msg="invalid distance code",e.mode=30;break A}if(u=65535&h,C<(Y&=15)&&(E+=m[B++]<<C,(C+=8)<Y&&(E+=m[B++]<<C,C+=8)),o<(u+=E&(1<<Y)-1)){A.msg="invalid distance too far back",e.mode=30;break A}if(E>>>=Y,C-=Y,(Y=g-n)<u){if(Q<(Y=u-Y)&&e.sane){A.msg="invalid distance too far back",e.mode=30;break A}if(F=c,(d=0)===a){if(d+=r-Y,Y<D){for(D-=Y;U[g++]=c[d++],--Y;);d=g-u,F=U}}else if(a<Y){if(d+=r+a-Y,(Y-=a)<D){for(D-=Y;U[g++]=c[d++],--Y;);if(d=0,a<D){for(D-=Y=a;U[g++]=c[d++],--Y;);d=g-u,F=U}}}else if(d+=a-Y,Y<D){for(D-=Y;U[g++]=c[d++],--Y;);d=g-u,F=U}for(;2<D;)U[g++]=F[d++],U[g++]=F[d++],U[g++]=F[d++],D-=3;D&&(U[g++]=F[d++],1<D&&(U[g++]=F[d++]))}else{for(d=g-u;U[g++]=U[d++],U[g++]=U[d++],U[g++]=U[d++],2<(D-=3););D&&(U[g++]=U[d++],1<D&&(U[g++]=U[d++]))}break}}break}}while(B<i&&g<s);B-=D=C>>3,E&=(1<<(C-=D<<3))-1,A.next_in=B,A.next_out=g,A.avail_in=B<i?i-B+5:5-(B-i),A.avail_out=g<s?s-g+257:257-(g-s),e.hold=E,e.bits=C}},{}],49:[function(A,t,e){"use strict";var B=A("../utils/common"),i=A("./adler32"),g=A("./crc32"),n=A("./inffast"),s=A("./inftrees"),o=-2;function r(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function Q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new B.Buf16(320),this.work=new B.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(A){var t;return A&&A.state?(t=A.state,A.total_in=A.total_out=t.total=0,A.msg="",t.wrap&&(A.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new B.Buf32(852),t.distcode=t.distdyn=new B.Buf32(592),t.sane=1,t.back=-1,0):o}function c(A){var t;return A&&A.state?((t=A.state).wsize=0,t.whave=0,t.wnext=0,a(A)):o}function E(A,t){var e,B;return A&&A.state?(B=A.state,t<0?(e=0,t=-t):(e=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?o:(null!==B.window&&B.wbits!==t&&(B.window=null),B.wrap=e,B.wbits=t,c(A))):o}function C(A,t){var e,B;return A?(B=new Q,(A.state=B).window=null,0!==(e=E(A,t))&&(A.state=null),e):o}var w,I,l=!0;function M(A){if(l){var t;for(w=new B.Buf32(512),I=new B.Buf32(32),t=0;t<144;)A.lens[t++]=8;for(;t<256;)A.lens[t++]=9;for(;t<280;)A.lens[t++]=7;for(;t<288;)A.lens[t++]=8;for(s(1,A.lens,0,288,w,0,A.work,{bits:9}),t=0;t<32;)A.lens[t++]=5;s(2,A.lens,0,32,I,0,A.work,{bits:5}),l=!1}A.lencode=w,A.lenbits=9,A.distcode=I,A.distbits=5}function h(A,t,e,i){var g,n=A.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new B.Buf8(n.wsize)),i>=n.wsize?(B.arraySet(n.window,t,e-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):(i<(g=n.wsize-n.wnext)&&(g=i),B.arraySet(n.window,t,e-i,g,n.wnext),(i-=g)?(B.arraySet(n.window,t,e-i,i,0),n.wnext=i,n.whave=n.wsize):(n.wnext+=g,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=g))),0}e.inflateReset=c,e.inflateReset2=E,e.inflateResetKeep=a,e.inflateInit=function(A){return C(A,15)},e.inflateInit2=C,e.inflate=function(A,t){var e,Q,a,c,E,C,w,I,l,Y,D,u,d,F,m,U,p,G,N,y,f,R,k,S,J=0,x=new B.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return o;12===(e=A.state).mode&&(e.mode=13),E=A.next_out,a=A.output,w=A.avail_out,c=A.next_in,Q=A.input,C=A.avail_in,I=e.hold,l=e.bits,Y=C,D=w,R=0;A:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;l<16;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(2&e.wrap&&35615===I){x[e.check=0]=255&I,x[1]=I>>>8&255,e.check=g(e.check,x,2,0),l=I=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&I)<<8)+(I>>8))%31){A.msg="incorrect header check",e.mode=30;break}if(8!=(15&I)){A.msg="unknown compression method",e.mode=30;break}if(l-=4,f=8+(15&(I>>>=4)),0===e.wbits)e.wbits=f;else if(f>e.wbits){A.msg="invalid window size",e.mode=30;break}e.dmax=1<<f,A.adler=e.check=1,e.mode=512&I?10:12,l=I=0;break;case 2:for(;l<16;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(e.flags=I,8!=(255&e.flags)){A.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){A.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=I>>8&1),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,e.check=g(e.check,x,2,0)),l=I=0,e.mode=3;case 3:for(;l<32;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}e.head&&(e.head.time=I),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,x[2]=I>>>16&255,x[3]=I>>>24&255,e.check=g(e.check,x,4,0)),l=I=0,e.mode=4;case 4:for(;l<16;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}e.head&&(e.head.xflags=255&I,e.head.os=I>>8),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,e.check=g(e.check,x,2,0)),l=I=0,e.mode=5;case 5:if(1024&e.flags){for(;l<16;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}e.length=I,e.head&&(e.head.extra_len=I),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,e.check=g(e.check,x,2,0)),l=I=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(C<(u=e.length)&&(u=C),u&&(e.head&&(f=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),B.arraySet(e.head.extra,Q,c,u,f)),512&e.flags&&(e.check=g(e.check,Q,u,c)),C-=u,c+=u,e.length-=u),e.length))break A;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===C)break A;for(u=0;f=Q[c+u++],e.head&&f&&e.length<65536&&(e.head.name+=String.fromCharCode(f)),f&&u<C;);if(512&e.flags&&(e.check=g(e.check,Q,u,c)),C-=u,c+=u,f)break A}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===C)break A;for(u=0;f=Q[c+u++],e.head&&f&&e.length<65536&&(e.head.comment+=String.fromCharCode(f)),f&&u<C;);if(512&e.flags&&(e.check=g(e.check,Q,u,c)),C-=u,c+=u,f)break A}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;l<16;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(I!==(65535&e.check)){A.msg="header crc mismatch",e.mode=30;break}l=I=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),A.adler=e.check=0,e.mode=12;break;case 10:for(;l<32;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}A.adler=e.check=r(I),l=I=0,e.mode=11;case 11:if(0===e.havedict)return A.next_out=E,A.avail_out=w,A.next_in=c,A.avail_in=C,e.hold=I,e.bits=l,2;A.adler=e.check=1,e.mode=12;case 12:if(5===t||6===t)break A;case 13:if(e.last){I>>>=7&l,l-=7&l,e.mode=27;break}for(;l<3;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}switch(e.last=1&I,l-=1,3&(I>>>=1)){case 0:e.mode=14;break;case 1:if(M(e),e.mode=20,6!==t)break;I>>>=2,l-=2;break A;case 2:e.mode=17;break;case 3:A.msg="invalid block type",e.mode=30}I>>>=2,l-=2;break;case 14:for(I>>>=7&l,l-=7&l;l<32;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if((65535&I)!=(I>>>16^65535)){A.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&I,l=I=0,e.mode=15,6===t)break A;case 15:e.mode=16;case 16:if(u=e.length){if(C<u&&(u=C),w<u&&(u=w),0===u)break A;B.arraySet(a,Q,c,u,E),C-=u,c+=u,w-=u,E+=u,e.length-=u;break}e.mode=12;break;case 17:for(;l<14;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(e.nlen=257+(31&I),I>>>=5,l-=5,e.ndist=1+(31&I),I>>>=5,l-=5,e.ncode=4+(15&I),I>>>=4,l-=4,286<e.nlen||30<e.ndist){A.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;l<3;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}e.lens[H[e.have++]]=7&I,I>>>=3,l-=3}for(;e.have<19;)e.lens[H[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,k={bits:e.lenbits},R=s(0,e.lens,0,19,e.lencode,0,e.work,k),e.lenbits=k.bits,R){A.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;U=(J=e.lencode[I&(1<<e.lenbits)-1])>>>16&255,p=65535&J,!((m=J>>>24)<=l);){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(p<16)I>>>=m,l-=m,e.lens[e.have++]=p;else{if(16===p){for(S=m+2;l<S;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(I>>>=m,l-=m,0===e.have){A.msg="invalid bit length repeat",e.mode=30;break}f=e.lens[e.have-1],u=3+(3&I),I>>>=2,l-=2}else if(17===p){for(S=m+3;l<S;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}l-=m,f=0,u=3+(7&(I>>>=m)),I>>>=3,l-=3}else{for(S=m+7;l<S;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}l-=m,f=0,u=11+(127&(I>>>=m)),I>>>=7,l-=7}if(e.have+u>e.nlen+e.ndist){A.msg="invalid bit length repeat",e.mode=30;break}for(;u--;)e.lens[e.have++]=f}}if(30===e.mode)break;if(0===e.lens[256]){A.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,k={bits:e.lenbits},R=s(1,e.lens,0,e.nlen,e.lencode,0,e.work,k),e.lenbits=k.bits,R){A.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,k={bits:e.distbits},R=s(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,k),e.distbits=k.bits,R){A.msg="invalid distances set",e.mode=30;break}if(e.mode=20,6===t)break A;case 20:e.mode=21;case 21:if(6<=C&&258<=w){A.next_out=E,A.avail_out=w,A.next_in=c,A.avail_in=C,e.hold=I,e.bits=l,n(A,D),E=A.next_out,a=A.output,w=A.avail_out,c=A.next_in,Q=A.input,C=A.avail_in,I=e.hold,l=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;U=(J=e.lencode[I&(1<<e.lenbits)-1])>>>16&255,p=65535&J,!((m=J>>>24)<=l);){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(U&&0==(240&U)){for(G=m,N=U,y=p;U=(J=e.lencode[y+((I&(1<<G+N)-1)>>G)])>>>16&255,p=65535&J,!(G+(m=J>>>24)<=l);){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}I>>>=G,l-=G,e.back+=G}if(I>>>=m,l-=m,e.back+=m,e.length=p,0===U){e.mode=26;break}if(32&U){e.back=-1,e.mode=12;break}if(64&U){A.msg="invalid literal/length code",e.mode=30;break}e.extra=15&U,e.mode=22;case 22:if(e.extra){for(S=e.extra;l<S;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}e.length+=I&(1<<e.extra)-1,I>>>=e.extra,l-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;U=(J=e.distcode[I&(1<<e.distbits)-1])>>>16&255,p=65535&J,!((m=J>>>24)<=l);){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(0==(240&U)){for(G=m,N=U,y=p;U=(J=e.distcode[y+((I&(1<<G+N)-1)>>G)])>>>16&255,p=65535&J,!(G+(m=J>>>24)<=l);){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}I>>>=G,l-=G,e.back+=G}if(I>>>=m,l-=m,e.back+=m,64&U){A.msg="invalid distance code",e.mode=30;break}e.offset=p,e.extra=15&U,e.mode=24;case 24:if(e.extra){for(S=e.extra;l<S;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}e.offset+=I&(1<<e.extra)-1,I>>>=e.extra,l-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){A.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===w)break A;if(u=D-w,e.offset>u){if((u=e.offset-u)>e.whave&&e.sane){A.msg="invalid distance too far back",e.mode=30;break}d=u>e.wnext?(u-=e.wnext,e.wsize-u):e.wnext-u,u>e.length&&(u=e.length),F=e.window}else F=a,d=E-e.offset,u=e.length;for(w<u&&(u=w),w-=u,e.length-=u;a[E++]=F[d++],--u;);0===e.length&&(e.mode=21);break;case 26:if(0===w)break A;a[E++]=e.length,w--,e.mode=21;break;case 27:if(e.wrap){for(;l<32;){if(0===C)break A;C--,I|=Q[c++]<<l,l+=8}if(D-=w,A.total_out+=D,e.total+=D,D&&(A.adler=e.check=e.flags?g(e.check,a,D,E-D):i(e.check,a,D,E-D)),D=w,(e.flags?I:r(I))!==e.check){A.msg="incorrect data check",e.mode=30;break}l=I=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;l<32;){if(0===C)break A;C--,I+=Q[c++]<<l,l+=8}if(I!==(4294967295&e.total)){A.msg="incorrect length check",e.mode=30;break}l=I=0}e.mode=29;case 29:R=1;break A;case 30:R=-3;break A;case 31:return-4;case 32:default:return o}return A.next_out=E,A.avail_out=w,A.next_in=c,A.avail_in=C,e.hold=I,e.bits=l,(e.wsize||D!==A.avail_out&&e.mode<30&&(e.mode<27||4!==t))&&h(A,A.output,A.next_out,D-A.avail_out)?(e.mode=31,-4):(Y-=A.avail_in,D-=A.avail_out,A.total_in+=Y,A.total_out+=D,e.total+=D,e.wrap&&D&&(A.adler=e.check=e.flags?g(e.check,a,D,A.next_out-D):i(e.check,a,D,A.next_out-D)),A.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0==Y&&0===D||4===t)&&0===R&&(R=-5),R)},e.inflateEnd=function(A){if(!A||!A.state)return o;var t=A.state;return t.window&&(t.window=null),A.state=null,0},e.inflateGetHeader=function(A,t){var e;return A&&A.state?0==(2&(e=A.state).wrap)?o:((e.head=t).done=!1,0):o},e.inflateSetDictionary=function(A,t){var e,B=t.length;return A&&A.state?0!==(e=A.state).wrap&&11!==e.mode?o:11===e.mode&&i(1,t,B,0)!==e.check?-3:h(A,t,B,B)?(e.mode=31,-4):(e.havedict=1,0):o},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(A,t,e){"use strict";var B=A("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(A,t,e,o,r,Q,a,c){var E,C,w,I,l,M,h,Y,D,u=c.bits,d=0,F=0,m=0,U=0,p=0,G=0,N=0,y=0,f=0,R=0,k=null,S=0,J=new B.Buf16(16),x=new B.Buf16(16),H=null,T=0;for(d=0;d<=15;d++)J[d]=0;for(F=0;F<o;F++)J[t[e+F]]++;for(p=u,U=15;1<=U&&0===J[U];U--);if(U<p&&(p=U),0===U)return r[Q++]=20971520,r[Q++]=20971520,c.bits=1,0;for(m=1;m<U&&0===J[m];m++);for(p<m&&(p=m),d=y=1;d<=15;d++)if(y<<=1,(y-=J[d])<0)return-1;if(0<y&&(0===A||1!==U))return-1;for(x[1]=0,d=1;d<15;d++)x[d+1]=x[d]+J[d];for(F=0;F<o;F++)0!==t[e+F]&&(a[x[t[e+F]]++]=F);if(M=0===A?(k=H=a,19):1===A?(k=i,S-=257,H=g,T-=257,256):(k=n,H=s,-1),d=m,l=Q,N=F=R=0,w=-1,I=(f=1<<(G=p))-1,1===A&&852<f||2===A&&592<f)return 1;for(;;){for(h=d-N,D=a[F]<M?(Y=0,a[F]):a[F]>M?(Y=H[T+a[F]],k[S+a[F]]):(Y=96,0),E=1<<d-N,m=C=1<<G;r[l+(R>>N)+(C-=E)]=h<<24|Y<<16|D|0,0!==C;);for(E=1<<d-1;R&E;)E>>=1;if(0!==E?(R&=E-1,R+=E):R=0,F++,0==--J[d]){if(d===U)break;d=t[e+a[F]]}if(p<d&&(R&I)!==w){for(0===N&&(N=p),l+=m,y=1<<(G=d-N);G+N<U&&!((y-=J[G+N])<=0);)G++,y<<=1;if(f+=1<<G,1===A&&852<f||2===A&&592<f)return 1;r[w=R&I]=p<<24|G<<16|l-Q|0}}return 0!==R&&(r[l+R]=d-N<<24|64<<16|0),c.bits=p,0}},{"../utils/common":41}],51:[function(A,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(A,t,e){"use strict";var B=A("../utils/common");function i(A){for(var t=A.length;0<=--t;)A[t]=0}var g=256,n=286,s=30,o=15,r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(576);i(E);var C=new Array(60);i(C);var w=new Array(512);i(w);var I=new Array(256);i(I);var l=new Array(29);i(l);var M,h,Y,D=new Array(s);function u(A,t,e,B,i){this.static_tree=A,this.extra_bits=t,this.extra_base=e,this.elems=B,this.max_length=i,this.has_stree=A&&A.length}function d(A,t){this.dyn_tree=A,this.max_code=0,this.stat_desc=t}function F(A){return A<256?w[A]:w[256+(A>>>7)]}function m(A,t){A.pending_buf[A.pending++]=255&t,A.pending_buf[A.pending++]=t>>>8&255}function U(A,t,e){A.bi_valid>16-e?(A.bi_buf|=t<<A.bi_valid&65535,m(A,A.bi_buf),A.bi_buf=t>>16-A.bi_valid,A.bi_valid+=e-16):(A.bi_buf|=t<<A.bi_valid&65535,A.bi_valid+=e)}function p(A,t,e){U(A,e[2*t],e[2*t+1])}function G(A,t){for(var e=0;e|=1&A,A>>>=1,e<<=1,0<--t;);return e>>>1}function N(A,t,e){var B,i,g=new Array(16),n=0;for(B=1;B<=o;B++)g[B]=n=n+e[B-1]<<1;for(i=0;i<=t;i++){var s=A[2*i+1];0!==s&&(A[2*i]=G(g[s]++,s))}}function y(A){var t;for(t=0;t<n;t++)A.dyn_ltree[2*t]=0;for(t=0;t<s;t++)A.dyn_dtree[2*t]=0;for(t=0;t<19;t++)A.bl_tree[2*t]=0;A.dyn_ltree[512]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function f(A){8<A.bi_valid?m(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function R(A,t,e,B){var i=2*t,g=2*e;return A[i]<A[g]||A[i]===A[g]&&B[t]<=B[e]}function k(A,t,e){for(var B=A.heap[e],i=e<<1;i<=A.heap_len&&(i<A.heap_len&&R(t,A.heap[i+1],A.heap[i],A.depth)&&i++,!R(t,B,A.heap[i],A.depth));)A.heap[e]=A.heap[i],e=i,i<<=1;A.heap[e]=B}function S(A,t,e){var B,i,n,s,o=0;if(0!==A.last_lit)for(;B=A.pending_buf[A.d_buf+2*o]<<8|A.pending_buf[A.d_buf+2*o+1],i=A.pending_buf[A.l_buf+o],o++,0===B?p(A,i,t):(p(A,(n=I[i])+g+1,t),0!==(s=r[n])&&U(A,i-=l[n],s),p(A,n=F(--B),e),0!==(s=Q[n])&&U(A,B-=D[n],s)),o<A.last_lit;);p(A,256,t)}function J(A,t){var e,B,i,g=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,r=t.stat_desc.elems,Q=-1;for(A.heap_len=0,A.heap_max=573,e=0;e<r;e++)0!==g[2*e]?(A.heap[++A.heap_len]=Q=e,A.depth[e]=0):g[2*e+1]=0;for(;A.heap_len<2;)g[2*(i=A.heap[++A.heap_len]=Q<2?++Q:0)]=1,A.depth[i]=0,A.opt_len--,s&&(A.static_len-=n[2*i+1]);for(t.max_code=Q,e=A.heap_len>>1;1<=e;e--)k(A,g,e);for(i=r;e=A.heap[1],A.heap[1]=A.heap[A.heap_len--],k(A,g,1),B=A.heap[1],A.heap[--A.heap_max]=e,A.heap[--A.heap_max]=B,g[2*i]=g[2*e]+g[2*B],A.depth[i]=(A.depth[e]>=A.depth[B]?A.depth[e]:A.depth[B])+1,g[2*e+1]=g[2*B+1]=i,A.heap[1]=i++,k(A,g,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(A,t){var e,B,i,g,n,s,r=t.dyn_tree,Q=t.max_code,a=t.stat_desc.static_tree,c=t.stat_desc.has_stree,E=t.stat_desc.extra_bits,C=t.stat_desc.extra_base,w=t.stat_desc.max_length,I=0;for(g=0;g<=o;g++)A.bl_count[g]=0;for(r[2*A.heap[A.heap_max]+1]=0,e=A.heap_max+1;e<573;e++)w<(g=r[2*r[2*(B=A.heap[e])+1]+1]+1)&&(g=w,I++),r[2*B+1]=g,Q<B||(A.bl_count[g]++,n=0,C<=B&&(n=E[B-C]),s=r[2*B],A.opt_len+=s*(g+n),c&&(A.static_len+=s*(a[2*B+1]+n)));if(0!==I){do{for(g=w-1;0===A.bl_count[g];)g--;A.bl_count[g]--,A.bl_count[g+1]+=2,A.bl_count[w]--,I-=2}while(0<I);for(g=w;0!==g;g--)for(B=A.bl_count[g];0!==B;)Q<(i=A.heap[--e])||(r[2*i+1]!==g&&(A.opt_len+=(g-r[2*i+1])*r[2*i],r[2*i+1]=g),B--)}}(A,t),N(g,Q,A.bl_count)}function x(A,t,e){var B,i,g=-1,n=t[1],s=0,o=7,r=4;for(0===n&&(o=138,r=3),t[2*(e+1)+1]=65535,B=0;B<=e;B++)i=n,n=t[2*(B+1)+1],++s<o&&i===n||(s<r?A.bl_tree[2*i]+=s:0!==i?(i!==g&&A.bl_tree[2*i]++,A.bl_tree[32]++):s<=10?A.bl_tree[34]++:A.bl_tree[36]++,g=i,r=(s=0)===n?(o=138,3):i===n?(o=6,3):(o=7,4))}function H(A,t,e){var B,i,g=-1,n=t[1],s=0,o=7,r=4;for(0===n&&(o=138,r=3),B=0;B<=e;B++)if(i=n,n=t[2*(B+1)+1],!(++s<o&&i===n)){if(s<r)for(;p(A,i,A.bl_tree),0!=--s;);else 0!==i?(i!==g&&(p(A,i,A.bl_tree),s--),p(A,16,A.bl_tree),U(A,s-3,2)):s<=10?(p(A,17,A.bl_tree),U(A,s-3,3)):(p(A,18,A.bl_tree),U(A,s-11,7));g=i,r=(s=0)===n?(o=138,3):i===n?(o=6,3):(o=7,4)}}i(D);var T=!1;function j(A,t,e,i){U(A,0+(i?1:0),3),function(A,t,e,i){f(A),m(A,e),m(A,~e),B.arraySet(A.pending_buf,A.window,t,e,A.pending),A.pending+=e}(A,t,e)}e._tr_init=function(A){T||(function(){var A,t,e,B,i,g=new Array(16);for(B=e=0;B<28;B++)for(l[B]=e,A=0;A<1<<r[B];A++)I[e++]=B;for(I[e-1]=B,B=i=0;B<16;B++)for(D[B]=i,A=0;A<1<<Q[B];A++)w[i++]=B;for(i>>=7;B<s;B++)for(D[B]=i<<7,A=0;A<1<<Q[B]-7;A++)w[256+i++]=B;for(t=0;t<=o;t++)g[t]=0;for(A=0;A<=143;)E[2*A+1]=8,A++,g[8]++;for(;A<=255;)E[2*A+1]=9,A++,g[9]++;for(;A<=279;)E[2*A+1]=7,A++,g[7]++;for(;A<=287;)E[2*A+1]=8,A++,g[8]++;for(N(E,287,g),A=0;A<s;A++)C[2*A+1]=5,C[2*A]=G(A,5);M=new u(E,r,257,n,o),h=new u(C,Q,0,s,o),Y=new u(new Array(0),a,0,19,7)}(),T=!0),A.l_desc=new d(A.dyn_ltree,M),A.d_desc=new d(A.dyn_dtree,h),A.bl_desc=new d(A.bl_tree,Y),A.bi_buf=0,A.bi_valid=0,y(A)},e._tr_stored_block=j,e._tr_flush_block=function(A,t,e,B){var i,n,s=0;0<A.level?(2===A.strm.data_type&&(A.strm.data_type=function(A){var t,e=4093624447;for(t=0;t<=31;t++,e>>>=1)if(1&e&&0!==A.dyn_ltree[2*t])return 0;if(0!==A.dyn_ltree[18]||0!==A.dyn_ltree[20]||0!==A.dyn_ltree[26])return 1;for(t=32;t<g;t++)if(0!==A.dyn_ltree[2*t])return 1;return 0}(A)),J(A,A.l_desc),J(A,A.d_desc),s=function(A){var t;for(x(A,A.dyn_ltree,A.l_desc.max_code),x(A,A.dyn_dtree,A.d_desc.max_code),J(A,A.bl_desc),t=18;3<=t&&0===A.bl_tree[2*c[t]+1];t--);return A.opt_len+=3*(t+1)+5+5+4,t}(A),i=A.opt_len+3+7>>>3,(n=A.static_len+3+7>>>3)<=i&&(i=n)):i=n=e+5,e+4<=i&&-1!==t?j(A,t,e,B):4===A.strategy||n===i?(U(A,2+(B?1:0),3),S(A,E,C)):(U(A,4+(B?1:0),3),function(A,t,e,B){var i;for(U(A,t-257,5),U(A,e-1,5),U(A,B-4,4),i=0;i<B;i++)U(A,A.bl_tree[2*c[i]+1],3);H(A,A.dyn_ltree,t-1),H(A,A.dyn_dtree,e-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,s+1),S(A,A.dyn_ltree,A.dyn_dtree)),y(A),B&&f(A)},e._tr_tally=function(A,t,e){return A.pending_buf[A.d_buf+2*A.last_lit]=t>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&t,A.pending_buf[A.l_buf+A.last_lit]=255&e,A.last_lit++,0===t?A.dyn_ltree[2*e]++:(A.matches++,t--,A.dyn_ltree[2*(I[e]+g+1)]++,A.dyn_dtree[2*F(t)]++),A.last_lit===A.lit_bufsize-1},e._tr_align=function(A){U(A,2,3),p(A,256,E),function(A){16===A.bi_valid?(m(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):8<=A.bi_valid&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(A,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(A,t,e){(function(A){!function(A,t){"use strict";if(!A.setImmediate){var e,B,g,n,s=1,o={},r=!1,Q=A.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(A);a=a&&a.setTimeout?a:A,e="[object process]"==={}.toString.call(A.process)?function(A){i.nextTick((function(){E(A)}))}:function(){if(A.postMessage&&!A.importScripts){var t=!0,e=A.onmessage;return A.onmessage=function(){t=!1},A.postMessage("","*"),A.onmessage=e,t}}()?(n="setImmediate$"+Math.random()+"$",A.addEventListener?A.addEventListener("message",C,!1):A.attachEvent("onmessage",C),function(t){A.postMessage(n+t,"*")}):A.MessageChannel?((g=new MessageChannel).port1.onmessage=function(A){E(A.data)},function(A){g.port2.postMessage(A)}):Q&&"onreadystatechange"in Q.createElement("script")?(B=Q.documentElement,function(A){var t=Q.createElement("script");t.onreadystatechange=function(){E(A),t.onreadystatechange=null,B.removeChild(t),t=null},B.appendChild(t)}):function(A){setTimeout(E,0,A)},a.setImmediate=function(A){"function"!=typeof A&&(A=new Function(""+A));for(var t=new Array(arguments.length-1),B=0;B<t.length;B++)t[B]=arguments[B+1];var i={callback:A,args:t};return o[s]=i,e(s),s++},a.clearImmediate=c}function c(A){delete o[A]}function E(A){if(r)setTimeout(E,0,A);else{var t=o[A];if(t){r=!0;try{!function(A){var t=A.callback,e=A.args;switch(e.length){case 0:t();break;case 1:t(e[0]);break;case 2:t(e[0],e[1]);break;case 3:t(e[0],e[1],e[2]);break;default:t.apply(void 0,e)}}(t)}finally{c(A),r=!1}}}}function C(t){t.source===A&&"string"==typeof t.data&&0===t.data.indexOf(n)&&E(+t.data.slice(n.length))}}("undefined"==typeof self?void 0===A?this:A:self)}).call(this,void 0!==B?B:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,e(13).Buffer,e(142).setImmediate,e(10),e(44))},function(A,t,e){var B=e(145),i=B.enable,g=B.disable,n="undefined"!=typeof navigator&&/chrome/i.test(navigator.userAgent),s=e(148);if(B.defaultBackend=n?s.minilog:s,"undefined"!=typeof window){try{B.enable(JSON.parse(window.localStorage.minilogSettings))}catch(A){}if(window.location&&window.location.search){var o=RegExp("[?&]minilog=([^&]*)").exec(window.location.search);o&&B.enable(decodeURIComponent(o[1]))}}B.enable=function(){i.call(B,!0);try{window.localStorage.minilogSettings=JSON.stringify(!0)}catch(A){}return this},B.disable=function(){g.call(B);try{delete window.localStorage.minilogSettings}catch(A){}return this},(A.exports=B).backends={array:e(151),browser:B.defaultBackend,localStorage:e(152),jQuery:e(153)}},function(A,t){class e{static get RGB_BLACK(){return{r:0,g:0,b:0}}static get RGB_WHITE(){return{r:255,g:255,b:255}}static decimalToHex(A){A<0&&(A+=16777216);let t=Number(A).toString(16);return t="#".concat("000000".substr(0,6-t.length)).concat(t),t}static decimalToRgb(A){const t=A>>24&255;return{r:A>>16&255,g:A>>8&255,b:255&A,a:t>0?t:255}}static hexToRgb(A){A.startsWith("#")&&(A=A.substring(1));const t=parseInt(A,16);if(isNaN(t))return null;if(6===A.length)return{r:t>>16&255,g:t>>8&255,b:255&t};if(3===A.length){const A=t>>8&15,e=t>>4&15,B=15&t;return{r:A<<4|A,g:e<<4|e,b:B<<4|B}}return null}static rgbToHex(A){return e.decimalToHex(e.rgbToDecimal(A))}static rgbToDecimal(A){return(A.r<<16)+(A.g<<8)+A.b}static hexToDecimal(A){return e.rgbToDecimal(e.hexToRgb(A))}static hsvToRgb(A){let t=A.h%360;t<0&&(t+=360);const e=Math.max(0,Math.min(A.s,1)),B=Math.max(0,Math.min(A.v,1)),i=Math.floor(t/60),g=t/60-i,n=B*(1-e),s=B*(1-e*g),o=B*(1-e*(1-g));let r,Q,a;switch(i){default:case 0:r=B,Q=o,a=n;break;case 1:r=s,Q=B,a=n;break;case 2:r=n,Q=B,a=o;break;case 3:r=n,Q=s,a=B;break;case 4:r=o,Q=n,a=B;break;case 5:r=B,Q=n,a=s}return{r:Math.floor(255*r),g:Math.floor(255*Q),b:Math.floor(255*a)}}static rgbToHsv(A){const t=A.r/255,e=A.g/255,B=A.b/255,i=Math.min(Math.min(t,e),B),g=Math.max(Math.max(t,e),B);let n=0,s=0;if(i!==g){n=60*((t===i?3:e===i?5:1)-(t===i?e-B:e===i?B-t:t-e)/(g-i))%360,s=(g-i)/g}return{h:n,s:s,v:g}}static mixRgb(A,t,e){if(e<=0)return A;if(e>=1)return t;const B=1-e;return{r:B*A.r+e*t.r,g:B*A.g+e*t.g,b:B*A.b+e*t.b}}}A.exports=e},function(A,t,e){A.exports=function(){"use strict";var A=Array.prototype.slice;function t(A,t){t&&(A.prototype=Object.create(t.prototype)),A.prototype.constructor=A}function e(A){return n(A)?A:z(A)}function B(A){return s(A)?A:W(A)}function i(A){return o(A)?A:K(A)}function g(A){return n(A)&&!r(A)?A:L(A)}function n(A){return!(!A||!A[a])}function s(A){return!(!A||!A[c])}function o(A){return!(!A||!A[E])}function r(A){return s(A)||o(A)}function Q(A){return!(!A||!A[C])}t(B,e),t(i,e),t(g,e),e.isIterable=n,e.isKeyed=s,e.isIndexed=o,e.isAssociative=r,e.isOrdered=Q,e.Keyed=B,e.Indexed=i,e.Set=g;var a="@@__IMMUTABLE_ITERABLE__@@",c="@@__IMMUTABLE_KEYED__@@",E="@@__IMMUTABLE_INDEXED__@@",C="@@__IMMUTABLE_ORDERED__@@",w={},I={value:!1},l={value:!1};function M(A){return A.value=!1,A}function h(A){A&&(A.value=!0)}function Y(){}function D(A,t){t=t||0;for(var e=Math.max(0,A.length-t),B=new Array(e),i=0;i<e;i++)B[i]=A[i+t];return B}function u(A){return void 0===A.size&&(A.size=A.__iterate(F)),A.size}function d(A,t){if("number"!=typeof t){var e=t>>>0;if(""+e!==t||4294967295===e)return NaN;t=e}return t<0?u(A)+t:t}function F(){return!0}function m(A,t,e){return(0===A||void 0!==e&&A<=-e)&&(void 0===t||void 0!==e&&t>=e)}function U(A,t){return G(A,t,0)}function p(A,t){return G(A,t,t)}function G(A,t,e){return void 0===A?e:A<0?Math.max(0,t+A):void 0===t?A:Math.min(t,A)}var N,y,f,R="function"==typeof Symbol&&Symbol.iterator,k=R||"@@iterator";function S(A){this.next=A}function J(A,t,e,B){var i=0===A?t:1===A?e:[t,e];return B?B.value=i:B={value:i,done:!1},B}function x(){return{value:void 0,done:!0}}function H(A){return!!b(A)}function T(A){return A&&"function"==typeof A.next}function j(A){var t=b(A);return t&&t.call(A)}function b(A){var t=A&&(R&&A[R]||A["@@iterator"]);if("function"==typeof t)return t}function V(A){return A&&"number"==typeof A.length}function z(A){return null==A?X():n(A)?A.toSeq():function(A){var t=AA(A)||"object"==typeof A&&new P(A);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+A);return t}(A)}function W(A){return null==A?X().toKeyedSeq():n(A)?s(A)?A.toSeq():A.fromEntrySeq():_(A)}function K(A){return null==A?X():n(A)?s(A)?A.entrySeq():A.toIndexedSeq():$(A)}function L(A){return(null==A?X():n(A)?s(A)?A.entrySeq():A:$(A)).toSetSeq()}function v(A){this._array=A,this.size=A.length}function P(A){var t=Object.keys(A);this._object=A,this._keys=t,this.size=t.length}function O(A){this._iterable=A,this.size=A.length||A.size}function q(A){this._iterator=A,this._iteratorCache=[]}function Z(A){return!(!A||!A["@@__IMMUTABLE_SEQ__@@"])}function X(){return N||(N=new v([]))}function _(A){var t=Array.isArray(A)?new v(A).fromEntrySeq():T(A)?new q(A).fromEntrySeq():H(A)?new O(A).fromEntrySeq():"object"==typeof A?new P(A):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+A);return t}function $(A){var t=AA(A);if(!t)throw new TypeError("Expected Array or iterable object of values: "+A);return t}function AA(A){return V(A)?new v(A):T(A)?new q(A):H(A)?new O(A):void 0}function tA(A,t,e,B){var i=A._cache;if(i){for(var g=i.length-1,n=0;n<=g;n++){var s=i[e?g-n:n];if(!1===t(s[1],B?s[0]:n,A))return n+1}return n}return A.__iterateUncached(t,e)}function eA(A,t,e,B){var i=A._cache;if(i){var g=i.length-1,n=0;return new S((function(){var A=i[e?g-n:n];return n++>g?{value:void 0,done:!0}:J(t,B?A[0]:n-1,A[1])}))}return A.__iteratorUncached(t,e)}function BA(A,t){return t?function A(t,e,B,i){return Array.isArray(e)?t.call(i,B,K(e).map((function(B,i){return A(t,B,i,e)}))):gA(e)?t.call(i,B,W(e).map((function(B,i){return A(t,B,i,e)}))):e}(t,A,"",{"":A}):iA(A)}function iA(A){return Array.isArray(A)?K(A).map(iA).toList():gA(A)?W(A).map(iA).toMap():A}function gA(A){return A&&(A.constructor===Object||void 0===A.constructor)}function nA(A,t){if(A===t||A!=A&&t!=t)return!0;if(!A||!t)return!1;if("function"==typeof A.valueOf&&"function"==typeof t.valueOf){if((A=A.valueOf())===(t=t.valueOf())||A!=A&&t!=t)return!0;if(!A||!t)return!1}return!("function"!=typeof A.equals||"function"!=typeof t.equals||!A.equals(t))}function sA(A,t){if(A===t)return!0;if(!n(t)||void 0!==A.size&&void 0!==t.size&&A.size!==t.size||void 0!==A.__hash&&void 0!==t.__hash&&A.__hash!==t.__hash||s(A)!==s(t)||o(A)!==o(t)||Q(A)!==Q(t))return!1;if(0===A.size&&0===t.size)return!0;var e=!r(A);if(Q(A)){var B=A.entries();return t.every((function(A,t){var i=B.next().value;return i&&nA(i[1],A)&&(e||nA(i[0],t))}))&&B.next().done}var i=!1;if(void 0===A.size)if(void 0===t.size)"function"==typeof A.cacheResult&&A.cacheResult();else{i=!0;var g=A;A=t,t=g}var a=!0,c=t.__iterate((function(t,B){if(e?!A.has(t):i?!nA(t,A.get(B,w)):!nA(A.get(B,w),t))return a=!1,!1}));return a&&A.size===c}function oA(A,t){if(!(this instanceof oA))return new oA(A,t);if(this._value=A,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(y)return y;y=this}}function rA(A,t){if(!A)throw new Error(t)}function QA(A,t,e){if(!(this instanceof QA))return new QA(A,t,e);if(rA(0!==e,"Cannot step a Range by 0"),A=A||0,void 0===t&&(t=1/0),e=void 0===e?1:Math.abs(e),t<A&&(e=-e),this._start=A,this._end=t,this._step=e,this.size=Math.max(0,Math.ceil((t-A)/e-1)+1),0===this.size){if(f)return f;f=this}}function aA(){throw TypeError("Abstract")}function cA(){}function EA(){}function CA(){}S.prototype.toString=function(){return"[Iterator]"},S.KEYS=0,S.VALUES=1,S.ENTRIES=2,S.prototype.inspect=S.prototype.toSource=function(){return this.toString()},S.prototype[k]=function(){return this},t(z,e),z.of=function(){return z(arguments)},z.prototype.toSeq=function(){return this},z.prototype.toString=function(){return this.__toString("Seq {","}")},z.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},z.prototype.__iterate=function(A,t){return tA(this,A,t,!0)},z.prototype.__iterator=function(A,t){return eA(this,A,t,!0)},t(W,z),W.prototype.toKeyedSeq=function(){return this},t(K,z),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(A,t){return tA(this,A,t,!1)},K.prototype.__iterator=function(A,t){return eA(this,A,t,!1)},t(L,z),L.of=function(){return L(arguments)},L.prototype.toSetSeq=function(){return this},z.isSeq=Z,z.Keyed=W,z.Set=L,z.Indexed=K,z.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,t(v,K),v.prototype.get=function(A,t){return this.has(A)?this._array[d(this,A)]:t},v.prototype.__iterate=function(A,t){for(var e=this._array,B=e.length-1,i=0;i<=B;i++)if(!1===A(e[t?B-i:i],i,this))return i+1;return i},v.prototype.__iterator=function(A,t){var e=this._array,B=e.length-1,i=0;return new S((function(){return i>B?{value:void 0,done:!0}:J(A,i,e[t?B-i++:i++])}))},t(P,W),P.prototype.get=function(A,t){return void 0===t||this.has(A)?this._object[A]:t},P.prototype.has=function(A){return this._object.hasOwnProperty(A)},P.prototype.__iterate=function(A,t){for(var e=this._object,B=this._keys,i=B.length-1,g=0;g<=i;g++){var n=B[t?i-g:g];if(!1===A(e[n],n,this))return g+1}return g},P.prototype.__iterator=function(A,t){var e=this._object,B=this._keys,i=B.length-1,g=0;return new S((function(){var n=B[t?i-g:g];return g++>i?{value:void 0,done:!0}:J(A,n,e[n])}))},P.prototype[C]=!0,t(O,K),O.prototype.__iterateUncached=function(A,t){if(t)return this.cacheResult().__iterate(A,t);var e=j(this._iterable),B=0;if(T(e))for(var i;!(i=e.next()).done&&!1!==A(i.value,B++,this););return B},O.prototype.__iteratorUncached=function(A,t){if(t)return this.cacheResult().__iterator(A,t);var e=j(this._iterable);if(!T(e))return new S(x);var B=0;return new S((function(){var t=e.next();return t.done?t:J(A,B++,t.value)}))},t(q,K),q.prototype.__iterateUncached=function(A,t){if(t)return this.cacheResult().__iterate(A,t);for(var e,B=this._iterator,i=this._iteratorCache,g=0;g<i.length;)if(!1===A(i[g],g++,this))return g;for(;!(e=B.next()).done;){var n=e.value;if(i[g]=n,!1===A(n,g++,this))break}return g},q.prototype.__iteratorUncached=function(A,t){if(t)return this.cacheResult().__iterator(A,t);var e=this._iterator,B=this._iteratorCache,i=0;return new S((function(){if(i>=B.length){var t=e.next();if(t.done)return t;B[i]=t.value}return J(A,i,B[i++])}))},t(oA,K),oA.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},oA.prototype.get=function(A,t){return this.has(A)?this._value:t},oA.prototype.includes=function(A){return nA(this._value,A)},oA.prototype.slice=function(A,t){var e=this.size;return m(A,t,e)?this:new oA(this._value,p(t,e)-U(A,e))},oA.prototype.reverse=function(){return this},oA.prototype.indexOf=function(A){return nA(this._value,A)?0:-1},oA.prototype.lastIndexOf=function(A){return nA(this._value,A)?this.size:-1}
